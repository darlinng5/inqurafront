"use strict";(self.webpackChunksakai=self.webpackChunksakai||[]).push([[536],{536:(S,v,a)=>{a.r(v),a.d(v,{ProductosModule:()=>me});var u=a(9808),p=a(8952),_=a(5077),T=a(1546),h=a(9783);class c{}class g{}var d=a(9019),e=a(5e3),m=a(7747),l=a(5384),P=a(845),f=a(3075),b=a(5787),M=a(7773),y=a(4534),A=a(8018),N=a(1424),q=a(3407),I=a(9603),w=a(7010),U=a(5315),J=a(7116),D=a(6768);function E(n,s){1&n&&(e.TgZ(0,"div"),e._UZ(1,"app-progress-bar"),e.qZA())}function B(n,s){1&n&&(e.TgZ(0,"div")(1,"p")(2,"FONT",19),e._uU(3,"Para poder transaccionar debe tener creada una empresa "),e.qZA()()())}function H(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",20)(1,"button",21),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.openNew())}),e.qZA(),e.TgZ(2,"button",22),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.deleteSelectedProducts())}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("disabled",!t.selectedProducts||!t.selectedProducts.length)}}function G(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",23),e.NdJ("click",function(){e.CHM(t),e.oxw();const o=e.MAs(10);return e.KtG(o.exportCSV())}),e.qZA()}}function Q(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",24)(1,"h5",25),e._uU(2,"Manage Products"),e.qZA(),e.TgZ(3,"span",26),e._UZ(4,"i",27),e.TgZ(5,"input",28),e.NdJ("input",function(o){e.CHM(t);const i=e.oxw(),x=e.MAs(10);return e.KtG(i.onGlobalFilter(x,o))}),e.qZA()()()}}function R(n,s){1&n&&(e.TgZ(0,"tr")(1,"th",29),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",30),e._uU(4,"Id "),e._UZ(5,"p-sortIcon",31),e.qZA(),e.TgZ(6,"th",32),e._uU(7,"Producto"),e._UZ(8,"p-sortIcon",33),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Imagen"),e.qZA(),e.TgZ(11,"th",34),e._uU(12,"Precio "),e._UZ(13,"p-sortIcon",35),e.qZA(),e.TgZ(14,"th",36),e._uU(15,"Impuesto "),e._UZ(16,"p-sortIcon",37),e.qZA(),e.TgZ(17,"th",38),e._uU(18,"Ubicacion "),e._UZ(19,"p-sortIcon",39),e.qZA(),e.TgZ(20,"th",40),e._uU(21,"Categoria "),e._UZ(22,"p-sortIcon",41),e.qZA(),e.TgZ(23,"th",42),e._uU(24,"Unidad Medida "),e._UZ(25,"p-sortIcon",43),e.qZA(),e.TgZ(26,"th",44),e._uU(27,"Ventas "),e._UZ(28,"p-sortIcon",45),e.qZA(),e.TgZ(29,"th",46),e._uU(30,"Cantidad Actual "),e._UZ(31,"p-sortIcon",47),e.qZA(),e.TgZ(32,"th",48),e._uU(33,"Stock "),e._UZ(34,"p-sortIcon",49),e.qZA(),e.TgZ(35,"th"),e._uU(36," Editar/Agr. Inventario/ Ajuste / Eliminar "),e.qZA()())}function k(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",50),e.qZA(),e.TgZ(3,"td",51)(4,"span",52),e._uU(5,"Code"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",51)(8,"span",52),e._uU(9,"Name"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td",51)(12,"span",52),e._uU(13,"Image"),e.qZA(),e._UZ(14,"img",53),e.qZA(),e.TgZ(15,"td",54)(16,"span",52),e._uU(17,"Price"),e.qZA(),e._uU(18),e.ALo(19,"currency"),e.qZA(),e.TgZ(20,"td",51)(21,"span",52),e._uU(22,"taxName"),e.qZA(),e._uU(23),e.qZA(),e.TgZ(24,"td",51)(25,"span",52),e._uU(26,"CategoryName"),e.qZA(),e._uU(27),e.qZA(),e.TgZ(28,"td",51)(29,"span",52),e._uU(30,"CategoryName"),e.qZA(),e._uU(31),e.qZA(),e.TgZ(32,"td",51)(33,"span",52),e._uU(34,"unitMeasurement"),e.qZA(),e._uU(35),e.qZA(),e.TgZ(36,"td",51)(37,"span",52),e._uU(38,"Reviews"),e.qZA(),e._UZ(39,"p-rating",55),e.qZA(),e.TgZ(40,"td",51)(41,"span",52),e._uU(42,"actualInventary"),e.qZA(),e._uU(43),e.qZA(),e.TgZ(44,"td",51)(45,"span",52),e._uU(46,"Status"),e.qZA(),e.TgZ(47,"span"),e._uU(48),e.qZA()(),e.TgZ(49,"td")(50,"div",56)(51,"button",57),e.NdJ("click",function(){const i=e.CHM(t).$implicit,x=e.oxw();return e.KtG(x.deleteProduct(i))}),e.qZA()()()()}if(2&n){const t=s.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(4),e.hij(" ",t.code||t.productId," "),e.xp6(4),e.hij(" ",t.productName," "),e.xp6(4),e.Q6J("alt",t.productName),e.xp6(4),e.hij(" ",e.xi3(19,16,t.productPrice,"L")," "),e.xp6(5),e.hij(" ",t.taxName," "),e.xp6(4),e.hij(" ",t.localizationName," "),e.xp6(4),e.hij(" ",t.categoryName," "),e.xp6(4),e.hij(" ",t.unitMeasurement," "),e.xp6(4),e.Q6J("ngModel",4)("readonly",!0)("cancel",!1),e.xp6(4),e.hij(" ",t.actualInventary," "),e.xp6(4),e.Tol("product-badge status-"+(t.inventoryStatus?t.inventoryStatus.toLowerCase():"")),e.xp6(1),e.Oqu(t.inventoryStatus)}}function K(n,s){if(1&n&&e._UZ(0,"img",85),2&n){const t=e.oxw(2);e.Q6J("alt",t.product.image)}}function z(n,s){1&n&&(e.TgZ(0,"small",86),e._uU(1,"El Nombre es requerido"),e.qZA())}function j(n,s){1&n&&(e.TgZ(0,"small",86),e._uU(1,"El codigo es requerido"),e.qZA())}function F(n,s){1&n&&(e.TgZ(0,"div"),e._UZ(1,"app-progress-bar"),e.qZA())}const Z=function(n){return{"ng-invalid ng-dirty":n}};function Y(n,s){if(1&n){const t=e.EpF();e.YNc(0,K,1,1,"img",58),e.TgZ(1,"div",59)(2,"label",60),e._uU(3,"Nombre Producto"),e.qZA(),e.TgZ(4,"input",61),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.product.productName=o)}),e.qZA(),e.YNc(5,z,2,0,"small",62),e.qZA(),e.TgZ(6,"div",59)(7,"label",60),e._uU(8,"Codigo"),e.qZA(),e.TgZ(9,"input",61),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.product.code=o)}),e.qZA(),e.YNc(10,j,2,0,"small",62),e.qZA(),e.TgZ(11,"div",59)(12,"label",63),e._uU(13,"Descripcion del Producto"),e.qZA(),e.TgZ(14,"textarea",64),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.product.description=o)}),e.qZA()(),e.TgZ(15,"div",59)(16,"label",65),e._uU(17,"Proveedor "),e.qZA(),e._UZ(18,"label",65),e.TgZ(19,"app-drop-down",66),e.NdJ("ValueSelectedChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.filterCostumer(o))}),e.qZA()(),e.TgZ(20,"div",59)(21,"label",65),e._uU(22,"Categoria "),e.qZA(),e._UZ(23,"label",65),e.TgZ(24,"app-drop-down",67),e.NdJ("ValueSelectedChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.filterCategory(o))}),e.qZA()(),e.TgZ(25,"div",59)(26,"label",65),e._uU(27,"Unidad de Medida "),e.qZA(),e._UZ(28,"label",65),e.TgZ(29,"app-drop-down",67),e.NdJ("ValueSelectedChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.filterUM(o))}),e.qZA()(),e.TgZ(30,"div",59)(31,"label",68),e._uU(32,"Impuestos"),e.qZA(),e.TgZ(33,"div",69)(34,"div",70)(35,"p-radioButton",71),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.product.taxId=o)}),e.qZA(),e.TgZ(36,"label",72),e._uU(37,"Exonerado"),e.qZA()(),e.TgZ(38,"div",70)(39,"p-radioButton",73),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.product.taxId=o)}),e.qZA(),e.TgZ(40,"label",74),e._uU(41,"Exento"),e.qZA()(),e.TgZ(42,"div",70)(43,"p-radioButton",75),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.product.taxId=o)}),e.qZA(),e.TgZ(44,"label",76),e._uU(45,"ISV 15%"),e.qZA()(),e.TgZ(46,"div",70)(47,"p-radioButton",77),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.product.taxId=o)}),e.qZA(),e.TgZ(48,"label",78),e._uU(49,"ISV 18%"),e.qZA()()()(),e.TgZ(50,"div",69)(51,"div",79)(52,"label",80),e._uU(53,"Precio de Compra"),e.qZA(),e.TgZ(54,"p-inputNumber",81),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.product.purcharsePrice=o)}),e.qZA()(),e.TgZ(55,"div",79)(56,"label",82),e._uU(57,"Inventario Inicial"),e.qZA(),e.TgZ(58,"p-inputNumber",83),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.product.quantity=o)}),e.qZA()()(),e.TgZ(59,"div",69)(60,"div",79)(61,"label",84),e._uU(62,"Precio de Venta"),e.qZA(),e.TgZ(63,"p-inputNumber",81),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.product.productPrice=o)}),e.qZA()()(),e.YNc(64,F,2,0,"div",0)}if(2&n){const t=e.oxw();e.Q6J("ngIf",t.product.image),e.xp6(4),e.Q6J("ngModel",t.product.productName)("ngClass",e.VKq(24,Z,t.submitted&&!t.product.productName)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.product.productName),e.xp6(4),e.Q6J("ngModel",t.product.code)("ngClass",e.VKq(26,Z,t.submitted&&!t.product.productName)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.product.code),e.xp6(4),e.Q6J("ngModel",t.product.description),e.xp6(5),e.Q6J("showFilter",!0)("IsCreating",t.IsCreatingProduct)("DropDownDataSource",t.suppliers),e.xp6(5),e.Q6J("IsCreating",t.IsCreatingProduct)("DropDownDataSource",t.categories),e.xp6(5),e.Q6J("IsCreating",t.IsCreatingProduct)("DropDownDataSource",t.unitMeasurement),e.xp6(6),e.Q6J("ngModel",t.product.taxId)("disabled",!0),e.xp6(4),e.Q6J("ngModel",t.product.taxId),e.xp6(4),e.Q6J("ngModel",t.product.taxId),e.xp6(4),e.Q6J("ngModel",t.product.taxId),e.xp6(7),e.Q6J("ngModel",t.product.purcharsePrice),e.xp6(4),e.Q6J("ngModel",t.product.quantity),e.xp6(5),e.Q6J("ngModel",t.product.productPrice),e.xp6(1),e.Q6J("ngIf",t.showProgressBar)}}function O(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",87),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.hideDialog())}),e.qZA(),e.TgZ(1,"button",88),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.saveProduct())}),e.qZA()}}function V(n,s){if(1&n&&e._UZ(0,"img",85),2&n){const t=e.oxw(2);e.Q6J("alt",t.product.image)}}function L(n,s){1&n&&(e.TgZ(0,"small",86),e._uU(1,"El Nombre es requerido"),e.qZA())}function W(n,s){if(1&n){const t=e.EpF();e.YNc(0,V,1,1,"img",58),e.TgZ(1,"div",59)(2,"label",60),e._uU(3,"Nombre Producto"),e.qZA(),e.TgZ(4,"input",89),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.product.productName=o)}),e.qZA(),e.YNc(5,L,2,0,"small",62),e.qZA(),e.TgZ(6,"div",59)(7,"label",63),e._uU(8,"Descripcion del Producto"),e.qZA(),e.TgZ(9,"textarea",90),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.product.description=o)}),e.qZA()(),e.TgZ(10,"div",69)(11,"div",79)(12,"label",84),e._uU(13,"Cantidad"),e.qZA(),e.TgZ(14,"p-inputNumber",91),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.addInventaryQuantity=o)}),e.qZA()()(),e.TgZ(15,"div",69)(16,"div",79)(17,"label",84),e._uU(18,"Precio de Compra"),e.qZA(),e.TgZ(19,"p-inputNumber",81),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.addInventaryPrice=o)}),e.qZA()()()}if(2&n){const t=e.oxw();e.Q6J("ngIf",t.product.image),e.xp6(4),e.Q6J("ngModel",t.product.productName)("ngClass",e.VKq(7,Z,t.submitted&&!t.product.productName)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.product.productName),e.xp6(4),e.Q6J("ngModel",t.product.description),e.xp6(5),e.Q6J("ngModel",t.addInventaryQuantity),e.xp6(5),e.Q6J("ngModel",t.addInventaryPrice)}}function $(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",87),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.showAddInventaryDialog=!1)}),e.qZA(),e.TgZ(1,"button",88),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.saveProduct())}),e.qZA()}}function X(n,s){if(1&n&&e._UZ(0,"img",85),2&n){const t=e.oxw(2);e.Q6J("alt",t.product.image)}}function ee(n,s){1&n&&(e.TgZ(0,"small",86),e._uU(1,"El Nombre es requerido"),e.qZA())}function te(n,s){if(1&n){const t=e.EpF();e.YNc(0,X,1,1,"img",58),e.TgZ(1,"div",59)(2,"label",60),e._uU(3,"Nombre Producto"),e.qZA(),e.TgZ(4,"input",89),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.product.productName=o)}),e.qZA(),e.YNc(5,ee,2,0,"small",62),e.qZA(),e.TgZ(6,"div",59)(7,"label",63),e._uU(8,"Descripcion del Producto"),e.qZA(),e.TgZ(9,"textarea",90),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.product.description=o)}),e.qZA()(),e.TgZ(10,"div",69)(11,"div",79)(12,"label",84),e._uU(13,"Cantidad"),e.qZA(),e.TgZ(14,"p-inputNumber",91),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.addInventaryQuantity=o)}),e.qZA()()(),e.TgZ(15,"div",69)(16,"div",79)(17,"label",84),e._uU(18,"Precio de Compra"),e.qZA(),e.TgZ(19,"p-inputNumber",81),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.addInventaryPrice=o)}),e.qZA()()()}if(2&n){const t=e.oxw();e.Q6J("ngIf",t.product.image),e.xp6(4),e.Q6J("ngModel",t.product.productName)("ngClass",e.VKq(7,Z,t.submitted&&!t.product.productName)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.product.productName),e.xp6(4),e.Q6J("ngModel",t.product.description),e.xp6(5),e.Q6J("ngModel",t.addInventaryQuantity),e.xp6(5),e.Q6J("ngModel",t.addInventaryPrice)}}function oe(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",87),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.showAjustInventaryDialog=!1)}),e.qZA(),e.TgZ(1,"button",88),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.saveProduct())}),e.qZA()}}function ne(n,s){if(1&n&&(e.TgZ(0,"span"),e._uU(1,"Esta seguro que desea eliminar a "),e.TgZ(2,"b"),e._uU(3),e.qZA(),e._uU(4,"?"),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.Oqu(t.product.productName)}}function re(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",92),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.deleteProductDialog=!1)}),e.qZA(),e.TgZ(1,"button",93),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.confirmDelete())}),e.qZA()}}function ie(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",92),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.deleteProductsDialog=!1)}),e.qZA(),e.TgZ(1,"button",93),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.confirmDeleteSelected())}),e.qZA()}}const ae=function(){return["productName","country.name","representative.name","status"]},se=function(){return[10,20,30]},de=function(){return{width:"850px"}},C=function(){return{width:"450px"}};let ue=(()=>{class n{constructor(t,r,o){this.productService=t,this.eventService=r,this.messageService=o,this.addInventaryQuantity=0,this.addInventaryPrice=0,this.showAddInventaryDialog=!1,this.addAjustQuantity=0,this.showAjustInventaryDialog=!1,this.hasEnterprise=!1,this.hasWareHouse=!1,this.showProgressBar=!1,this.productToDeleteList=[],this.categoryActual=0,this.unitMeasurementActual=0,this.defaultLozalization=0,this.userUniqueIdentifiquerKey="NotFound",this.productDialog=!1,this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.products=[],this.product={},this.selectedProducts=[],this.submitted=!1,this.cols=[],this.rowsPerPageOptions=[5,10,20],this.productsByWareHouse=[],this.hasEnterprise=r.getHasEnterprise()==d.N.SuccessResponse,this.hasWareHouse=r.getHasWareHouse()==d.N.SuccessResponse,this.GetCategoriesByEnterprise(),this.GetUnitMeasurementByEnterprise(),this.GetSupplierValuesByEnterprise()}ngOnInit(){this.GetProductsByWareHouse(),this.cols=[{field:"product",header:"Product"},{field:"ProductName",header:"ProductName"},{field:"localizationName",header:"localizationName"},{field:"rating",header:"Reviews"},{field:"inventoryStatus",header:"Status"}]}openNew(){this.IsCreatingProduct=!0,this.product={},this.submitted=!1,this.productDialog=!0}deleteSelectedProducts(){this.deleteProductsDialog=!0}editProduct(t){this.IsCreatingProduct=!1,this.product=Object.assign({},t),this.productDialog=!0}deleteProduct(t){this.deleteProductDialog=!0,this.product=Object.assign({},t)}confirmDeleteSelected(){this.showProgressBar=!0,this.deleteProductsDialog=!1,this.selectedProducts.forEach(t=>this.MaterializeProductToDelete(t)),this.productService.DeleteProductByList(this.productToDeleteList,this.eventService.getToken()).subscribe(t=>{this.messageService.add(t.data?{severity:"success",summary:"Success",detail:t.data,life:6e3}:{severity:"error",summary:"Error",detail:t.message,life:3e3}),this.showProgressBar=!1},t=>{this.messageService.add({severity:"error",summary:"Error",detail:t.message,life:3e3}),this.showProgressBar=!1}),this.productToDeleteList=[],this.products=this.products.filter(t=>!this.selectedProducts.includes(t)),this.selectedProducts=[]}confirmDelete(){this.showProgressBar=!0;var t=new g;t.id=this.product.productId,t.name=this.product.productName,t.description=this.product.description,t.userIdentifiquer=this.eventService.getToken(),this.productService.DeleteProduct(t).subscribe(r=>{r.data?(this.GetProductsByWareHouse(),this.messageService.add({severity:"success",summary:"Success",detail:"El producto "+t.name+" ha sido eliminado con Exito",life:3e3})):this.messageService.add({severity:"error",summary:"Error",detail:r.message,life:3e3}),this.showProgressBar=!1},r=>{this.messageService.add({severity:"error",summary:"Error",detail:r.message,life:6e3})}),this.deleteProductDialog=!1}hideDialog(){this.productDialog=!1,this.submitted=!1}saveProduct(){this.showProgressBar=!0,this.productRequest=new c,this.productRequest.Id=this.product.productId,this.productRequest.name=this.product.productName,this.productRequest.price=this.product.productPrice,this.productRequest.description=null==this.product.description?"":this.product.description,this.productRequest.taxId=this.product.taxId,this.productRequest.userIdentifiquer=this.userUniqueIdentifiquerKey,this.productRequest.categoryId=null==this.categoryActual?0:this.categoryActual,this.productRequest.unitMeasurementId=null==this.unitMeasurementActual?0:this.unitMeasurementActual,this.productRequest.quantity=this.product.quantity,this.productRequest.purcharsePrice=this.product.purcharsePrice,this.productRequest.code=this.product.code,this.productRequest.localization=this.defaultLozalization,this.submitted=!0,this.IsCreatingProduct?null==this.productRequest.name||null==this.productRequest.price?(this.messageService.add({severity:"error",summary:"Error",detail:"Para crear productos son obligatorios incluir el nombre y el precio",life:3e3}),this.showProgressBar=!1):this.AddNewProduct(this.productRequest):null==this.productRequest.name&&null==this.productRequest.price?(this.messageService.add({severity:"error",summary:"Error",detail:"No hay nada que actualizar",life:3e3}),this.showProgressBar=!1):this.UpdateProduct(this.productRequest)}UpdateProduct(t){t.userIdentifiquer=this.eventService.getToken(),this.productService.UpdateProduct(t).subscribe(r=>{r.data?(this.GetProductsByWareHouse(),this.messageService.add({severity:"success",summary:"Success",detail:"El producto "+t.name+" ha sido guardado con Exito",life:3e3}),this.product={}):this.messageService.add({severity:"error",summary:"Error",detail:r.message,life:3e3}),this.showProgressBar=!1})}GetProductsByWareHouse(){this.showProgressBar=!0,this.productService.getProductsByWareHouse(this.eventService.getToken()).subscribe(t=>{t.data?(this.productsByWareHouse=t.data,this.products=t.data):this.messageService.add({severity:"error",summary:"Error",detail:"No tiene productos creados",life:3e3}),this.showProgressBar=!1},t=>{this.messageService.add({severity:"error",summary:"Error",detail:t.message,life:6e3}),this.showProgressBar=!1})}AddNewProduct(t){t.userIdentifiquer=this.eventService.getToken(),t.supplier=null==this.actualSupplier?"0":this.actualSupplier,this.productService.AddNewProduct(t).subscribe(r=>{r.data?(this.GetProductsByWareHouse(),this.messageService.add({severity:"success",summary:"Success",detail:"El producto "+t.name+" ha sido guardado con Exito",life:3e3}),this.productDialog=!1,this.product={}):this.messageService.add({severity:"error",summary:"Error",detail:r.message,life:3e3}),this.showProgressBar=!1},r=>{this.messageService.add({severity:"error",summary:"Error",detail:"Error Grave al tratar de guardar los datos",life:3e3})})}findIndexById(t){let r=-1;for(let o=0;o<this.products.length;o++)if(this.products[o].id===t){r=o;break}return r}onGlobalFilter(t,r){t.filterGlobal(r.target.value,"contains")}filter(t){this.categoryActual=t}MaterializeProductToDelete(t){var r=new g;r.id=t.productId,r.name=t.productName,r.description=t.description,this.productToDeleteList.push(r)}addProductInventary(t){this.addInventaryPrice=0,this.addInventaryQuantity=0,this.product=Object.assign({},t),this.showAddInventaryDialog=!0}addAjustInventaryProduct(t){this.addAjustQuantity=0,this.product=Object.assign({},t),this.showAjustInventaryDialog=!0}GetCategoriesByEnterprise(){this.productService.GetCategoriesByEnterprise(this.eventService.getToken()).subscribe(t=>{t.data?this.categories=t.data:this.messageService.add({severity:"error",summary:"Error",detail:"No tiene productos creados",life:3e3})})}filterCategory(t){this.categoryActual=t}GetUnitMeasurementByEnterprise(){this.productService.GetUnitMeasurementByEnterprise(this.eventService.getToken()).subscribe(t=>{t.data?this.unitMeasurement=t.data:this.messageService.add({severity:"error",summary:"Error",detail:"No tiene productos creados",life:3e3})})}filterUM(t){this.unitMeasurementActual=t}GetSupplierValuesByEnterprise(){this.productService.GetSupplierValues(this.eventService.getToken()).subscribe(t=>{t.data?this.suppliers=t.data:this.messageService.add({severity:"error",summary:"Error",detail:"No tiene productos creados",life:3e3})})}filterCostumer(t){this.actualSupplier=t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m.M),e.Y36(l.P),e.Y36(h.ez))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],features:[e._Bn([h.ez])],decls:34,vars:40,consts:[[4,"ngIf"],[1,"grid"],[1,"col-12"],[1,"card","px-6","py-6"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],["responsiveLayout","scroll","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","selectionMode","multiple","dataKey","productId",3,"value","columns","rows","globalFilterFields","paginator","rowsPerPageOptions","showCurrentPageReport","selection","rowHover","selectionChange"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["header","Detalles del Producto",1,"p-fluid",3,"visible","modal","visibleChange"],["pTemplate","content"],["pTemplate","footer"],["header","Agregar Inventario",1,"p-fluid",3,"visible","modal","visibleChange"],["header","Confirm",3,"visible","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["COLOR","red"],[1,"my-2"],["pButton","","pRipple","","label","Nuevo","icon","pi pi-plus",1,"p-button-success","mr-2",3,"click"],["pButton","","pRipple","","label","Eliminar","icon","pi pi-trash",1,"p-button-danger",3,"disabled","click"],["pButton","","pRipple","","label","Exportar","icon","pi pi-upload",1,"p-button-help",3,"click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search...",1,"w-full","sm:w-auto",3,"input"],[2,"width","3rem"],["pSortableColumn","productId"],["field","productId"],["pSortableColumn","productName"],["field","productName"],["pSortableColumn","productPrice"],["field","productPrice"],["pSortableColumn","taxName"],["field","taxName"],["pSortableColumn","localizationName"],["field","localizationName"],["pSortableColumn","categoryName"],["field","categoryName"],["pSortableColumn","unitMeasurement"],["field","unitMeasurement"],["pSortableColumn","rating"],["field","rating"],["pSortableColumn","actualInventary"],["field","actualInventary"],["pSortableColumn","inventoryStatus"],["field","inventoryStatus"],[3,"value"],[2,"width","14%","min-width","10rem"],[1,"p-column-title"],["src","http://cajasgraf.com.ar/productos/images/df.jpg","width","100",1,"shadow-4",3,"alt"],[2,"width","14%","min-width","8rem"],[3,"ngModel","readonly","cancel"],[1,"flex"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-warning",3,"click"],["src","https://w7.pngwing.com/pngs/685/904/png-transparent-fizzy-drinks-coca-cola-diet-coke-rc-cola-coca-cola-food-cola-soft-drink.png","width","150","class","mt-0 mx-auto mb-5 block shadow-2",3,"alt",4,"ngIf"],[1,"field"],["for","ProductName"],["type","text","pInputText","","id","productName","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["class","ng-dirty ng-invalid",4,"ngIf"],["for","description"],["id","description","pInputTextarea","","required","","rows","3","cols","20",3,"ngModel","ngModelChange"],["for","status"],[3,"showFilter","IsCreating","DropDownDataSource","ValueSelectedChange"],[3,"IsCreating","DropDownDataSource","ValueSelectedChange"],[1,"mb-3"],[1,"formgrid","grid"],[1,"field-radiobutton","col-6"],["id","category1","name","category","value","1",3,"ngModel","disabled","ngModelChange"],["for","category1"],["id","category2","name","category","value","2",3,"ngModel","ngModelChange"],["for","category2"],["id","category3","name","category","value","4",3,"ngModel","ngModelChange"],["for","category3"],["id","category4","name","category","value","5",3,"ngModel","ngModelChange"],["for","category4"],[1,"field","col"],["for","price"],["id","price","mode","currency","currency","LPS","locale","en-US",3,"ngModel","ngModelChange"],["for","quantity"],["id","quantity",3,"ngModel","ngModelChange"],["for","productPrice"],["src","https://w7.pngwing.com/pngs/685/904/png-transparent-fizzy-drinks-coca-cola-diet-coke-rc-cola-coca-cola-food-cola-soft-drink.png","width","150",1,"mt-0","mx-auto","mb-5","block","shadow-2",3,"alt"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","label","Cancel","icon","pi pi-times",1,"p-button-text",3,"click"],["pButton","","pRipple","","label","Save","icon","pi pi-check",1,"p-button-text",3,"click"],["disabled","true","type","text","pInputText","","id","productName","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["disabled","true","id","description","pInputTextarea","","required","","rows","3","cols","20",3,"ngModel","ngModelChange"],["id","price",3,"ngModel","ngModelChange"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(t,r){1&t&&(e.YNc(0,E,2,0,"div",0),e.YNc(1,B,4,0,"div",0),e.TgZ(2,"div",1)(3,"div",2)(4,"div",3),e._UZ(5,"p-toast"),e.TgZ(6,"p-toolbar",4),e.YNc(7,H,3,1,"ng-template",5),e.YNc(8,G,1,0,"ng-template",6),e.qZA(),e.TgZ(9,"p-table",7,8),e.NdJ("selectionChange",function(i){return r.selectedProducts=i}),e.YNc(11,Q,6,0,"ng-template",9),e.YNc(12,R,37,0,"ng-template",10),e.YNc(13,k,52,19,"ng-template",11),e.qZA()(),e.TgZ(14,"p-dialog",12),e.NdJ("visibleChange",function(i){return r.productDialog=i}),e.YNc(15,Y,65,28,"ng-template",13),e.YNc(16,O,2,0,"ng-template",14),e.qZA(),e.TgZ(17,"p-dialog",15),e.NdJ("visibleChange",function(i){return r.showAddInventaryDialog=i}),e.YNc(18,W,20,9,"ng-template",13),e.YNc(19,$,2,0,"ng-template",14),e.qZA(),e.TgZ(20,"p-dialog",15),e.NdJ("visibleChange",function(i){return r.showAjustInventaryDialog=i}),e.YNc(21,te,20,9,"ng-template",13),e.YNc(22,oe,2,0,"ng-template",14),e.qZA(),e.TgZ(23,"p-dialog",16),e.NdJ("visibleChange",function(i){return r.deleteProductDialog=i}),e.TgZ(24,"div",17),e._UZ(25,"i",18),e.YNc(26,ne,5,1,"span",0),e.qZA(),e.YNc(27,re,2,0,"ng-template",14),e.qZA(),e.TgZ(28,"p-dialog",16),e.NdJ("visibleChange",function(i){return r.deleteProductsDialog=i}),e.TgZ(29,"div",17),e._UZ(30,"i",18),e.TgZ(31,"span"),e._uU(32,"Esta seguro que quiere eliminar estos productos seleccionados?"),e.qZA()(),e.YNc(33,ie,2,0,"ng-template",14),e.qZA()()()),2&t&&(e.Q6J("ngIf",r.showProgressBar),e.xp6(1),e.Q6J("ngIf",!r.hasEnterprise||!r.hasWareHouse),e.xp6(8),e.Q6J("value",r.products)("columns",r.cols)("rows",10)("globalFilterFields",e.DdM(33,ae))("rows",10)("paginator",!0)("rowsPerPageOptions",e.DdM(34,se))("showCurrentPageReport",!0)("selection",r.selectedProducts)("rowHover",!0),e.xp6(5),e.Akn(e.DdM(35,de)),e.Q6J("visible",r.productDialog)("modal",!0),e.xp6(3),e.Akn(e.DdM(36,C)),e.Q6J("visible",r.showAddInventaryDialog)("modal",!0),e.xp6(3),e.Akn(e.DdM(37,C)),e.Q6J("visible",r.showAjustInventaryDialog)("modal",!0),e.xp6(3),e.Akn(e.DdM(38,C)),e.Q6J("visible",r.deleteProductDialog)("modal",!0),e.xp6(3),e.Q6J("ngIf",r.product),e.xp6(2),e.Akn(e.DdM(39,C)),e.Q6J("visible",r.deleteProductsDialog)("modal",!0))},dependencies:[u.mk,u.O5,p.iA,h.jx,p.lQ,p.fz,p.UA,p.Mo,P.Hq,f.Fj,f.JJ,f.Q7,f.On,b.H,M.FN,y.o,A.iG,N.o,q.g,I.EU,w.Rn,U.V,J.R,D.t,u.H9],encapsulation:2}),n})(),ce=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[_.Bz.forChild([{path:"",component:ue,canActivate:[T.j]}]),_.Bz]}),n})();var le=a(8205),pe=a(4036),ge=a(4891);let me=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[u.ez,ce,p.U$,le.O,f.u5,P.hJ,b.T,M.EV,y.V,A.Xt,N.j,q.A,pe.kW,I.cc,w.L$,U.S,ge.E]}),n})()},3407:(S,v,a)=>{a.d(v,{A:()=>h,g:()=>T});var u=a(5e3),p=a(9808),_=a(3075);let T=(()=>{class c{constructor(d,e,m,l){this.el=d,this.ngModel=e,this.control=m,this.cd=l,this.onResize=new u.vpe}ngOnInit(){this.ngModel&&(this.ngModelSubscription=this.ngModel.valueChanges.subscribe(()=>{this.updateState()})),this.control&&(this.ngControlSubscription=this.control.valueChanges.subscribe(()=>{this.updateState()}))}ngAfterViewInit(){this.autoResize&&this.resize(),this.updateFilledState(),this.cd.detectChanges()}onInput(d){this.updateState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length}onFocus(d){this.autoResize&&this.resize(d)}onBlur(d){this.autoResize&&this.resize(d)}resize(d){this.el.nativeElement.style.height="auto",this.el.nativeElement.style.height=this.el.nativeElement.scrollHeight+"px",parseFloat(this.el.nativeElement.style.height)>=parseFloat(this.el.nativeElement.style.maxHeight)?(this.el.nativeElement.style.overflowY="scroll",this.el.nativeElement.style.height=this.el.nativeElement.style.maxHeight):this.el.nativeElement.style.overflow="hidden",this.onResize.emit(d||{})}updateState(){this.updateFilledState(),this.autoResize&&this.resize()}ngOnDestroy(){this.ngModelSubscription&&this.ngModelSubscription.unsubscribe(),this.ngControlSubscription&&this.ngControlSubscription.unsubscribe()}}return c.\u0275fac=function(d){return new(d||c)(u.Y36(u.SBq),u.Y36(_.On,8),u.Y36(_.a5,8),u.Y36(u.sBO))},c.\u0275dir=u.lG2({type:c,selectors:[["","pInputTextarea",""]],hostAttrs:[1,"p-inputtextarea","p-inputtext","p-component","p-element"],hostVars:4,hostBindings:function(d,e){1&d&&u.NdJ("input",function(l){return e.onInput(l)})("focus",function(l){return e.onFocus(l)})("blur",function(l){return e.onBlur(l)}),2&d&&u.ekj("p-filled",e.filled)("p-inputtextarea-resizable",e.autoResize)},inputs:{autoResize:"autoResize"},outputs:{onResize:"onResize"}}),c})(),h=(()=>{class c{}return c.\u0275fac=function(d){return new(d||c)},c.\u0275mod=u.oAB({type:c}),c.\u0275inj=u.cJS({imports:[p.ez]}),c})()}}]);