"use strict";(self.webpackChunksakai=self.webpackChunksakai||[]).push([[1060],{2384:(Z,a,o)=>{o.d(a,{b:()=>t});class t{}},1330:(Z,a,o)=>{o.d(a,{C:()=>x});var t=o(3418),d=o(6166),l=o(4159),_=o.n(l),n=o(4650),r=o(6895),u=o(5593),g=o(1795),s=o(5108),c=o(7932);const v=function(){return{width:"500px",height:"50px"}};function h(i,T){1&i&&(n.TgZ(0,"div")(1,"h5"),n._uU(2,"Espere......"),n.qZA(),n._UZ(3,"p-progressSpinner",1),n.qZA()),2&i&&(n.xp6(3),n.Akn(n.DdM(2,v)))}function R(i,T){1&i&&(n.TgZ(0,"div")(1,"h1"),n._uU(2,"--------FACTURA ANULADA--------------"),n.qZA()())}function q(i,T){if(1&i&&(n.TgZ(0,"tr")(1,"td",11),n._uU(2),n.qZA(),n.TgZ(3,"td",12),n._uU(4),n.ALo(5,"currency"),n.qZA(),n.TgZ(6,"td",12),n._uU(7),n.qZA(),n.TgZ(8,"td",12),n._uU(9),n.ALo(10,"currency"),n.qZA(),n.TgZ(11,"td",12),n._uU(12),n.ALo(13,"currency"),n.qZA()()),2&i){const e=T.$implicit;n.xp6(2),n.Oqu(e.productoNombre),n.xp6(2),n.Oqu(n.Dn7(5,5,e.precio,"L.","symbol")),n.xp6(3),n.Oqu(e.cantidad),n.xp6(2),n.Oqu(n.Dn7(10,9,e.discount,"L.","symbol")),n.xp6(3),n.Oqu(n.Dn7(13,13,e.total,"L.","symbol"))}}function E(i,T){1&i&&(n.TgZ(0,"div")(1,"h1"),n._uU(2,"--------FACTURA ANULADA--------------"),n.qZA()())}function f(i,T){if(1&i&&(n.TgZ(0,"div")(1,"div")(2,"b"),n._uU(3,"CAI:"),n.qZA(),n._uU(4),n.qZA(),n.TgZ(5,"div")(6,"b"),n._uU(7,"Rango Inicial:"),n.qZA(),n._uU(8),n.qZA(),n.TgZ(9,"div")(10,"b"),n._uU(11,"Rango Final:"),n.qZA(),n._uU(12),n.qZA(),n.TgZ(13,"div")(14,"b"),n._uU(15,"Fecha Emisi\xf3n:"),n.qZA(),n._uU(16),n.qZA(),n.TgZ(17,"div")(18,"b"),n._uU(19,"Fecha Limite:"),n.qZA(),n._uU(20),n.qZA(),n.TgZ(21,"div")(22,"b"),n._uU(23,"---------------------------------------------------"),n.qZA()(),n.TgZ(24,"div"),n._uU(25,'La Factura es beneficio de todos, "EXIJALA"'),n.qZA()()),2&i){const e=n.oxw(2);n.xp6(4),n.Oqu(e.invoiceResponseToShow.facturaCAI),n.xp6(4),n.Oqu(e.invoiceResponseToShow.rangoAutorizadoInicial),n.xp6(4),n.Oqu(e.invoiceResponseToShow.rangoAutorizadoFinal),n.xp6(4),n.Oqu(e.invoiceResponseToShow.fechaInicialCAI),n.xp6(4),n.Oqu(e.invoiceResponseToShow.fechaLimiteCAI)}}function b(i,T){if(1&i){const e=n.EpF();n.TgZ(0,"div")(1,"div",2)(2,"div",3)(3,"div")(4,"b"),n._uU(5),n.qZA()(),n.TgZ(6,"div"),n._uU(7),n.qZA(),n.TgZ(8,"div"),n._uU(9),n.qZA(),n.TgZ(10,"div"),n._uU(11),n.qZA(),n.TgZ(12,"div"),n._uU(13),n.qZA(),n.TgZ(14,"div"),n._uU(15),n.qZA(),n.YNc(16,R,3,0,"div",0),n.qZA(),n.TgZ(17,"div",4)(18,"div")(19,"b"),n._uU(20,"T\xe9rmino:"),n.qZA(),n._uU(21),n.qZA(),n.TgZ(22,"div")(23,"b"),n._uU(24),n.qZA(),n._uU(25),n.qZA(),n.TgZ(26,"div")(27,"b"),n._uU(28,"Fecha: "),n.qZA(),n._uU(29),n.ALo(30,"date"),n.qZA(),n.TgZ(31,"div")(32,"b"),n._uU(33,"Cliente RTN: "),n.qZA(),n._uU(34),n.qZA(),n.TgZ(35,"div")(36,"b"),n._uU(37,"Cliente Nombre: "),n.qZA(),n._uU(38),n.qZA(),n.TgZ(39,"div")(40,"b"),n._uU(41,"Cliente Direcci\xf3n: "),n.qZA(),n._uU(42),n.qZA(),n.TgZ(43,"div")(44,"b"),n._uU(45,"No. Orden Exenta: "),n.qZA()(),n.TgZ(46,"div")(47,"b"),n._uU(48,"No. Orden Exonerada: "),n.qZA()(),n.TgZ(49,"div")(50,"b"),n._uU(51,"No. Reg. Sag.: "),n.qZA()()(),n.TgZ(52,"p-divider",5)(53,"b"),n._uU(54,"Inicio Detalle"),n.qZA()(),n.TgZ(55,"table",6)(56,"tr")(57,"th")(58,"strong"),n._uU(59," Producto "),n.qZA()(),n.TgZ(60,"th")(61,"strong"),n._uU(62," Precio U "),n.qZA()(),n.TgZ(63,"th")(64,"strong"),n._uU(65," Cantidad"),n.qZA()(),n.TgZ(66,"th")(67,"strong"),n._uU(68," Descuentos"),n.qZA()(),n.TgZ(69,"th")(70,"strong"),n._uU(71," Total "),n.qZA()()(),n.YNc(72,q,14,17,"tr",7),n.qZA(),n.TgZ(73,"p-divider",5)(74,"b"),n._uU(75,"Fin Detalle"),n.qZA(),n.YNc(76,E,3,0,"div",0),n.qZA(),n.TgZ(77,"div",8)(78,"div")(79,"b"),n._uU(80,"Venta Total "),n.qZA(),n._uU(81),n.ALo(82,"currency"),n.qZA(),n.TgZ(83,"div")(84,"b"),n._uU(85,"Descuentos "),n.qZA(),n._uU(86),n.ALo(87,"currency"),n.qZA(),n.TgZ(88,"div")(89,"b"),n._uU(90,"Importe Exento "),n.qZA(),n._uU(91),n.ALo(92,"currency"),n.qZA(),n.TgZ(93,"div")(94,"b"),n._uU(95,"Importe Exonerado "),n.qZA(),n._uU(96),n.ALo(97,"currency"),n.qZA(),n.TgZ(98,"div")(99,"b"),n._uU(100,"Importe 15% ISV "),n.qZA(),n._uU(101),n.ALo(102,"currency"),n.qZA(),n.TgZ(103,"div")(104,"b"),n._uU(105,"Importe 18% ISV "),n.qZA(),n._uU(106),n.ALo(107,"currency"),n.qZA(),n.TgZ(108,"div")(109,"b"),n._uU(110,"Sub Total "),n.qZA(),n._uU(111),n.ALo(112,"currency"),n.qZA(),n.TgZ(113,"div")(114,"b"),n._uU(115,"15% ISV "),n.qZA(),n._uU(116),n.ALo(117,"currency"),n.qZA(),n.TgZ(118,"div")(119,"b"),n._uU(120,"18% ISV "),n.qZA(),n._uU(121),n.ALo(122,"currency"),n.qZA(),n.TgZ(123,"div")(124,"b"),n._uU(125,"Total "),n.qZA(),n._uU(126),n.ALo(127,"currency"),n.qZA()(),n.TgZ(128,"div",3),n._uU(129),n.qZA(),n.TgZ(130,"div",3),n.YNc(131,f,26,5,"div",0),n.qZA()(),n._UZ(132,"p-divider",9),n.TgZ(133,"button",10),n.NdJ("click",function(){n.CHM(e);const A=n.oxw();return n.KtG(A.exportToPDF())}),n.qZA()()}if(2&i){const e=n.oxw();n.xp6(5),n.Oqu(e.invoiceResponseToShow.empresaNombre),n.xp6(2),n.Oqu(e.invoiceResponseToShow.empresaNombreComercial),n.xp6(2),n.Oqu(e.invoiceResponseToShow.rtn),n.xp6(2),n.Oqu(e.invoiceResponseToShow.empresaTelefono),n.xp6(2),n.Oqu(e.invoiceResponseToShow.empresaCorreo),n.xp6(2),n.Oqu(e.invoiceResponseToShow.empresaDireccion),n.xp6(1),n.Q6J("ngIf",!e.invoiceResponseToShow.isActive),n.xp6(5),n.hij(" ",e.invoiceResponseToShow.terminoPago,""),n.xp6(3),n.hij("",e.invoiceResponseToShow.isSarLegalCorrelative?"Factura":"Recibo"," No.:"),n.xp6(1),n.hij(" ",e.invoiceResponseToShow.facturaNumero,""),n.xp6(4),n.hij(" ",n.xi3(30,28,e.invoiceResponseToShow.fechaEmision,"dd/MM/yyyy"),""),n.xp6(5),n.hij(" ",e.invoiceResponseToShow.rtnCliente,""),n.xp6(4),n.hij(" ",e.invoiceResponseToShow.nombreCliente,""),n.xp6(4),n.hij(" ",e.invoiceResponseToShow.direccionCliente,""),n.xp6(30),n.Q6J("ngForOf",e.invoiceResponseToShow.lineasFactura),n.xp6(4),n.Q6J("ngIf",!e.invoiceResponseToShow.isActive),n.xp6(5),n.Oqu(n.Dn7(82,31,e.invoiceResponseToShow.totalSale,"L.","symbol")),n.xp6(5),n.Oqu(n.Dn7(87,35,e.invoiceResponseToShow.discount,"L.","symbol")),n.xp6(5),n.Oqu(n.Dn7(92,39,e.invoiceResponseToShow.importeExento,"L.","symbol")),n.xp6(5),n.Oqu(n.Dn7(97,43,e.invoiceResponseToShow.importeExonerado,"L.","symbol")),n.xp6(5),n.Oqu(n.Dn7(102,47,e.invoiceResponseToShow.importeISV15,"L.","symbol")),n.xp6(5),n.Oqu(n.Dn7(107,51,e.invoiceResponseToShow.importeISV18,"L.","symbol")),n.xp6(5),n.Oqu(n.Dn7(112,55,e.invoiceResponseToShow.subTotal,"L.","symbol")),n.xp6(5),n.Oqu(n.Dn7(117,59,e.invoiceResponseToShow.impuestoISV15,"L.","symbol")),n.xp6(5),n.Oqu(n.Dn7(122,63,e.invoiceResponseToShow.impuestoISV18,"L.","symbol")),n.xp6(5),n.Oqu(n.Dn7(127,67,e.invoiceResponseToShow.totalPago,"L.","symbol")),n.xp6(3),n.hij(" SON ",e.invoiceResponseToShow.cantidadEnLetras," "),n.xp6(2),n.Q6J("ngIf",e.invoiceResponseToShow.isSarLegalCorrelative)}}let x=(()=>{class i{constructor(){this.invoiceResponseToShow=new t.G}ngOnChanges(e){}exportToPDF(){this.IsLoading=!0;const e=document.getElementById("print-section"),p=new d.ZP("p","pt","a4");_()(e,{background:"white",scale:3}).then(P=>{const m=P.toDataURL("image/PNG"),I=p.getImageProperties(m),O=p.internal.pageSize.getWidth()-30;p.addImage(m,"PNG",15,15,O,I.height*O/I.width,void 0,"FAST");const C=p.output("blob"),M=URL.createObjectURL(C);this.IsLoading=!1,window.open(M,"_blank")})}static#n=this.\u0275fac=function(p){return new(p||i)};static#e=this.\u0275cmp=n.Xpm({type:i,selectors:[["app-print-invoice"]],inputs:{IsLoading:"IsLoading",invoiceResponseToShow:"invoiceResponseToShow"},features:[n.TTD],decls:2,vars:2,consts:[[4,"ngIf"],["styleClass","custom-spinner","strokeWidth","8","fill","var(--surface-ground)","animationDuration",".5s"],["id","print-section"],[2,"text-align","center"],[1,"left-aligned"],["align","center","type","dashed"],[2,"width","100%"],[4,"ngFor","ngForOf"],[1,"right-aligned"],["align","left","type","dashed"],["pButton","","pRipple","","label","Imprimir","icon","pi pi-print",1,"p-button-help",3,"click"],["align","left"],["align","right"]],template:function(p,A){1&p&&(n.YNc(0,h,4,3,"div",0),n.YNc(1,b,134,71,"div",0)),2&p&&(n.Q6J("ngIf",A.IsLoading),n.xp6(1),n.Q6J("ngIf",!A.IsLoading))},dependencies:[r.sg,r.O5,u.Hq,g.H,s.i,c.G,r.H9,r.uU],styles:["table[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%] {\n      border: 1px solid black;\n      border-collapse: collapse;\n    }\n    th[_ngcontent-%COMP%] {\n    background-color: #2563eb;\n    color: white;\n  }\n\n    .container[_ngcontent-%COMP%] {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 100vh; \n}\n\n.content[_ngcontent-%COMP%] {\n    text-align: center;\n    border: 1px solid #ccc; \n    padding: 20px; \n    background-color: #f9f9f9; \n}\n.left-aligned[_ngcontent-%COMP%] {\n    text-align: left; \n    margin: 0; \n    padding: 0; \n    \n}\n.right-aligned[_ngcontent-%COMP%] {\n    text-align: right; \n    margin: 0; \n    padding: 0; \n    \n}"]})}return i})()},3418:(Z,a,o)=>{o.d(a,{G:()=>t});class t{}},7116:(Z,a,o)=>{o.d(a,{R:()=>l});var t=o(4650),d=o(3162);let l=(()=>{class _{constructor(){}static#n=this.\u0275fac=function(u){return new(u||_)};static#e=this.\u0275cmp=t.Xpm({type:_,selectors:[["app-progress-bar"]],decls:1,vars:0,consts:[["mode","indeterminate"]],template:function(u,g){1&u&&t._UZ(0,"mat-progress-bar",0)},dependencies:[d.pW],encapsulation:2})}return _})()},7083:(Z,a,o)=>{o.d(a,{K:()=>r});var t=o(529),d=o(2340),l=o(2384),_=o(4650);const n=d.N.baseUrl;let r=(()=>{class u{constructor(s){this.http=s}addUser(s){return this.http.post(`${n}auth/register`,s)}login(s,c){var v=new l.b;return v.email=s,v.password=c,this.http.post(`${n}auth/login`,v)}GetUserPermisions(){const h={headers:new t.WM({"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImRhcmxpbm5nNUBnbWFpbC5jb20iLCJuYW1lIjoiRGFybGluIiwiRW50ZXJwcmlzZSI6IjEiLCJXYXJlSG91c2UiOiIyIiwiUG9pbnRPZlNhbGUiOiIzIiwiQ29ycmVsYXRpdmUiOiI0IiwibmJmIjoxNjYzMjExNTA1LCJleHAiOjE2NjMyOTc5MDUsImlhdCI6MTY2MzIxMTUwNSwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MTM0In0.ZZQR0YuVwR5erkrQoErfRnlT9stXaVuDpt2SjFkl8PiAy0RP18-4nmyTRm8yYGqkPM-Eht-EbreVdHFYyRgSxQ"})};return this.http.get("http://localhost:5134/api/auth/test",h)}static#n=this.\u0275fac=function(c){return new(c||u)(_.LFG(t.eN))};static#e=this.\u0275prov=_.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})()},1546:(Z,a,o)=>{o.d(a,{j:()=>n});var t=o(4650),d=o(5384),l=o(9197),_=o(7083);let n=(()=>{class r{constructor(g,s,c){this.eventService=g,this.router=s,this._userService=c,this.isTokenValid=!1}canActivate(g,s){const c=this.eventService.getToken();return(""==c||null==c||null==c)&&this.router.navigateByUrl("/auth/login"),!0}static#n=this.\u0275fac=function(s){return new(s||r)(t.LFG(d.P),t.LFG(l.F0),t.LFG(_.K))};static#e=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})()}}]);