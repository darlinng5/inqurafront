"use strict";(self.webpackChunksakai=self.webpackChunksakai||[]).push([[9328],{9328:(D,p,t)=>{t.r(p),t.d(p,{WareHouseSelectModule:()=>I});var s=t(9808),c=t(7449),m=t(1546),u=t(9783);class v{}var e=t(5e3),d=t(8568),h=t(7747),r=t(5384),i=t(7773),g=t(7116),f=t(6768);function y(o,l){1&o&&(e.TgZ(0,"div"),e._UZ(1,"app-progress-bar"),e.qZA())}let M=(()=>{class o{constructor(n,a,S,C,A,N){this.layoutService=n,this.router=a,this.productService=S,this.eventService=C,this.messageService=A,this.route=N,this.roles=["SuperAdmin","Administrador","Vendedor"],this.warehouse=[],this.loading=!1,this.warehouseId=0,this.route.queryParams.subscribe(F=>{this.warehouse=JSON.parse(F.lista)})}filterWareHouse(n){this.warehouseId=n}MaterializeNewLester(){if(null!=this.contact&&""!=this.contact){var n=new v;n.name=this.name,n.contact=this.contact,this.AddNewLester(n)}else this.messageService.add({severity:"info",summary:"Info",detail:"Correo y/o Cel. No puede estar vacio",life:3e3})}onEnterClick(){0==this.warehouseId||null==this.warehouseId?this.messageService.add({severity:"error",summary:"Error",detail:"Favor seleccione una sucursal de la lista",life:3e3}):this.loading||this.changeWareHouse()}changeWareHouse(){this.loading=!0,this.productService.ChangeWareHouse(this.warehouseId,this.eventService.getToken()).subscribe(n=>{n.data?(this.eventService.setPermisionException(n.data.exceptionUserPermisionsList),this.eventService.setWarehouseName(n.data.warehouseName),this.eventService.setToken(n.data.token),this.router.navigateByUrl("/")):this.messageService.add({severity:"error",summary:"Error",detail:n.message,life:3e3}),this.loading=!1})}AddNewLester(n){this.loading=!0,this.productService.AddNewLester(n).subscribe(a=>{this.messageService.add(a.data?{severity:"success",summary:"Success",detail:"Gracias por suscribirte",life:3e3}:{severity:"error",summary:"Error",detail:a.message,life:3e3}),this.loading=!1},a=>{this.messageService.add({severity:"error",summary:"Error",detail:a,life:3e3}),this.loading=!1})}}return o.\u0275fac=function(n){return new(n||o)(e.Y36(d.P),e.Y36(c.F0),e.Y36(h.M),e.Y36(r.P),e.Y36(u.ez),e.Y36(c.gz))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-warehose-select"]],features:[e._Bn([u.ez])],decls:14,vars:4,consts:[[4,"ngIf"],[1,"tarjeta"],[1,"center-card"],[1,"card"],[1,"card-header"],[1,"card-body"],[3,"IsCreating","DropDownDataSource","ValueSelectedChange"],[1,"card-footer"],[1,"btn","btn-primary",3,"disabled","click"]],template:function(n,a){1&n&&(e.TgZ(0,"body"),e.YNc(1,y,2,0,"div",0),e._UZ(2,"p-toast"),e.TgZ(3,"div",1)(4,"div",2)(5,"div",3)(6,"div",4)(7,"h3"),e._uU(8,"Seleccione una sucursal"),e.qZA()(),e.TgZ(9,"div",5)(10,"app-drop-down",6),e.NdJ("ValueSelectedChange",function(C){return a.filterWareHouse(C)}),e.qZA()(),e.TgZ(11,"div",7)(12,"button",8),e.NdJ("click",function(){return a.onEnterClick()}),e._uU(13,"Entrar"),e.qZA()()()()()()),2&n&&(e.xp6(1),e.Q6J("ngIf",a.loading),e.xp6(9),e.Q6J("IsCreating",!1)("DropDownDataSource",a.warehouse),e.xp6(2),e.Q6J("disabled",a.loading))},dependencies:[s.O5,i.FN,g.R,f.t],styles:[".center-card[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n}\n\n.card[_ngcontent-%COMP%] {\n  width: 50%;\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);\n  transition: 0.3s;\n  border-radius: 5px;\n  padding: 20px;\n  text-align: center;\n}\n\n.card-header[_ngcontent-%COMP%] {\n  background-color: #f1f1f1;\n  padding: 20px;\n  border-top-left-radius: 5px;\n  border-top-right-radius: 5px;\n}\n\n.card-body[_ngcontent-%COMP%] {\n  padding: 20px;\n}\n\n.card-footer[_ngcontent-%COMP%] {\n  background-color: #f1f1f1;\n  padding: 20px;\n  border-bottom-left-radius: 5px;\n  border-bottom-right-radius: 5px;\n}\n\nselect.form-control[_ngcontent-%COMP%] {\n  width: 100%;\n  padding: 12px 20px;\n  margin: 8px 0;\n  display: inline-block;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  box-sizing: border-box;\n}\n\n.btn[_ngcontent-%COMP%] {\n  width: 100%;\n  background-color: #344ab7;\n  color: white;\n  padding: 14px 20px;\n  margin: 8px 0;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n}\n\n.btn[_ngcontent-%COMP%]:hover {\n  background-color: #45a049;\n}"]}),o})(),w=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[c.Bz.forChild([{path:"",component:M,canActivate:[m.j]}]),c.Bz]}),o})();var E=t(3986),W=t(7376),x=t(1822),P=t(8061),O=t(845),b=t(3787),T=t(3075),V=t(1424),H=t(4891);let I=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[s.ez,w,W.x,E.l,x.S,P.Q,O.hJ,b.fx,T.u5,V.j,i.EV,H.E]}),o})()},6768:(D,p,t)=>{t.d(p,{t:()=>e});var s=t(5e3),c=t(7747),m=t(5384),u=t(3075),v=t(4036);let e=(()=>{class d{constructor(r,i){this.commonService=r,this.eventService=i,this.ValueSelectedChange=new s.vpe,this.categorys=[],this.Filter=!1}ngOnInit(){this.data=this.DropDownDataSource,this.Filter=this.showFilter}changeValue(){var r;this.ValueSelected=null===(r=this.selectedData)||void 0===r?void 0:r.value,this.ValueSelectedChange.emit(this.ValueSelected)}selectedValue(){var r;this.ValueSelected=null===(r=this.selectedData)||void 0===r?void 0:r.value,this.ValueSelectedChange.emit(this.ValueSelected)}}return d.\u0275fac=function(r){return new(r||d)(s.Y36(c.M),s.Y36(m.P))},d.\u0275cmp=s.Xpm({type:d,selectors:[["app-drop-down"]],inputs:{ValueSelected:"ValueSelected",IsCreating:"IsCreating",showFilter:"showFilter",DropDownDataSource:"DropDownDataSource"},outputs:{ValueSelectedChange:"ValueSelectedChange"},decls:1,vars:3,consts:[["optionLabel","viewValue",3,"filter","options","ngModel","onClick","onChange","ngModelChange"]],template:function(r,i){1&r&&(s.TgZ(0,"p-dropdown",0),s.NdJ("onClick",function(){return i.selectedValue()})("onChange",function(){return i.changeValue()})("ngModelChange",function(f){return i.selectedData=f}),s.qZA()),2&r&&s.Q6J("filter",i.Filter)("options",i.data)("ngModel",i.selectedData)},dependencies:[u.JJ,u.On,v.Lt],encapsulation:2}),d})()}}]);