"use strict";(self.webpackChunksakai=self.webpackChunksakai||[]).push([[7071],{7071:(Y,c,n)=>{n.r(c),n.d(c,{CategoryModule:()=>I});var d=n(9808),m=n(5077),y=n(1546),p=n(9783);class T{}var e=n(5e3),Z=n(7747),b=n(5384),l=n(8952),u=n(7773),h=n(4534),C=n(845),f=n(5315),v=n(1424),g=n(3075),N=n(7116);function A(t,i){1&t&&(e.TgZ(0,"div"),e._UZ(1,"app-progress-bar"),e.qZA())}function M(t,i){if(1&t){const o=e.EpF();e.TgZ(0,"div",17),e._UZ(1,"p-toast"),e.TgZ(2,"button",18),e.NdJ("click",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.openNew())}),e.qZA()()}}function w(t,i){1&t&&(e.TgZ(0,"tr")(1,"th",19),e._uU(2,"Nombre "),e._UZ(3,"p-sortIcon",20),e.qZA(),e.TgZ(4,"th",21),e._uU(5,"Descripcion "),e._UZ(6,"p-sortIcon",22),e.qZA()())}function S(t,i){if(1&t&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA()()),2&t){const o=i.$implicit;e.xp6(2),e.Oqu(o.name),e.xp6(2),e.Oqu(o.description)}}function D(t,i){1&t&&(e.TgZ(0,"div"),e._UZ(1,"app-progress-bar"),e.qZA())}function x(t,i){if(1&t){const o=e.EpF();e.TgZ(0,"button",23),e.NdJ("click",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.hideDialog())}),e.qZA(),e.TgZ(1,"button",24),e.NdJ("click",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.saveCostumer())}),e.qZA()}}const J=function(){return{"min-width":"50rem"}},B=function(){return[10,25,50]},P=function(){return{width:"850px"}};let _=(()=>{class t{constructor(o,r,a){this.productService=o,this.eventService=r,this.messageService=a,this.showDialog=!1,this.isCreating=!0,this.showProgressBar=!1}ngOnInit(){this.GetCategory()}hideDialog(){this.isCreating=!1,this.showDialog=!1}openNew(){this.showDialog=!0,this.isCreating=!0}saveCostumer(){var o=new T;o.name=null==this.categoryName?"":this.categoryName,o.description=null==this.categoryDescription?"":this.categoryDescription,o.userIdentifiquer=this.eventService.getToken(),o.isCreating=this.isCreating,this.AddNewCategory(o)}AddNewCategory(o){this.showProgressBar=!0,this.productService.AddNewCategory(o).subscribe(r=>{r.data?(this.messageService.add({severity:"success",summary:"Success",detail:"La Categoria"+o.name+" se ha guardado",life:3e3}),this.showDialog=!1,this.GetCategory()):this.messageService.add({severity:"error",summary:"Error",detail:r.message,life:3e3}),this.showProgressBar=!1})}GetCategory(){this.showProgressBar=!0,this.productService.GetCategories(this.eventService.getToken()).subscribe(o=>{o.data?this.category=o.data:this.messageService.add({severity:"error",summary:"Error",detail:o.message,life:3e3}),this.showProgressBar=!1})}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(Z.M),e.Y36(b.P),e.Y36(p.ez))},t.\u0275cmp=e.Xpm({type:t,selectors:[["ng-component"]],features:[e._Bn([p.ez])],decls:24,vars:17,consts:[[4,"ngIf"],[1,"grid"],[1,"col-12"],[1,"card"],["styleClass","mb-4"],["pTemplate","left"],["currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","paginator","rows","showCurrentPageReport","tableStyle","rowsPerPageOptions"],["pTemplate","header"],["pTemplate","body"],["header","Confirm",3,"visible","modal","visibleChange"],[1,"card","p-fluid"],[1,"field","grid"],["htmlFor","email3",1,"col-12","mb-2","md:col-2","md:mb-0"],[1,"col-12","md:col-10"],["autocomplete","off","pInputText","","id","email3","type","text","placeholder","Nombre",3,"ngModel","ngModelChange"],["autocomplete","off","pInputText","","id","email3","type","text","placeholder","Descripcion",3,"ngModel","ngModelChange"],["pTemplate","footer"],[1,"my-2"],["pButton","","pRipple","","label","Nuevo","icon","pi pi-plus",1,"p-button-success","mr-2",3,"click"],["pSortableColumn","name",2,"width","20%"],["field","name"],["pSortableColumn","description",2,"width","20%"],["field","description"],["pButton","","pRipple","","icon","pi pi-times","label","Cancelar",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Guardar",1,"p-button-text",3,"click"]],template:function(o,r){1&o&&(e.YNc(0,A,2,0,"div",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",3)(5,"p-toolbar",4),e.YNc(6,M,3,0,"ng-template",5),e.qZA(),e.TgZ(7,"p-table",6),e.YNc(8,w,7,0,"ng-template",7),e.YNc(9,S,5,2,"ng-template",8),e.qZA()()()()(),e.TgZ(10,"p-dialog",9),e.NdJ("visibleChange",function(s){return r.showDialog=s}),e.YNc(11,D,2,0,"div",0),e.TgZ(12,"div",10)(13,"div",11)(14,"label",12),e._uU(15,"Nombre"),e.qZA(),e.TgZ(16,"div",13)(17,"input",14),e.NdJ("ngModelChange",function(s){return r.categoryName=s}),e.qZA()()(),e.TgZ(18,"div",11)(19,"label",12),e._uU(20,"Descripcion"),e.qZA(),e.TgZ(21,"div",13)(22,"input",15),e.NdJ("ngModelChange",function(s){return r.categoryDescription=s}),e.qZA()()()(),e.YNc(23,x,2,0,"ng-template",16),e.qZA()),2&o&&(e.Q6J("ngIf",r.showProgressBar),e.xp6(7),e.Q6J("value",r.category)("paginator",!0)("rows",10)("showCurrentPageReport",!0)("tableStyle",e.DdM(14,J))("rowsPerPageOptions",e.DdM(15,B)),e.xp6(3),e.Akn(e.DdM(16,P)),e.Q6J("visible",r.showDialog)("modal",!0),e.xp6(1),e.Q6J("ngIf",r.showProgressBar),e.xp6(6),e.Q6J("ngModel",r.categoryName),e.xp6(5),e.Q6J("ngModel",r.categoryDescription))},dependencies:[d.O5,l.iA,p.jx,l.lQ,l.fz,u.FN,h.o,C.Hq,f.V,v.o,g.Fj,g.JJ,g.On,N.R],encapsulation:2}),t})(),U=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[m.Bz.forChild([{path:"",component:_,canActivate:[y.j]}]),m.Bz]}),t})();var R=n(4891);let I=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[d.ez,U,l.U$,u.EV,h.V,C.hJ,f.S,v.j,g.u5,R.E]}),t})()}}]);