"use strict";(self.webpackChunksakai=self.webpackChunksakai||[]).push([[9328],{9328:(J,c,r)=>{r.r(c),r.d(c,{WareHouseSelectModule:()=>w});var l=r(9808),s=r(5077),u=r(9783);class p{}var e=r(5e3),h=r(8568),m=r(7747),v=r(5384),g=r(7773),f=r(7116),S=r(6768);function y(n,a){1&n&&(e.TgZ(0,"div"),e._UZ(1,"app-progress-bar"),e.qZA())}let C=(()=>{class n{constructor(t,o,i,d,I,O){this.layoutService=t,this.router=o,this.productService=i,this.eventService=d,this.messageService=I,this.route=O,this.roles=["SuperAdmin","Administrador","Vendedor"],this.warehouse=[],this.loading=!1,this.warehouseId=0,this.route.queryParams.subscribe(E=>{this.warehouse=JSON.parse(E.lista)})}filterWareHouse(t){this.warehouseId=t}MaterializeNewLester(){if(null!=this.contact&&""!=this.contact){var t=new p;t.name=this.name,t.contact=this.contact,this.AddNewLester(t)}else this.messageService.add({severity:"info",summary:"Info",detail:"Correo y/o Cel. No puede estar vacio",life:3e3})}onEnterClick(){0==this.warehouseId||null==this.warehouseId?this.messageService.add({severity:"error",summary:"Error",detail:"Favor seleccione una sucursal de la lista",life:3e3}):this.loading||this.changeWareHouse()}changeWareHouse(){this.loading=!0,this.productService.ChangeWareHouse(this.warehouseId,this.eventService.getToken()).subscribe(t=>{t.data?(this.eventService.setToken(t.data),this.router.navigateByUrl("/")):this.messageService.add({severity:"error",summary:"Error",detail:t.message,life:3e3}),this.loading=!1})}AddNewLester(t){this.loading=!0,this.productService.AddNewLester(t).subscribe(o=>{this.messageService.add(o.data?{severity:"success",summary:"Success",detail:"Gracias por suscribirte",life:3e3}:{severity:"error",summary:"Error",detail:o.message,life:3e3}),this.loading=!1},o=>{this.messageService.add({severity:"error",summary:"Error",detail:o,life:3e3}),this.loading=!1})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(h.P),e.Y36(s.F0),e.Y36(m.M),e.Y36(v.P),e.Y36(u.ez),e.Y36(s.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-warehose-select"]],features:[e._Bn([u.ez])],decls:14,vars:4,consts:[[4,"ngIf"],[1,"tarjeta"],[1,"center-card"],[1,"card"],[1,"card-header"],[1,"card-body"],[3,"IsCreating","DropDownDataSource","ValueSelectedChange"],[1,"card-footer"],[1,"btn","btn-primary",3,"disabled","click"]],template:function(t,o){1&t&&(e.TgZ(0,"body"),e.YNc(1,y,2,0,"div",0),e._UZ(2,"p-toast"),e.TgZ(3,"div",1)(4,"div",2)(5,"div",3)(6,"div",4)(7,"h3"),e._uU(8,"Seleccione una sucursal"),e.qZA()(),e.TgZ(9,"div",5)(10,"app-drop-down",6),e.NdJ("ValueSelectedChange",function(d){return o.filterWareHouse(d)}),e.qZA()(),e.TgZ(11,"div",7)(12,"button",8),e.NdJ("click",function(){return o.onEnterClick()}),e._uU(13,"Entrar"),e.qZA()()()()()()),2&t&&(e.xp6(1),e.Q6J("ngIf",o.loading),e.xp6(9),e.Q6J("IsCreating",!1)("DropDownDataSource",o.warehouse),e.xp6(2),e.Q6J("disabled",o.loading))},dependencies:[l.O5,g.FN,f.R,S.t],styles:[".center-card[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n}\n\n.card[_ngcontent-%COMP%] {\n  width: 50%;\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);\n  transition: 0.3s;\n  border-radius: 5px;\n  padding: 20px;\n  text-align: center;\n}\n\n.card-header[_ngcontent-%COMP%] {\n  background-color: #f1f1f1;\n  padding: 20px;\n  border-top-left-radius: 5px;\n  border-top-right-radius: 5px;\n}\n\n.card-body[_ngcontent-%COMP%] {\n  padding: 20px;\n}\n\n.card-footer[_ngcontent-%COMP%] {\n  background-color: #f1f1f1;\n  padding: 20px;\n  border-bottom-left-radius: 5px;\n  border-bottom-right-radius: 5px;\n}\n\nselect.form-control[_ngcontent-%COMP%] {\n  width: 100%;\n  padding: 12px 20px;\n  margin: 8px 0;\n  display: inline-block;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  box-sizing: border-box;\n}\n\n.btn[_ngcontent-%COMP%] {\n  width: 100%;\n  background-color: #344ab7;\n  color: white;\n  padding: 14px 20px;\n  margin: 8px 0;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n}\n\n.btn[_ngcontent-%COMP%]:hover {\n  background-color: #45a049;\n}"]}),n})(),x=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[s.Bz.forChild([{path:"",component:C}]),s.Bz]}),n})();var b=r(3986),H=r(7376),W=r(1822),M=r(8061),A=r(845),N=r(3787),P=r(3075),T=r(1424),Z=r(4891);let w=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[l.ez,x,H.x,b.l,W.S,M.Q,A.hJ,N.fx,P.u5,T.j,g.EV,Z.E]}),n})()}}]);