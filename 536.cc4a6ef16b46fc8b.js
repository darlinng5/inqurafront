"use strict";(self.webpackChunksakai=self.webpackChunksakai||[]).push([[536],{6768:(Z,v,s)=>{s.d(v,{t:()=>u});var c=s(5e3),g=s(7747),h=s(5384),m=s(3075),x=s(4036);let u=(()=>{class _{constructor(d,l){this.commonService=d,this.eventService=l,this.ValueSelectedChange=new c.vpe,this.categorys=[],this.Filter=!1}ngOnInit(){this.data=this.DropDownDataSource,this.Filter=this.showFilter}changeValue(){var d;this.ValueSelected=null===(d=this.selectedData)||void 0===d?void 0:d.value,this.ValueSelectedChange.emit(this.ValueSelected)}selectedValue(){var d;this.ValueSelected=null===(d=this.selectedData)||void 0===d?void 0:d.value,this.ValueSelectedChange.emit(this.ValueSelected)}}return _.\u0275fac=function(d){return new(d||_)(c.Y36(g.M),c.Y36(h.P))},_.\u0275cmp=c.Xpm({type:_,selectors:[["app-drop-down"]],inputs:{ValueSelected:"ValueSelected",IsCreating:"IsCreating",showFilter:"showFilter",DropDownDataSource:"DropDownDataSource"},outputs:{ValueSelectedChange:"ValueSelectedChange"},decls:1,vars:3,consts:[["optionLabel","viewValue",3,"filter","options","ngModel","onClick","onChange","ngModelChange"]],template:function(d,l){1&d&&(c.TgZ(0,"p-dropdown",0),c.NdJ("onClick",function(){return l.selectedValue()})("onChange",function(){return l.changeValue()})("ngModelChange",function(f){return l.selectedData=f}),c.qZA()),2&d&&c.Q6J("filter",l.Filter)("options",l.data)("ngModel",l.selectedData)},dependencies:[m.JJ,m.On,x.Lt],encapsulation:2}),_})()},536:(Z,v,s)=>{s.r(v),s.d(v,{ProductosModule:()=>Pt});var c=s(9808),g=s(8952),h=s(7449),m=s(9783);class x{}class u{}var _=s(9019),t=s(5e3),d=s(7747),l=s(5384),p=s(845),f=s(3075),M=s(5787),b=s(7773),y=s(4534),q=s(1424),A=s(3407),N=s(9603),w=s(7010),I=s(5315),J=s(7116),E=s(6768),S=s(242);function U(n,a){1&n&&(t.TgZ(0,"div"),t._UZ(1,"app-progress-bar"),t.qZA())}function H(n,a){1&n&&(t.TgZ(0,"div")(1,"p")(2,"FONT",20),t._uU(3,"Para poder transaccionar debe tener creada una empresa "),t.qZA()()())}function R(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",21)(1,"button",22),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.openNew())}),t.qZA(),t.TgZ(2,"button",23),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.deleteSelectedProducts())}),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(2),t.Q6J("disabled",!e.selectedProducts||!e.selectedProducts.length)}}function B(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"button",24),t.NdJ("click",function(){t.CHM(e),t.oxw();const o=t.MAs(10);return t.KtG(o.exportCSV())}),t.qZA()}}function G(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",25)(1,"h5",26),t._uU(2,"Manage Products"),t.qZA(),t.TgZ(3,"span",27),t._UZ(4,"i",28),t.TgZ(5,"input",29),t.NdJ("input",function(o){t.CHM(e);const r=t.oxw(),C=t.MAs(10);return t.KtG(r.onGlobalFilter(C,o))}),t.qZA()()()}}function Q(n,a){1&n&&(t.TgZ(0,"tr")(1,"th",30),t._UZ(2,"p-tableHeaderCheckbox"),t.qZA(),t.TgZ(3,"th",31),t._uU(4,"Id "),t._UZ(5,"p-sortIcon",32),t.qZA(),t.TgZ(6,"th",33),t._uU(7,"Producto"),t._UZ(8,"p-sortIcon",34),t.qZA(),t.TgZ(9,"th",35),t._uU(10,"Descuento "),t._UZ(11,"p-sortIcon",36),t.qZA(),t.TgZ(12,"th",37),t._uU(13,"Precio "),t._UZ(14,"p-sortIcon",38),t.qZA(),t.TgZ(15,"th",39),t._uU(16,"Impuesto "),t._UZ(17,"p-sortIcon",40),t.qZA(),t.TgZ(18,"th",41),t._uU(19,"Stock "),t._UZ(20,"p-sortIcon",42),t.qZA(),t.TgZ(21,"th"),t._uU(22," Editar/Imprimir Etiq / Eliminar "),t.qZA()())}function K(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._UZ(2,"p-tableCheckbox",43),t.qZA(),t.TgZ(3,"td",44)(4,"span",45),t._uU(5,"Code"),t.qZA(),t._uU(6),t.qZA(),t.TgZ(7,"td",44)(8,"span",45),t._uU(9,"Name"),t.qZA(),t._uU(10),t.qZA(),t.TgZ(11,"td",46)(12,"span",45),t._uU(13,"Price"),t.qZA(),t._uU(14),t.ALo(15,"currency"),t.qZA(),t.TgZ(16,"td",46)(17,"span",45),t._uU(18,"Price"),t.qZA(),t._uU(19),t.ALo(20,"currency"),t.qZA(),t.TgZ(21,"td",44)(22,"span",45),t._uU(23,"taxName"),t.qZA(),t._uU(24),t.qZA(),t.TgZ(25,"td",44)(26,"span",45),t._uU(27,"Status"),t.qZA(),t.TgZ(28,"span"),t._uU(29),t.qZA()(),t.TgZ(30,"td")(31,"div",47)(32,"p-button",48),t.NdJ("click",function(){const r=t.CHM(e).$implicit,C=t.oxw();return t.KtG(C.editProduct(r))}),t.qZA(),t.TgZ(33,"p-button",49),t.NdJ("click",function(){const r=t.CHM(e).$implicit,C=t.oxw();return t.KtG(C.PrintEtiqueta(r))}),t.qZA(),t.TgZ(34,"p-button",50),t.NdJ("click",function(){const r=t.CHM(e).$implicit,C=t.oxw();return t.KtG(C.deleteProduct(r))}),t.qZA()()()()}if(2&n){const e=a.$implicit;t.xp6(2),t.Q6J("value",e),t.xp6(4),t.hij(" ",e.code||e.productId," "),t.xp6(4),t.hij(" ",e.productName," "),t.xp6(4),t.hij(" ",t.xi3(15,9,e.discount,"L")," "),t.xp6(5),t.hij(" ",t.xi3(20,12,e.productPrice,"L")," "),t.xp6(5),t.hij(" ",e.taxName," "),t.xp6(4),t.Tol("product-badge status-"+(e.inventoryStatus?e.inventoryStatus.toLowerCase():"")),t.xp6(1),t.Oqu(e.inventoryStatus)}}function k(n,a){if(1&n&&t._UZ(0,"img",59),2&n){const e=t.oxw(2);t.Q6J("alt",e.product.image)}}const T=function(n){return{"ng-invalid ng-dirty":n}};function F(n,a){if(1&n){const e=t.EpF();t.YNc(0,k,1,1,"img",51),t.TgZ(1,"div",52)(2,"div",53)(3,"label",54),t._uU(4,"Nombre"),t.qZA(),t.TgZ(5,"input",55),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.product.productName=o)}),t.qZA()(),t.TgZ(6,"div",53)(7,"label",56),t._uU(8,"C\xf3digo"),t.qZA(),t.TgZ(9,"input",55),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.product.code=o)}),t.qZA()()(),t.TgZ(10,"div",52)(11,"div",53)(12,"label",56),t._uU(13,"Precio de Venta"),t.qZA(),t.TgZ(14,"p-inputNumber",57),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.product.productPrice=o)}),t.qZA()(),t.TgZ(15,"div",53)(16,"label",54),t._uU(17,"Cantidad de Etiquetas"),t.qZA(),t.TgZ(18,"p-inputNumber",58),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.product.printQuantity=o)}),t.qZA()()()}if(2&n){const e=t.oxw();t.Q6J("ngIf",e.product.image),t.xp6(5),t.Q6J("ngModel",e.product.productName)("ngClass",t.VKq(7,T,e.submitted&&!e.product.productName)),t.xp6(4),t.Q6J("ngModel",e.product.code)("ngClass",t.VKq(9,T,e.submitted&&!e.product.productName)),t.xp6(5),t.Q6J("ngModel",e.product.productPrice),t.xp6(4),t.Q6J("ngModel",e.product.printQuantity)}}function z(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"button",60),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.hideDialog())}),t.qZA(),t.TgZ(1,"button",61),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.callConfirmPrint())}),t.qZA()}}function V(n,a){if(1&n&&t._UZ(0,"img",59),2&n){const e=t.oxw(2);t.Q6J("alt",e.product.image)}}function Y(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",53)(1,"label",56),t._uU(2,"C\xf3digo"),t.qZA(),t.TgZ(3,"input",62),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.product.code=o)}),t.qZA()()}if(2&n){const e=t.oxw(2);t.xp6(3),t.Q6J("ngModel",e.product.code)("ngClass",t.VKq(2,T,e.submitted&&!e.product.productName))}}function O(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",65)(1,"label",70),t._uU(2,"Impuestos"),t.qZA(),t.TgZ(3,"div",52)(4,"div",71)(5,"p-radioButton",72),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.product.taxId=o)}),t.qZA(),t.TgZ(6,"label",73),t._uU(7,"Exonerado"),t.qZA()(),t.TgZ(8,"div",71)(9,"p-radioButton",74),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.product.taxId=o)}),t.qZA(),t.TgZ(10,"label",75),t._uU(11,"Exento"),t.qZA()(),t.TgZ(12,"div",71)(13,"p-radioButton",76),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.product.taxId=o)}),t.qZA(),t.TgZ(14,"label",77),t._uU(15,"ISV 15%"),t.qZA()(),t.TgZ(16,"div",71)(17,"p-radioButton",78),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.product.taxId=o)}),t.qZA(),t.TgZ(18,"label",79),t._uU(19,"ISV 18%"),t.qZA()()()()}if(2&n){const e=t.oxw(2);t.xp6(5),t.Q6J("ngModel",e.product.taxId)("disabled",!0),t.xp6(4),t.Q6J("ngModel",e.product.taxId),t.xp6(4),t.Q6J("ngModel",e.product.taxId),t.xp6(4),t.Q6J("ngModel",e.product.taxId)}}function j(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",52)(1,"label",80),t._uU(2,"Es un Servicio"),t.qZA(),t.TgZ(3,"p-inputSwitch",64),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.product.isAService=o)}),t._uU(4,"Es un Servicio"),t.qZA()()}if(2&n){const e=t.oxw(2);t.xp6(3),t.Q6J("ngModel",e.product.isAService)}}function L(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",52)(1,"div",53)(2,"label",54),t._uU(3,"Proveedor"),t.qZA(),t.TgZ(4,"app-drop-down",81),t.NdJ("ValueSelectedChange",function(o){t.CHM(e);const r=t.oxw(3);return t.KtG(r.filterCostumer(o))}),t.qZA()(),t.TgZ(5,"div",53)(6,"label",56),t._uU(7,"Categoria"),t.qZA(),t.TgZ(8,"app-drop-down",82),t.NdJ("ValueSelectedChange",function(o){t.CHM(e);const r=t.oxw(3);return t.KtG(r.filterCategory(o))}),t.qZA()()()}if(2&n){const e=t.oxw(3);t.xp6(4),t.Q6J("showFilter",!0)("IsCreating",e.IsCreatingProduct)("DropDownDataSource",e.suppliers),t.xp6(4),t.Q6J("IsCreating",e.IsCreatingProduct)("DropDownDataSource",e.categories)}}function W(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",52)(1,"div",53)(2,"label",54),t._uU(3,"Unidad de Medida"),t.qZA(),t.TgZ(4,"app-drop-down",82),t.NdJ("ValueSelectedChange",function(o){t.CHM(e);const r=t.oxw(3);return t.KtG(r.filterUM(o))}),t.qZA()(),t.TgZ(5,"div",53)(6,"label",56),t._uU(7,"Inventario Inicial"),t.qZA(),t.TgZ(8,"p-inputNumber",83),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw(3);return t.KtG(r.product.quantity=o)}),t.qZA()()()}if(2&n){const e=t.oxw(3);t.xp6(4),t.Q6J("IsCreating",e.IsCreatingProduct)("DropDownDataSource",e.unitMeasurement),t.xp6(4),t.Q6J("ngModel",e.product.quantity)}}function $(n,a){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,L,9,5,"div",69),t.YNc(2,W,9,3,"div",69),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.IsCreatingProduct),t.xp6(1),t.Q6J("ngIf",e.IsCreatingProduct)}}function X(n,a){1&n&&(t.TgZ(0,"div"),t._UZ(1,"app-progress-bar"),t.qZA())}function tt(n,a){if(1&n){const e=t.EpF();t.YNc(0,V,1,1,"img",51),t.TgZ(1,"div",52)(2,"div",53)(3,"label",54),t._uU(4,"Nombre"),t.qZA(),t.TgZ(5,"input",62),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.product.productName=o)}),t.qZA()(),t.YNc(6,Y,4,4,"div",63),t.TgZ(7,"div",53)(8,"label",56),t._uU(9,"Generar C\xf3digo Automaticamente"),t.qZA(),t.TgZ(10,"p-inputSwitch",64),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.product.generateCode=o)}),t.qZA()()(),t.TgZ(11,"div",65)(12,"label",66),t._uU(13,"Descripci\xf3n"),t.qZA(),t.TgZ(14,"textarea",67),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.product.description=o)}),t.qZA()(),t.YNc(15,O,20,5,"div",68),t.YNc(16,j,5,1,"div",69),t.YNc(17,$,3,2,"div",0),t.TgZ(18,"div",52)(19,"div",53)(20,"label",54),t._uU(21,"Costo"),t.qZA(),t.TgZ(22,"p-inputNumber",57),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.product.purcharsePrice=o)}),t.qZA()(),t.TgZ(23,"div",53)(24,"label",56),t._uU(25,"Precio de Venta"),t.qZA(),t.TgZ(26,"p-inputNumber",57),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.product.productPrice=o)}),t.qZA()()(),t.YNc(27,X,2,0,"div",0)}if(2&n){const e=t.oxw();t.Q6J("ngIf",e.product.image),t.xp6(5),t.Q6J("ngModel",e.product.productName)("ngClass",t.VKq(12,T,e.submitted&&!e.product.productName)),t.xp6(1),t.Q6J("ngIf",!e.product.generateCode),t.xp6(4),t.Q6J("ngModel",e.product.generateCode),t.xp6(4),t.Q6J("ngModel",e.product.description),t.xp6(1),t.Q6J("ngIf",e.IsCreatingProduct),t.xp6(1),t.Q6J("ngIf",e.IsCreatingProduct),t.xp6(1),t.Q6J("ngIf",!e.product.isAService),t.xp6(5),t.Q6J("ngModel",e.product.purcharsePrice),t.xp6(4),t.Q6J("ngModel",e.product.productPrice),t.xp6(1),t.Q6J("ngIf",e.showProgressBar)}}function et(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"button",60),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.hideDialog())}),t.qZA(),t.TgZ(1,"button",84),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveProduct())}),t.qZA()}}function ot(n,a){if(1&n&&t._UZ(0,"img",59),2&n){const e=t.oxw(2);t.Q6J("alt",e.product.image)}}function nt(n,a){1&n&&(t.TgZ(0,"small",90),t._uU(1,"El Nombre es requerido"),t.qZA())}function it(n,a){if(1&n){const e=t.EpF();t.YNc(0,ot,1,1,"img",51),t.TgZ(1,"div",65)(2,"label",85),t._uU(3,"Nombre Producto"),t.qZA(),t.TgZ(4,"input",86),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.product.productName=o)}),t.qZA(),t.YNc(5,nt,2,0,"small",87),t.qZA(),t.TgZ(6,"div",65)(7,"label",66),t._uU(8,"Descripcion del Producto"),t.qZA(),t.TgZ(9,"textarea",88),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.product.description=o)}),t.qZA()(),t.TgZ(10,"div",52)(11,"div",53)(12,"label",89),t._uU(13,"Cantidad"),t.qZA(),t.TgZ(14,"p-inputNumber",58),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.addInventaryQuantity=o)}),t.qZA()()(),t.TgZ(15,"div",52)(16,"div",53)(17,"label",89),t._uU(18,"Precio de Compra"),t.qZA(),t.TgZ(19,"p-inputNumber",57),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.addInventaryPrice=o)}),t.qZA()()()}if(2&n){const e=t.oxw();t.Q6J("ngIf",e.product.image),t.xp6(4),t.Q6J("ngModel",e.product.productName)("ngClass",t.VKq(7,T,e.submitted&&!e.product.productName)),t.xp6(1),t.Q6J("ngIf",e.submitted&&!e.product.productName),t.xp6(4),t.Q6J("ngModel",e.product.description),t.xp6(5),t.Q6J("ngModel",e.addInventaryQuantity),t.xp6(5),t.Q6J("ngModel",e.addInventaryPrice)}}function rt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"button",60),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.showAddInventaryDialog=!1)}),t.qZA(),t.TgZ(1,"button",84),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveProduct())}),t.qZA()}}function st(n,a){if(1&n&&t._UZ(0,"img",59),2&n){const e=t.oxw(2);t.Q6J("alt",e.product.image)}}function at(n,a){1&n&&(t.TgZ(0,"small",90),t._uU(1,"El Nombre es requerido"),t.qZA())}function ct(n,a){if(1&n){const e=t.EpF();t.YNc(0,st,1,1,"img",51),t.TgZ(1,"div",65)(2,"label",85),t._uU(3,"Nombre Producto"),t.qZA(),t.TgZ(4,"input",86),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.product.productName=o)}),t.qZA(),t.YNc(5,at,2,0,"small",87),t.qZA(),t.TgZ(6,"div",65)(7,"label",66),t._uU(8,"Descripcion del Producto"),t.qZA(),t.TgZ(9,"textarea",88),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.product.description=o)}),t.qZA()(),t.TgZ(10,"div",52)(11,"div",53)(12,"label",89),t._uU(13,"Cantidad"),t.qZA(),t.TgZ(14,"p-inputNumber",58),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.addInventaryQuantity=o)}),t.qZA()()(),t.TgZ(15,"div",52)(16,"div",53)(17,"label",89),t._uU(18,"Precio de Compra"),t.qZA(),t.TgZ(19,"p-inputNumber",57),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.addInventaryPrice=o)}),t.qZA()()()}if(2&n){const e=t.oxw();t.Q6J("ngIf",e.product.image),t.xp6(4),t.Q6J("ngModel",e.product.productName)("ngClass",t.VKq(7,T,e.submitted&&!e.product.productName)),t.xp6(1),t.Q6J("ngIf",e.submitted&&!e.product.productName),t.xp6(4),t.Q6J("ngModel",e.product.description),t.xp6(5),t.Q6J("ngModel",e.addInventaryQuantity),t.xp6(5),t.Q6J("ngModel",e.addInventaryPrice)}}function dt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"button",60),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.showAjustInventaryDialog=!1)}),t.qZA(),t.TgZ(1,"button",84),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveProduct())}),t.qZA()}}function ut(n,a){if(1&n&&(t.TgZ(0,"span"),t._uU(1,"Esta seguro que desea eliminar a "),t.TgZ(2,"b"),t._uU(3),t.qZA(),t._uU(4,"?"),t.qZA()),2&n){const e=t.oxw();t.xp6(3),t.Oqu(e.product.productName)}}function lt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"button",91),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.deleteProductDialog=!1)}),t.qZA(),t.TgZ(1,"button",92),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.confirmDelete())}),t.qZA()}}function pt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"button",91),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.deleteProductsDialog=!1)}),t.qZA(),t.TgZ(1,"button",92),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.confirmDeleteSelected())}),t.qZA()}}function _t(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"button",91),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.hideDialog())}),t.qZA(),t.TgZ(1,"button",92),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.PrintEtiquetasSeleccionadas())}),t.qZA()}}const gt=function(){return["productName","country.name","representative.name","status"]},mt=function(){return[10,20,30]},D=function(){return{width:"850px"}},P=function(){return{width:"450px"}};let ht=(()=>{class n{constructor(e,i,o){this.productService=e,this.eventService=i,this.messageService=o,this.IsService=!1,this.addInventaryQuantity=0,this.addInventaryPrice=0,this.showAddInventaryDialog=!1,this.addAjustQuantity=0,this.showAjustInventaryDialog=!1,this.hasEnterprise=!1,this.hasWareHouse=!1,this.showProgressBar=!1,this.productToDeleteList=[],this.categoryActual=0,this.unitMeasurementActual=0,this.defaultLozalization=0,this.userUniqueIdentifiquerKey="NotFound",this.productDialog=!1,this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.products=[],this.product={},this.selectedProducts=[],this.submitted=!1,this.cols=[],this.rowsPerPageOptions=[5,10,20],this.productsByWareHouse=[],this.hasEnterprise=i.getHasEnterprise()==_.N.SuccessResponse,this.hasWareHouse=i.getHasWareHouse()==_.N.SuccessResponse,this.GetCategoriesByEnterprise(),this.GetUnitMeasurementByEnterprise(),this.GetSupplierValuesByEnterprise()}ngOnInit(){this.GetProductsByWareHouse(),this.cols=[{field:"product",header:"Product"},{field:"ProductName",header:"ProductName"},{field:"localizationName",header:"localizationName"},{field:"rating",header:"Reviews"},{field:"inventoryStatus",header:"Status"}]}openNew(){this.IsCreatingProduct=!0,this.product={},this.submitted=!1,this.productDialog=!0}deleteSelectedProducts(){this.deleteProductsDialog=!0}editProduct(e){this.IsCreatingProduct=!1,this.product=Object.assign({},e),this.productDialog=!0}deleteProduct(e){this.deleteProductDialog=!0,this.product=Object.assign({},e)}confirmDeleteSelected(){this.showProgressBar=!0,this.deleteProductsDialog=!1,this.selectedProducts.forEach(e=>this.MaterializeProductToDelete(e)),this.productService.DeleteProductByList(this.productToDeleteList,this.eventService.getToken()).subscribe(e=>{this.messageService.add(e.data?{severity:"success",summary:"Success",detail:e.data,life:6e3}:{severity:"error",summary:"Error",detail:e.message,life:3e3}),this.showProgressBar=!1},e=>{this.messageService.add({severity:"error",summary:"Error",detail:e.message,life:3e3}),this.showProgressBar=!1}),this.productToDeleteList=[],this.products=this.products.filter(e=>!this.selectedProducts.includes(e)),this.selectedProducts=[]}confirmDelete(){this.showProgressBar=!0;var e=new u;e.id=this.product.productId,e.name=this.product.productName,e.description=this.product.description,e.userIdentifiquer=this.eventService.getToken(),this.productService.DeleteProduct(e).subscribe(i=>{i.data?(this.GetProductsByWareHouse(),this.messageService.add({severity:"success",summary:"Success",detail:"El producto "+e.name+" ha sido eliminado con Exito",life:3e3})):this.messageService.add({severity:"error",summary:"Error",detail:i.message,life:3e3}),this.showProgressBar=!1},i=>{this.messageService.add({severity:"error",summary:"Error",detail:i.message,life:6e3})}),this.deleteProductDialog=!1}hideDialog(){this.productDialog=!1,this.submitted=!1,this.productDialogPrint=!1,this.printEtiquetaDialogConfirm=!1}saveProduct(){this.showProgressBar=!0,this.productRequest=new x,this.productRequest.Id=this.product.productId,this.productRequest.name=this.product.productName,this.productRequest.price=this.product.productPrice,this.productRequest.description=null==this.product.description?"":this.product.description,this.productRequest.taxId=this.product.taxId,this.productRequest.userIdentifiquer=this.userUniqueIdentifiquerKey,this.productRequest.categoryId=null==this.categoryActual?0:this.categoryActual,this.productRequest.unitMeasurementId=null==this.unitMeasurementActual?0:this.unitMeasurementActual,this.productRequest.quantity=this.product.quantity,this.productRequest.purcharsePrice=this.product.purcharsePrice,this.productRequest.code=null==this.product.code?"0":this.product.code,this.productRequest.localization=this.defaultLozalization,this.productRequest.isAService=this.product.isAService,this.productRequest.quantity=0,this.productRequest.generateCode=this.product.generateCode,this.submitted=!0,this.IsCreatingProduct?null==this.productRequest.name||null==this.productRequest.price?(this.messageService.add({severity:"error",summary:"Error",detail:"Para crear productos son obligatorios incluir el nombre y el precio",life:3e3}),this.showProgressBar=!1):this.AddNewProduct(this.productRequest):null==this.productRequest.name&&null==this.productRequest.price?(this.messageService.add({severity:"error",summary:"Error",detail:"No hay nada que actualizar",life:3e3}),this.showProgressBar=!1):this.UpdateProduct(this.productRequest)}UpdateProduct(e){e.userIdentifiquer=this.eventService.getToken(),this.productService.UpdateProduct(e).subscribe(i=>{i.data?(this.GetProductsByWareHouse(),this.messageService.add({severity:"success",summary:"Success",detail:"El producto "+e.name+" ha sido guardado con Exito",life:3e3}),this.product={},this.productDialog=!1):this.messageService.add({severity:"error",summary:"Error",detail:i.message,life:3e3}),this.showProgressBar=!1})}GetProductsByWareHouse(){this.showProgressBar=!0,this.productService.getProductsByWareHouse(this.eventService.getToken()).subscribe(e=>{e.data?(this.productsByWareHouse=e.data,this.products=e.data,console.log(this.products)):this.messageService.add({severity:"error",summary:"Error",detail:"No tiene productos creados",life:3e3}),this.showProgressBar=!1},e=>{this.messageService.add({severity:"error",summary:"Error",detail:e.message,life:6e3}),this.showProgressBar=!1})}AddNewProduct(e){e.userIdentifiquer=this.eventService.getToken(),e.supplier=null==this.actualSupplier?"0":this.actualSupplier,this.productService.AddNewProduct(e).subscribe(i=>{i.data?(this.GetProductsByWareHouse(),this.messageService.add({severity:"success",summary:"Success",detail:"El producto "+e.name+" ha sido guardado con Exito",life:3e3}),this.productDialog=!1,this.product={}):this.messageService.add({severity:"error",summary:"Error",detail:i.message,life:3e3}),this.showProgressBar=!1},i=>{this.messageService.add({severity:"error",summary:"Error",detail:"Error Grave al tratar de guardar los datos",life:3e3})})}findIndexById(e){let i=-1;for(let o=0;o<this.products.length;o++)if(this.products[o].id===e){i=o;break}return i}onGlobalFilter(e,i){e.filterGlobal(i.target.value,"contains")}filter(e){this.categoryActual=e}MaterializeProductToDelete(e){var i=new u;i.id=e.productId,i.name=e.productName,i.description=e.description,this.productToDeleteList.push(i)}addProductInventary(e){this.addInventaryPrice=0,this.addInventaryQuantity=0,this.product=Object.assign({},e),this.showAddInventaryDialog=!0}addAjustInventaryProduct(e){this.addAjustQuantity=0,this.product=Object.assign({},e),this.showAjustInventaryDialog=!0}GetCategoriesByEnterprise(){this.productService.GetCategoriesByEnterprise(this.eventService.getToken()).subscribe(e=>{e.data?this.categories=e.data:this.messageService.add({severity:"error",summary:"Error",detail:"No tiene productos creados",life:3e3})})}filterCategory(e){this.categoryActual=e}GetUnitMeasurementByEnterprise(){this.productService.GetUnitMeasurementByEnterprise(this.eventService.getToken()).subscribe(e=>{e.data?this.unitMeasurement=e.data:this.messageService.add({severity:"error",summary:"Error",detail:"No tiene productos creados",life:3e3})})}filterUM(e){this.unitMeasurementActual=e}GetSupplierValuesByEnterprise(){this.productService.GetSupplierValues(this.eventService.getToken()).subscribe(e=>{e.data?this.suppliers=e.data:this.messageService.add({severity:"error",summary:"Error",detail:"No tiene productos creados",life:3e3})})}filterCostumer(e){this.actualSupplier=e}PrintEtiqueta(e){this.product=Object.assign({},e),this.productDialogPrint=!0}callConfirmPrint(){this.printEtiquetaDialogConfirm=!0}PrintEtiquetasSeleccionadas(){this.showProgressBar=!0,this.productDialogPrint=!1,this.messageService.add({severity:"info",summary:"info",detail:"Se esta generando el trabajo de impresion, espere....",life:3e3}),this.printEtiquetaDialogConfirm=!1,this.productRequest=new x,this.productRequest.Id=this.product.productId,this.productRequest.name=this.product.productName,this.productRequest.price=this.product.productPrice,this.productRequest.description=null==this.product.description?"":this.product.description,this.productRequest.taxId=this.product.taxId,this.productRequest.userIdentifiquer=this.userUniqueIdentifiquerKey,this.productRequest.categoryId=null==this.categoryActual?0:this.categoryActual,this.productRequest.unitMeasurementId=null==this.unitMeasurementActual?0:this.unitMeasurementActual,this.productRequest.quantity=this.product.quantity,this.productRequest.purcharsePrice=this.product.purcharsePrice,this.productRequest.code=this.product.code,this.productRequest.localization=this.defaultLozalization,this.productRequest.isAService=this.product.isAService,this.productRequest.quantity=null==this.product.quantity?1:this.product.quantity,this.GetEtiquetasInformation(this.productRequest)}GetEtiquetasInformation(e){e.userIdentifiquer=this.eventService.getToken(),this.productService.GetEtiquetaInformation(e).subscribe(i=>{var o;i.message?(this.printText="",this.printText=i.message,this.messageService.add({severity:"success",summary:"Success",detail:"Se ha generado el trabajo de impresion",life:3e3}),this.product={},null===(o=window.open("print://"+this.printText,"_self"))||void 0===o||o.close()):this.messageService.add({severity:"error",summary:"Error",detail:i.data,life:3e3}),this.showProgressBar=!1})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(d.M),t.Y36(l.P),t.Y36(m.ez))},n.\u0275cmp=t.Xpm({type:n,selectors:[["ng-component"]],features:[t._Bn([m.ez])],decls:43,vars:50,consts:[[4,"ngIf"],[1,"grid"],[1,"col-12"],[1,"card","px-6","py-6"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],["responsiveLayout","scroll","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","selectionMode","multiple","dataKey","productId",3,"value","columns","rows","globalFilterFields","paginator","rowsPerPageOptions","showCurrentPageReport","selection","rowHover","selectionChange"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["header","Imprimir Etiquetas",1,"p-fluid",3,"visible","modal","visibleChange"],["pTemplate","content"],["pTemplate","footer"],["header","Detalles del Producto",1,"p-fluid",3,"visible","modal","visibleChange"],["header","Agregar Inventario",1,"p-fluid",3,"visible","modal","visibleChange"],["header","Confirm",3,"visible","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["COLOR","red"],[1,"my-2"],["pButton","","pRipple","","label","Nuevo","icon","pi pi-plus",1,"p-button-success","mr-2",3,"click"],["pButton","","pRipple","","label","Eliminar","icon","pi pi-trash",1,"p-button-danger",3,"disabled","click"],["pButton","","pRipple","","label","Exportar","icon","pi pi-upload",1,"p-button-help",3,"click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search...",1,"w-full","sm:w-auto",3,"input"],[2,"width","3rem"],["pSortableColumn","productId"],["field","productId"],["pSortableColumn","productName"],["field","productName"],["pSortableColumn","discount"],["field","discount"],["pSortableColumn","productPrice"],["field","productPrice"],["pSortableColumn","taxName"],["field","taxName"],["pSortableColumn","inventoryStatus"],["field","inventoryStatus"],[3,"value"],[2,"width","14%","min-width","10rem"],[1,"p-column-title"],[2,"width","14%","min-width","8rem"],[1,"flex"],["icon","pi pi-pencil","styleClass","p-button-rounded p-button-success p-button-text",3,"click"],["icon","pi pi-box","styleClass","p-button-rounded p-button-help p-button-text",3,"click"],["icon","pi pi-trash","styleClass","p-button-rounded p-button-danger p-button-text",3,"click"],["src","https://w7.pngwing.com/pngs/685/904/png-transparent-fizzy-drinks-coca-cola-diet-coke-rc-cola-coca-cola-food-cola-soft-drink.png","width","150","class","mt-0 mx-auto mb-5 block shadow-2",3,"alt",4,"ngIf"],[1,"formgrid","grid"],[1,"field","col"],["for","price"],["readonly","true","type","text","pInputText","","id","productName","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["for","quantity"],["id","price","mode","currency","currency","LPS","locale","en-US",3,"ngModel","ngModelChange"],["id","price",3,"ngModel","ngModelChange"],["src","https://w7.pngwing.com/pngs/685/904/png-transparent-fizzy-drinks-coca-cola-diet-coke-rc-cola-coca-cola-food-cola-soft-drink.png","width","150",1,"mt-0","mx-auto","mb-5","block","shadow-2",3,"alt"],["pButton","","pRipple","","label","Cancel","icon","pi pi-times",1,"p-button-text",3,"click"],["pButton","","pRipple","","label","Imprimir","icon","pi pi-check",1,"p-button-text",3,"click"],["type","text","pInputText","","id","productName","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["class","field col",4,"ngIf"],["id","sc",2,"margin-left","10px",3,"ngModel","ngModelChange"],[1,"field"],["for","description"],["id","description","pInputTextarea","","required","","rows","3","cols","20",3,"ngModel","ngModelChange"],["class","field",4,"ngIf"],["class","formgrid grid",4,"ngIf"],[1,"mb-3"],[1,"field-radiobutton","col-6"],["id","category1","name","category","value","1",3,"ngModel","disabled","ngModelChange"],["for","category1"],["id","category2","name","category","value","2",3,"ngModel","ngModelChange"],["for","category2"],["id","category3","name","category","value","4",3,"ngModel","ngModelChange"],["for","category3"],["id","category4","name","category","value","5",3,"ngModel","ngModelChange"],["for","category4"],["for","sc"],[3,"showFilter","IsCreating","DropDownDataSource","ValueSelectedChange"],[3,"IsCreating","DropDownDataSource","ValueSelectedChange"],["id","quantity",3,"ngModel","ngModelChange"],["pButton","","pRipple","","label","Save","icon","pi pi-check",1,"p-button-text",3,"click"],["for","ProductName"],["disabled","true","type","text","pInputText","","id","productName","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["class","ng-dirty ng-invalid",4,"ngIf"],["disabled","true","id","description","pInputTextarea","","required","","rows","3","cols","20",3,"ngModel","ngModelChange"],["for","productPrice"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(e,i){1&e&&(t.YNc(0,U,2,0,"div",0),t.YNc(1,H,4,0,"div",0),t.TgZ(2,"div",1)(3,"div",2)(4,"div",3),t._UZ(5,"p-toast"),t.TgZ(6,"p-toolbar",4),t.YNc(7,R,3,1,"ng-template",5),t.YNc(8,B,1,0,"ng-template",6),t.qZA(),t.TgZ(9,"p-table",7,8),t.NdJ("selectionChange",function(r){return i.selectedProducts=r}),t.YNc(11,G,6,0,"ng-template",9),t.YNc(12,Q,23,0,"ng-template",10),t.YNc(13,K,35,15,"ng-template",11),t.qZA()(),t.TgZ(14,"p-dialog",12),t.NdJ("visibleChange",function(r){return i.productDialogPrint=r}),t.YNc(15,F,19,11,"ng-template",13),t.YNc(16,z,2,0,"ng-template",14),t.qZA(),t.TgZ(17,"p-dialog",15),t.NdJ("visibleChange",function(r){return i.productDialog=r}),t.YNc(18,tt,28,14,"ng-template",13),t.YNc(19,et,2,0,"ng-template",14),t.qZA(),t.TgZ(20,"p-dialog",16),t.NdJ("visibleChange",function(r){return i.showAddInventaryDialog=r}),t.YNc(21,it,20,9,"ng-template",13),t.YNc(22,rt,2,0,"ng-template",14),t.qZA(),t.TgZ(23,"p-dialog",16),t.NdJ("visibleChange",function(r){return i.showAjustInventaryDialog=r}),t.YNc(24,ct,20,9,"ng-template",13),t.YNc(25,dt,2,0,"ng-template",14),t.qZA(),t.TgZ(26,"p-dialog",17),t.NdJ("visibleChange",function(r){return i.deleteProductDialog=r}),t.TgZ(27,"div",18),t._UZ(28,"i",19),t.YNc(29,ut,5,1,"span",0),t.qZA(),t.YNc(30,lt,2,0,"ng-template",14),t.qZA(),t.TgZ(31,"p-dialog",17),t.NdJ("visibleChange",function(r){return i.deleteProductsDialog=r}),t.TgZ(32,"div",18),t._UZ(33,"i",19),t.TgZ(34,"span"),t._uU(35,"Esta seguro que quiere eliminar estos productos seleccionados?"),t.qZA()(),t.YNc(36,pt,2,0,"ng-template",14),t.qZA(),t.TgZ(37,"p-dialog",17),t.NdJ("visibleChange",function(r){return i.printEtiquetaDialogConfirm=r}),t.TgZ(38,"div",18),t._UZ(39,"i",19),t.TgZ(40,"span"),t._uU(41,"Esta acci\xf3n imprimira la cantidad de etiquetas seleccionadas, esta seguro que desea continuar?"),t.qZA()(),t.YNc(42,_t,2,0,"ng-template",14),t.qZA()()()),2&e&&(t.Q6J("ngIf",i.showProgressBar),t.xp6(1),t.Q6J("ngIf",!i.hasEnterprise||!i.hasWareHouse),t.xp6(8),t.Q6J("value",i.products)("columns",i.cols)("rows",10)("globalFilterFields",t.DdM(41,gt))("rows",10)("paginator",!0)("rowsPerPageOptions",t.DdM(42,mt))("showCurrentPageReport",!0)("selection",i.selectedProducts)("rowHover",!0),t.xp6(5),t.Akn(t.DdM(43,D)),t.Q6J("visible",i.productDialogPrint)("modal",!0),t.xp6(3),t.Akn(t.DdM(44,D)),t.Q6J("visible",i.productDialog)("modal",!0),t.xp6(3),t.Akn(t.DdM(45,P)),t.Q6J("visible",i.showAddInventaryDialog)("modal",!0),t.xp6(3),t.Akn(t.DdM(46,P)),t.Q6J("visible",i.showAjustInventaryDialog)("modal",!0),t.xp6(3),t.Akn(t.DdM(47,P)),t.Q6J("visible",i.deleteProductDialog)("modal",!0),t.xp6(3),t.Q6J("ngIf",i.product),t.xp6(2),t.Akn(t.DdM(48,P)),t.Q6J("visible",i.deleteProductsDialog)("modal",!0),t.xp6(6),t.Akn(t.DdM(49,P)),t.Q6J("visible",i.printEtiquetaDialogConfirm)("modal",!0))},dependencies:[c.mk,c.O5,g.iA,m.jx,g.lQ,g.fz,g.UA,g.Mo,p.Hq,p.zx,f.Fj,f.JJ,f.Q7,f.On,M.H,b.FN,y.o,q.o,A.g,N.EU,w.Rn,I.V,J.R,E.t,S.Ql,c.H9],encapsulation:2}),n})(),ft=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[h.Bz.forChild([{path:"",component:ht}]),h.Bz]}),n})();var Ct=s(8205),vt=s(8018),xt=s(4036),Tt=s(4891);let Pt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[c.ez,ft,g.U$,Ct.O,f.u5,p.hJ,M.T,b.EV,y.V,vt.Xt,q.j,A.A,xt.kW,N.cc,w.L$,I.S,Tt.E,S.Iu]}),n})()},3407:(Z,v,s)=>{s.d(v,{A:()=>x,g:()=>m});var c=s(5e3),g=s(9808),h=s(3075);let m=(()=>{class u{constructor(t,d,l,p){this.el=t,this.ngModel=d,this.control=l,this.cd=p,this.onResize=new c.vpe}ngOnInit(){this.ngModel&&(this.ngModelSubscription=this.ngModel.valueChanges.subscribe(()=>{this.updateState()})),this.control&&(this.ngControlSubscription=this.control.valueChanges.subscribe(()=>{this.updateState()}))}ngAfterViewInit(){this.autoResize&&this.resize(),this.updateFilledState(),this.cd.detectChanges()}onInput(t){this.updateState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length}onFocus(t){this.autoResize&&this.resize(t)}onBlur(t){this.autoResize&&this.resize(t)}resize(t){this.el.nativeElement.style.height="auto",this.el.nativeElement.style.height=this.el.nativeElement.scrollHeight+"px",parseFloat(this.el.nativeElement.style.height)>=parseFloat(this.el.nativeElement.style.maxHeight)?(this.el.nativeElement.style.overflowY="scroll",this.el.nativeElement.style.height=this.el.nativeElement.style.maxHeight):this.el.nativeElement.style.overflow="hidden",this.onResize.emit(t||{})}updateState(){this.updateFilledState(),this.autoResize&&this.resize()}ngOnDestroy(){this.ngModelSubscription&&this.ngModelSubscription.unsubscribe(),this.ngControlSubscription&&this.ngControlSubscription.unsubscribe()}}return u.\u0275fac=function(t){return new(t||u)(c.Y36(c.SBq),c.Y36(h.On,8),c.Y36(h.a5,8),c.Y36(c.sBO))},u.\u0275dir=c.lG2({type:u,selectors:[["","pInputTextarea",""]],hostAttrs:[1,"p-inputtextarea","p-inputtext","p-component","p-element"],hostVars:4,hostBindings:function(t,d){1&t&&c.NdJ("input",function(p){return d.onInput(p)})("focus",function(p){return d.onFocus(p)})("blur",function(p){return d.onBlur(p)}),2&t&&c.ekj("p-filled",d.filled)("p-inputtextarea-resizable",d.autoResize)},inputs:{autoResize:"autoResize"},outputs:{onResize:"onResize"}}),u})(),x=(()=>{class u{}return u.\u0275fac=function(t){return new(t||u)},u.\u0275mod=c.oAB({type:u}),u.\u0275inj=c.cJS({imports:[g.ez]}),u})()}}]);