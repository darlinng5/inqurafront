"use strict";(self.webpackChunksakai=self.webpackChunksakai||[]).push([[741],{741:(C,l,a)=>{a.r(l),a.d(l,{ImpuestoModule:()=>x});var p=a(9808),h=a(5077),g=a(9783);class Z{}var t=a(5e3),T=a(7747),q=a(5384),m=a(5652),c=a(845),r=a(3075);function v(o,u){if(1&o&&(t.TgZ(0,"tr")(1,"th",7),t._uU(2),t.qZA(),t.TgZ(3,"th",7),t._uU(4),t.qZA(),t.TgZ(5,"th"),t._uU(6),t.qZA(),t.TgZ(7,"th"),t._uU(8),t.qZA(),t.TgZ(9,"th"),t._uU(10),t.qZA(),t.TgZ(11,"th"),t._uU(12),t.qZA(),t.TgZ(13,"th"),t._uU(14),t.qZA(),t.TgZ(15,"th",8),t._uU(16),t.qZA()()),2&o){const e=u.$implicit;t.xp6(2),t.Oqu(e.invoiceDate),t.xp6(2),t.Oqu(e.taxName),t.xp6(2),t.Oqu(e.invoiceNumber),t.xp6(2),t.Oqu(e.productName),t.xp6(2),t.Oqu(e.price),t.xp6(2),t.Oqu(e.quantity),t.xp6(2),t.Oqu(e.totalProduct),t.xp6(2),t.Oqu(e.taxTotal)}}function f(o,u){if(1&o&&(t.TgZ(0,"tr")(1,"th"),t._uU(2),t.qZA(),t.TgZ(3,"th"),t._uU(4),t.qZA(),t.TgZ(5,"th"),t._uU(6),t.qZA()()),2&o){const e=u.$implicit;t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(e.baseTax),t.xp6(2),t.Oqu(e.taxTotal)}}let A=(()=>{class o{constructor(e,n,i){this.productService=e,this.messageService=n,this.eventService=i,this.loading=!1,this.InvoiceList=[],this.taxReport=[],this.taxResume=[]}load(){this.loading=!0;var e=new Z;e.initialDate=this.StartDate,e.finalDate=this.FinalDate,this.getInvoiceReport(e)}getInvoiceReport(e){const n=this.eventService.getToken();this.productService.GetTaxReport(e,n).subscribe(i=>{var s;if(i.data){this.taxReport=i.data.taxReport,this.taxResume=i.data.taxResume;var d=0;null===(s=this.taxReport)||void 0===s||s.forEach(I=>{d+=I.taxTotal}),this.taxTotal=d}else this.messageService.add({severity:"error",summary:"Error",detail:i.message,life:3e3});this.loading=!1},i=>{this.messageService.add({severity:"error",summary:"Error",detail:i.message,life:3e3}),this.loading=!1})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(T.M),t.Y36(g.ez),t.Y36(q.P))},o.\u0275cmp=t.Xpm({type:o,selectors:[["ng-component"]],features:[t._Bn([g.ez])],decls:66,vars:9,consts:[[1,"grid"],[1,"col-12"],[1,"card"],["htmlFor","age1"],["inputId","icon",3,"ngModel","showIcon","ngModelChange"],["label","Search","icon","pi pi-search","iconPos","right",1,"space",3,"loading","onClick"],[4,"ngFor","ngForOf"],["align","left"],["align","right"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4"),t._uU(4,"Reporte de Impuestos"),t.qZA(),t.TgZ(5,"label",3),t._uU(6,"Inicial "),t.qZA(),t.TgZ(7,"p-calendar",4),t.NdJ("ngModelChange",function(s){return n.StartDate=s}),t.qZA(),t.TgZ(8,"label",3),t._uU(9,"Final "),t.qZA(),t.TgZ(10,"p-calendar",4),t.NdJ("ngModelChange",function(s){return n.FinalDate=s}),t.qZA(),t.TgZ(11,"p-button",5),t.NdJ("onClick",function(){return n.load()}),t.qZA(),t._UZ(12,"p")(13,"p"),t.TgZ(14,"table")(15,"tr")(16,"th"),t._uU(17,"Fecha"),t.qZA(),t.TgZ(18,"th"),t._uU(19,"Impuesto"),t.qZA(),t.TgZ(20,"th"),t._uU(21,"Factura"),t.qZA(),t.TgZ(22,"th"),t._uU(23,"Producto"),t.qZA(),t.TgZ(24,"th"),t._uU(25,"Precio"),t.qZA(),t.TgZ(26,"th"),t._uU(27,"Cantidad"),t.qZA(),t.TgZ(28,"th"),t._uU(29,"Total Producto"),t.qZA(),t.TgZ(30,"th"),t._uU(31,"Total Impuesto"),t.qZA()(),t.YNc(32,v,17,8,"tr",6),t.TgZ(33,"tr")(34,"th"),t._uU(35,"Totales"),t.qZA(),t._UZ(36,"th")(37,"th")(38,"th")(39,"th")(40,"th")(41,"th"),t.TgZ(42,"th"),t._uU(43),t.qZA()()(),t.TgZ(44,"h1"),t._uU(45,"Resumen"),t.qZA(),t.TgZ(46,"table")(47,"tr")(48,"th"),t._uU(49,"Nombre"),t.qZA(),t.TgZ(50,"th"),t._uU(51,"Base"),t.qZA(),t.TgZ(52,"th"),t._uU(53,"Impuesto"),t.qZA()(),t.YNc(54,f,7,3,"tr",6),t.TgZ(55,"tr")(56,"th"),t._uU(57,"Totales"),t.qZA(),t._UZ(58,"th")(59,"th")(60,"th")(61,"th")(62,"th")(63,"th"),t.TgZ(64,"th"),t._uU(65),t.qZA()()()()()()),2&e&&(t.xp6(7),t.Q6J("ngModel",n.StartDate)("showIcon",!0),t.xp6(3),t.Q6J("ngModel",n.FinalDate)("showIcon",!0),t.xp6(1),t.Q6J("loading",n.loading),t.xp6(21),t.Q6J("ngForOf",n.taxReport),t.xp6(11),t.Oqu(n.taxTotal),t.xp6(11),t.Q6J("ngForOf",n.taxResume),t.xp6(11),t.Oqu(n.taxTotal))},dependencies:[p.sg,m.f,c.zx,r.JJ,r.On],styles:["table[_ngcontent-%COMP%] {\n      border-collapse: collapse;\n      width: 100%;\n    }\n    \n    tr[_ngcontent-%COMP%] {\n      border-bottom: 1px solid #ddd;\n    }\n    .space[_ngcontent-%COMP%] {\n  width: 4px;\n  height: auto;\n  margin-left: 20px;\n}"]}),o})(),U=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[h.Bz.forChild([{path:"",component:A}]),h.Bz]}),o})(),x=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[p.ez,U,m._8,c.hJ,r.u5,r.UX]}),o})()}}]);