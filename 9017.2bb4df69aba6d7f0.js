"use strict";(self.webpackChunksakai=self.webpackChunksakai||[]).push([[9017],{9017:(A,f,a)=>{a.r(f),a.d(f,{FacturaReporteModule:()=>U});var g=a(9808),v=a(5077),y=a(9783);class s{}var t=a(5e3),e=a(7747),n=a(5384),l=a(5652),u=a(845),h=a(3075),Z=a(6186);function M(o,p){if(1&o&&(t.TgZ(0,"tr",11)(1,"th",12),t._uU(2),t.qZA(),t.TgZ(3,"th",12),t._uU(4),t.qZA(),t.TgZ(5,"th"),t._uU(6),t.qZA(),t.TgZ(7,"th"),t._uU(8),t.qZA(),t.TgZ(9,"th"),t._uU(10),t.qZA(),t.TgZ(11,"th"),t._uU(12),t.qZA(),t.TgZ(13,"th"),t._uU(14),t.qZA(),t.TgZ(15,"th"),t._uU(16),t.qZA(),t.TgZ(17,"th",13),t._uU(18),t.qZA()()),2&o){const i=p.$implicit;t.xp6(2),t.Oqu(i.sarNumber),t.xp6(2),t.Oqu(i.costumerName),t.xp6(2),t.Oqu(i.date),t.xp6(2),t.hij("",i.payPercentaje,"%"),t.xp6(2),t.Oqu(i.discount),t.xp6(2),t.Oqu(i.payCredit),t.xp6(2),t.Oqu(i.payOthers),t.xp6(2),t.Oqu(i.payCash),t.xp6(2),t.Oqu(i.total)}}let q=(()=>{class o{constructor(i,r,c){this.productService=i,this.messageService=r,this.eventService=c,this.loading=!1,this.InvoiceList=[]}load(){this.loading=!0;var i=new s;i.initialDate=this.StartDate,i.finalDate=this.FinalDate,this.getInvoiceReport(i)}getInvoiceReport(i){const r=this.eventService.getToken();this.productService.GetInvoiceReport(i,r).subscribe(c=>{var d;if(c.data){this.InvoiceList=c.data;var T=0,_=0,C=0,F=0,S=0;null===(d=this.InvoiceList)||void 0===d||d.forEach(m=>{T+=m.payOthers,_+=m.payCash,C+=m.payCredit,F+=m.total,S+=m.discount}),this.totalOthers=T,this.totalCash=_,this.totalCredit=C,this.totalInvoice=F,this.totalDiscount=S}else this.messageService.add({severity:"error",summary:"Error",detail:c.message,life:3e3});this.loading=!1},c=>{this.messageService.add({severity:"error",summary:"Error",detail:c.message,life:3e3}),this.loading=!1})}}return o.\u0275fac=function(i){return new(i||o)(t.Y36(e.M),t.Y36(y.ez),t.Y36(n.P))},o.\u0275cmp=t.Xpm({type:o,selectors:[["ng-component"]],features:[t._Bn([y.ez])],decls:53,vars:11,consts:[["id","print-section"],[1,"grid"],[1,"col-12"],[1,"card"],["htmlFor","age1"],["inputId","icon",3,"ngModel","showIcon","ngModelChange"],["label","Search","icon","pi pi-search","iconPos","right",1,"space",3,"loading","onClick"],[2,"background-color","#7288a2","color","white"],["style","font-size: small;",4,"ngFor","ngForOf"],[2,"color","black"],["printSectionId","print-section","ngxPrint","","pButton","","pRipple","","label","imprimir","icon","pi pi-print",1,"p-button-help"],[2,"font-size","small"],["align","left"],["align","right"]],template:function(i,r){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4"),t._uU(5,"Reporte de Facturas"),t.qZA(),t.TgZ(6,"label",4),t._uU(7,"Inicial "),t.qZA(),t.TgZ(8,"p-calendar",5),t.NdJ("ngModelChange",function(d){return r.StartDate=d}),t.qZA(),t.TgZ(9,"label",4),t._uU(10,"Final "),t.qZA(),t.TgZ(11,"p-calendar",5),t.NdJ("ngModelChange",function(d){return r.FinalDate=d}),t.qZA(),t.TgZ(12,"p-button",6),t.NdJ("onClick",function(){return r.load()}),t.qZA(),t._UZ(13,"p")(14,"p"),t.TgZ(15,"table")(16,"tr",7)(17,"th"),t._uU(18,"Fac. N."),t.qZA(),t.TgZ(19,"th"),t._uU(20,"Cliente"),t.qZA(),t.TgZ(21,"th"),t._uU(22,"Fecha"),t.qZA(),t.TgZ(23,"th"),t._uU(24,"% Pagado"),t.qZA(),t.TgZ(25,"th"),t._uU(26,"Descuento"),t.qZA(),t.TgZ(27,"th"),t._uU(28,"Credito"),t.qZA(),t.TgZ(29,"th"),t._uU(30,"Otros"),t.qZA(),t.TgZ(31,"th"),t._uU(32,"Efectivo"),t.qZA(),t.TgZ(33,"th"),t._uU(34,"Total"),t.qZA()(),t.YNc(35,M,19,9,"tr",8),t.TgZ(36,"tr",9)(37,"th"),t._uU(38,"Totales"),t.qZA(),t._UZ(39,"th")(40,"th")(41,"th"),t.TgZ(42,"th"),t._uU(43),t.qZA(),t.TgZ(44,"th"),t._uU(45),t.qZA(),t.TgZ(46,"th"),t._uU(47),t.qZA(),t.TgZ(48,"th"),t._uU(49),t.qZA(),t.TgZ(50,"th"),t._uU(51),t.qZA()()()()()()(),t._UZ(52,"button",10)),2&i&&(t.xp6(8),t.Q6J("ngModel",r.StartDate)("showIcon",!0),t.xp6(3),t.Q6J("ngModel",r.FinalDate)("showIcon",!0),t.xp6(1),t.Q6J("loading",r.loading),t.xp6(23),t.Q6J("ngForOf",r.InvoiceList),t.xp6(8),t.Oqu(r.totalDiscount),t.xp6(2),t.Oqu(r.totalCredit),t.xp6(2),t.Oqu(r.totalOthers),t.xp6(2),t.Oqu(r.totalCash),t.xp6(2),t.Oqu(r.totalInvoice))},dependencies:[g.sg,l.f,u.Hq,u.zx,h.JJ,h.On,Z.I],styles:["table[_ngcontent-%COMP%] {\n      border-collapse: collapse;\n      width: 100%;\n    }\n    \n    tr[_ngcontent-%COMP%] {\n      border-bottom: 1px solid #ddd;\n    }\n    .space[_ngcontent-%COMP%] {\n  width: 4px;\n  height: auto;\n  margin-left: 20px;\n}"]}),o})(),x=(()=>{class o{}return o.\u0275fac=function(i){return new(i||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[v.Bz.forChild([{path:"",component:q}]),v.Bz]}),o})(),U=(()=>{class o{}return o.\u0275fac=function(i){return new(i||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[g.ez,x,l._8,u.hJ,h.u5,h.UX,Z.K]}),o})()},6186:(A,f,a)=>{a.d(f,{I:()=>v,K:()=>y});var g=a(5e3);let v=(()=>{class s{constructor(){this._printStyle=[],this.useExistingCss=!1,this.printDelay=0,this._styleSheetFile=""}set printStyle(e){for(let n in e)e.hasOwnProperty(n)&&this._printStyle.push((n+JSON.stringify(e[n])).replace(/['"]+/g,""));this.returnStyleValues()}returnStyleValues(){return`<style> ${this._printStyle.join(" ").replace(/,/g,";")} </style>`}set styleSheetFile(e){let n=function(l){return`<link rel="stylesheet" type="text/css" href="${l}">`};if(-1!==e.indexOf(",")){const l=e.split(",");for(let u of l)this._styleSheetFile=this._styleSheetFile+n(u)}else this._styleSheetFile=n(e)}returnStyleSheetLinkTags(){return this._styleSheetFile}getElementTag(e){const n=[],l=document.getElementsByTagName(e);for(let u=0;u<l.length;u++)n.push(l[u].outerHTML);return n.join("\r\n")}getFormData(e){for(var n=0;n<e.length;n++)e[n].defaultValue=e[n].value,e[n].checked&&(e[n].defaultChecked=!0)}getHtmlContents(){let e=document.getElementById(this.printSectionId),n=e.getElementsByTagName("input");this.getFormData(n);let l=e.getElementsByTagName("textarea");return this.getFormData(l),e.innerHTML}print(){let e,n,l="",u="";const h=this.getElementTag("base");this.useExistingCss&&(l=this.getElementTag("style"),u=this.getElementTag("link")),e=this.getHtmlContents(),n=window.open("","_blank","top=0,left=0,height=auto,width=auto"),n.document.open(),n.document.write(`\n      <html>\n        <head>\n          <title>${this.printTitle?this.printTitle:""}</title>\n          ${h}\n          ${this.returnStyleValues()}\n          ${this.returnStyleSheetLinkTags()}\n          ${l}\n          ${u}\n        </head>\n        <body>\n          ${e}\n          <script defer>\n            function triggerPrint(event) {\n              window.removeEventListener('load', triggerPrint, false);\n              setTimeout(function() {\n                closeWindow(window.print());\n              }, ${this.printDelay});\n            }\n            function closeWindow(){\n                window.close();\n            }\n            window.addEventListener('load', triggerPrint, false);\n          <\/script>\n        </body>\n      </html>`),n.document.close()}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275dir=g.lG2({type:s,selectors:[["button","ngxPrint",""]],hostBindings:function(e,n){1&e&&g.NdJ("click",function(){return n.print()})},inputs:{useExistingCss:"useExistingCss",printDelay:"printDelay",printStyle:"printStyle",styleSheetFile:"styleSheetFile",printSectionId:"printSectionId",printTitle:"printTitle"}}),s})(),y=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=g.oAB({type:s}),s.\u0275inj=g.cJS({}),s})()}}]);