"use strict";(self.webpackChunksakai=self.webpackChunksakai||[]).push([[9017],{9017:(M,c,n)=>{n.r(c),n.d(c,{FacturaReporteModule:()=>O});var p=n(9808),h=n(5077),d=n(9783);class C{}var t=n(5e3),q=n(7747),A=n(5384),g=n(5652),Z=n(845),s=n(3075);function F(a,i){if(1&a&&(t.TgZ(0,"tr")(1,"th",7),t._uU(2),t.qZA(),t.TgZ(3,"th",7),t._uU(4),t.qZA(),t.TgZ(5,"th"),t._uU(6),t.qZA(),t.TgZ(7,"th"),t._uU(8),t.qZA(),t.TgZ(9,"th"),t._uU(10),t.qZA(),t.TgZ(11,"th"),t._uU(12),t.qZA(),t.TgZ(13,"th"),t._uU(14),t.qZA(),t.TgZ(15,"th",8),t._uU(16),t.qZA()()),2&a){const e=i.$implicit;t.xp6(2),t.Oqu(e.sarNumber),t.xp6(2),t.Oqu(e.costumerName),t.xp6(2),t.Oqu(e.date),t.xp6(2),t.hij("",e.payPercentaje,"%"),t.xp6(2),t.Oqu(e.payCredit),t.xp6(2),t.Oqu(e.payOthers),t.xp6(2),t.Oqu(e.payCash),t.xp6(2),t.Oqu(e.total)}}let U=(()=>{class a{constructor(e,o,r){this.productService=e,this.messageService=o,this.eventService=r,this.loading=!1,this.InvoiceList=[]}load(){this.loading=!0;var e=new C;e.initialDate=this.StartDate,e.finalDate=this.FinalDate,this.getInvoiceReport(e)}getInvoiceReport(e){const o=this.eventService.getToken();this.productService.GetInvoiceReport(e,o).subscribe(r=>{var l;if(r.data){this.InvoiceList=r.data;var m=0,v=0,T=0,f=0;null===(l=this.InvoiceList)||void 0===l||l.forEach(u=>{m+=u.payOthers,v+=u.payCash,T+=u.payCredit,f+=u.total}),this.totalOthers=m,this.totalCash=v,this.totalCredit=T,this.totalInvoice=f}else this.messageService.add({severity:"error",summary:"Error",detail:r.message,life:3e3});this.loading=!1},r=>{this.messageService.add({severity:"error",summary:"Error",detail:r.message,life:3e3}),this.loading=!1})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(q.M),t.Y36(d.ez),t.Y36(A.P))},a.\u0275cmp=t.Xpm({type:a,selectors:[["ng-component"]],features:[t._Bn([d.ez])],decls:47,vars:10,consts:[[1,"grid"],[1,"col-12"],[1,"card"],["htmlFor","age1"],["inputId","icon",3,"ngModel","showIcon","ngModelChange"],["label","Search","icon","pi pi-search","iconPos","right",1,"space",3,"loading","onClick"],[4,"ngFor","ngForOf"],["align","left"],["align","right"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4"),t._uU(4,"Reporte de Facturas"),t.qZA(),t.TgZ(5,"label",3),t._uU(6,"Inicial "),t.qZA(),t.TgZ(7,"p-calendar",4),t.NdJ("ngModelChange",function(l){return o.StartDate=l}),t.qZA(),t.TgZ(8,"label",3),t._uU(9,"Final "),t.qZA(),t.TgZ(10,"p-calendar",4),t.NdJ("ngModelChange",function(l){return o.FinalDate=l}),t.qZA(),t.TgZ(11,"p-button",5),t.NdJ("onClick",function(){return o.load()}),t.qZA(),t._UZ(12,"p")(13,"p"),t.TgZ(14,"table")(15,"tr")(16,"th"),t._uU(17,"Fac. N."),t.qZA(),t.TgZ(18,"th"),t._uU(19,"Cliente"),t.qZA(),t.TgZ(20,"th"),t._uU(21,"Fecha"),t.qZA(),t.TgZ(22,"th"),t._uU(23,"% Pagado"),t.qZA(),t.TgZ(24,"th"),t._uU(25,"Credito"),t.qZA(),t.TgZ(26,"th"),t._uU(27,"Otros"),t.qZA(),t.TgZ(28,"th"),t._uU(29,"Efectivo"),t.qZA(),t.TgZ(30,"th"),t._uU(31,"Total"),t.qZA()(),t.YNc(32,F,17,8,"tr",6),t.TgZ(33,"tr")(34,"th"),t._uU(35,"Totales"),t.qZA(),t._UZ(36,"th")(37,"th")(38,"th"),t.TgZ(39,"th"),t._uU(40),t.qZA(),t.TgZ(41,"th"),t._uU(42),t.qZA(),t.TgZ(43,"th"),t._uU(44),t.qZA(),t.TgZ(45,"th"),t._uU(46),t.qZA()()()()()()),2&e&&(t.xp6(7),t.Q6J("ngModel",o.StartDate)("showIcon",!0),t.xp6(3),t.Q6J("ngModel",o.FinalDate)("showIcon",!0),t.xp6(1),t.Q6J("loading",o.loading),t.xp6(21),t.Q6J("ngForOf",o.InvoiceList),t.xp6(8),t.Oqu(o.totalCredit),t.xp6(2),t.Oqu(o.totalOthers),t.xp6(2),t.Oqu(o.totalCash),t.xp6(2),t.Oqu(o.totalInvoice))},dependencies:[p.sg,g.f,Z.zx,s.JJ,s.On],styles:["table[_ngcontent-%COMP%] {\n      border-collapse: collapse;\n      width: 100%;\n    }\n    \n    tr[_ngcontent-%COMP%] {\n      border-bottom: 1px solid #ddd;\n    }\n    .space[_ngcontent-%COMP%] {\n  width: 4px;\n  height: auto;\n  margin-left: 20px;\n}"]}),a})(),R=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[h.Bz.forChild([{path:"",component:U}]),h.Bz]}),a})(),O=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[p.ez,R,g._8,Z.hJ,s.u5,s.UX]}),a})()}}]);