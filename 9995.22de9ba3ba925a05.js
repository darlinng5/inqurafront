"use strict";(self.webpackChunksakai=self.webpackChunksakai||[]).push([[9995],{6768:(f,g,n)=>{n.d(g,{t:()=>e});var r=n(5e3),u=n(7747),p=n(5384),m=n(3075),Z=n(4036);let e=(()=>{class l{constructor(a,d){this.commonService=a,this.eventService=d,this.ValueSelectedChange=new r.vpe,this.categorys=[],this.Filter=!1}ngOnInit(){this.data=this.DropDownDataSource,this.Filter=this.showFilter}changeValue(){var a;this.ValueSelected=null===(a=this.selectedData)||void 0===a?void 0:a.value,this.ValueSelectedChange.emit(this.ValueSelected)}selectedValue(){var a;this.ValueSelected=null===(a=this.selectedData)||void 0===a?void 0:a.value,this.ValueSelectedChange.emit(this.ValueSelected)}}return l.\u0275fac=function(a){return new(a||l)(r.Y36(u.M),r.Y36(p.P))},l.\u0275cmp=r.Xpm({type:l,selectors:[["app-drop-down"]],inputs:{ValueSelected:"ValueSelected",IsCreating:"IsCreating",showFilter:"showFilter",DropDownDataSource:"DropDownDataSource"},outputs:{ValueSelectedChange:"ValueSelectedChange"},decls:1,vars:3,consts:[["optionLabel","viewValue",3,"filter","options","ngModel","onClick","onChange","ngModelChange"]],template:function(a,d){1&a&&(r.TgZ(0,"p-dropdown",0),r.NdJ("onClick",function(){return d.selectedValue()})("onChange",function(){return d.changeValue()})("ngModelChange",function(_){return d.selectedData=_}),r.qZA()),2&a&&r.Q6J("filter",d.Filter)("options",d.data)("ngModel",d.selectedData)},dependencies:[m.JJ,m.On,Z.Lt],encapsulation:2}),l})()},9995:(f,g,n)=>{n.r(g),n.d(g,{KardexDemoModule:()=>S});var r=n(9808),u=n(845),p=n(7449),m=n(1546),Z=n(9783),e=n(5e3),l=n(7747),v=n(5384),a=n(6186),d=n(6768),h=n(7773);function _(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div")(1,"app-drop-down",12),e.NdJ("ValueSelectedChange",function(c){e.CHM(t);const C=e.oxw();return e.KtG(C.filterProduct(c))}),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(1),e.Q6J("showFilter",!0)("IsCreating",!0)("DropDownDataSource",t.products)}}function T(o,s){1&o&&(e.TgZ(0,"div")(1,"h5"),e._uU(2,"Cargando los productos, espere...."),e.qZA()())}function A(o,s){if(1&o&&(e.TgZ(0,"tr",13)(1,"th",14),e._uU(2),e.qZA(),e.TgZ(3,"th",14),e._uU(4),e.qZA(),e.TgZ(5,"th",14),e._uU(6),e.qZA(),e.TgZ(7,"th"),e._uU(8),e.qZA(),e.TgZ(9,"th"),e._uU(10),e.qZA(),e.TgZ(11,"th"),e._uU(12),e.qZA(),e.TgZ(13,"th",15),e._uU(14),e.qZA(),e.TgZ(15,"th",15),e._uU(16),e.qZA(),e.TgZ(17,"th"),e._uU(18),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.qZA()()),2&o){const t=s.$implicit;e.xp6(2),e.Oqu(t.id),e.xp6(2),e.Oqu(t.fecha),e.xp6(2),e.Oqu(t.descripcion),e.xp6(2),e.Oqu(t.costoUnitario),e.xp6(2),e.Oqu(t.entradaCantidad),e.xp6(2),e.Oqu(t.entradaValor),e.xp6(2),e.Oqu(t.salidaCantidad),e.xp6(2),e.Oqu(t.salidaValor),e.xp6(2),e.Oqu(t.balanceCantidad),e.xp6(2),e.Oqu(t.balanceValor)}}let D=(()=>{class o{constructor(t,i,c,C){this.router=t,this.productService=i,this.eventService=c,this.messageService=C,this.kardex=[],this.loading=!1,this.isLoading=!1,this.redirect=!1,this.AccessName="/pages/kardex",this.getProductValues()}ngOnInit(){const i=this.eventService.getPermisionsException().split(",").map(c=>c.trim());this.redirect=i.includes(this.AccessName),this.redirect&&this.router.navigateByUrl("/pages/unautorized")}load(){this.producId=null==this.producId?0:this.producId,this.GetKardex()}filterProduct(t){this.producId=t}getProductValues(){this.loading=!0,this.productService.GetProductsValues(this.eventService.getToken()).subscribe(t=>{t.data&&(this.products=t.data),this.loading=!1})}GetKardex(){this.isLoading=!0,this.productService.GettKardexReport(this.producId,this.eventService.getToken()).subscribe(t=>{t.data?(this.kardex=t.data.kardex,this.code=t.data.encabezado.code,this.product=t.data.encabezado.product,this.supplier=t.data.encabezado.proveedor,this.localization=t.data.encabezado.ubicacion):this.messageService.add({severity:"error",summary:"error",detail:t.message,life:6e3}),this.isLoading=!1})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(p.F0),e.Y36(l.M),e.Y36(v.P),e.Y36(Z.ez))},o.\u0275cmp=e.Xpm({type:o,selectors:[["ng-component"]],features:[e._Bn([Z.ez])],decls:69,vars:8,consts:[["id","print-section"],[1,"grid"],[1,"col-12"],[1,"card"],[2,"display","flex","width","100%"],[2,"flex","1"],[4,"ngIf"],["label","Search","icon","pi pi-search","iconPos","right",1,"space",3,"loading","onClick"],[2,"font-size","medium"],[2,"background-color","#7288a2","color","white"],["style","font-size: small;",4,"ngFor","ngForOf"],["printSectionId","print-section","ngxPrint","","pButton","","pRipple","","label","imprimir","icon","pi pi-print",1,"p-button-help"],[3,"showFilter","IsCreating","DropDownDataSource","ValueSelectedChange"],[2,"font-size","small"],["align","left"],["align","right"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._UZ(4,"p-toast"),e.TgZ(5,"div",4)(6,"div",5),e.YNc(7,_,2,3,"div",6),e.YNc(8,T,3,0,"div",6),e.qZA(),e.TgZ(9,"div",5)(10,"p-button",7),e.NdJ("onClick",function(){return i.load()}),e.qZA()()(),e.TgZ(11,"div",4)(12,"div",5)(13,"p")(14,"strong"),e._uU(15," Producto:"),e.qZA(),e._uU(16),e.qZA(),e.TgZ(17,"p")(18,"strong"),e._uU(19," Proveedor:"),e.qZA(),e._uU(20),e.qZA()(),e.TgZ(21,"div",5)(22,"p")(23,"strong"),e._uU(24," Codigo: "),e.qZA(),e._uU(25),e.qZA(),e.TgZ(26,"p")(27,"strong"),e._uU(28," Localizacion:"),e.qZA(),e._uU(29),e.qZA()()(),e._UZ(30,"p")(31,"p"),e.TgZ(32,"table")(33,"tr"),e._UZ(34,"th")(35,"th")(36,"th")(37,"th"),e.TgZ(38,"th",8),e._uU(39," Entradas "),e.qZA(),e._UZ(40,"th"),e.TgZ(41,"th",8),e._uU(42," Salidas "),e.qZA(),e._UZ(43,"th"),e.TgZ(44,"th",8),e._uU(45," Saldos "),e.qZA()(),e.TgZ(46,"tr",9)(47,"th"),e._uU(48,"N."),e.qZA(),e.TgZ(49,"th"),e._uU(50,"Fecha"),e.qZA(),e.TgZ(51,"th"),e._uU(52,"Descripci\xf3n"),e.qZA(),e.TgZ(53,"th"),e._uU(54,"Costo Unitario"),e.qZA(),e.TgZ(55,"th"),e._uU(56,"Cant."),e.qZA(),e.TgZ(57,"th"),e._uU(58,"Valor"),e.qZA(),e.TgZ(59,"th"),e._uU(60,"Cant."),e.qZA(),e.TgZ(61,"th"),e._uU(62,"Valor"),e.qZA(),e.TgZ(63,"th"),e._uU(64,"Cant."),e.qZA(),e.TgZ(65,"th"),e._uU(66,"Valor"),e.qZA()(),e.YNc(67,A,21,10,"tr",10),e.qZA()()()()(),e._UZ(68,"button",11)),2&t&&(e.xp6(7),e.Q6J("ngIf",!i.loading),e.xp6(1),e.Q6J("ngIf",i.loading),e.xp6(2),e.Q6J("loading",i.isLoading),e.xp6(6),e.hij(" ",i.product,""),e.xp6(4),e.hij(" ",i.supplier,""),e.xp6(5),e.hij(" ",i.code,""),e.xp6(4),e.hij(" ",i.localization,""),e.xp6(38),e.Q6J("ngForOf",i.kardex))},dependencies:[r.sg,r.O5,a.I,d.t,u.Hq,u.zx,h.FN],styles:["table[_ngcontent-%COMP%] {\n      border-collapse: collapse;\n      width: 100%;\n    }\n    \n    tr[_ngcontent-%COMP%] {\n      border-bottom: 1px solid #ddd;\n    }\n    .space[_ngcontent-%COMP%] {\n  width: 4px;\n  height: auto;\n  margin-left: 20px;\n}"]}),o})(),x=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[p.Bz.forChild([{path:"",component:D,canActivate:[m.j]}]),p.Bz]}),o})();var U=n(4891);let S=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[r.ez,x,a.K,U.E,u.hJ,h.EV]}),o})()}}]);