"use strict";(self.webpackChunksakai=self.webpackChunksakai||[]).push([[741],{741:(y,m,r)=>{r.r(m),r.d(m,{ImpuestoModule:()=>I});var c=r(9808),f=r(5077),T=r(9783);class s{}var t=r(5e3),e=r(7747),i=r(5384),l=r(5652),u=r(845),h=r(3075),Z=r(6186);function x(o,g){if(1&o&&(t.TgZ(0,"tr",11)(1,"th",12),t._uU(2),t.qZA(),t.TgZ(3,"th",12),t._uU(4),t.qZA(),t.TgZ(5,"th"),t._uU(6),t.qZA(),t.TgZ(7,"th"),t._uU(8),t.qZA(),t.TgZ(9,"th"),t._uU(10),t.qZA(),t.TgZ(11,"th"),t._uU(12),t.qZA(),t.TgZ(13,"th"),t._uU(14),t.qZA(),t.TgZ(15,"th",13),t._uU(16),t.qZA()()),2&o){const n=g.$implicit;t.xp6(2),t.Oqu(n.invoiceDate),t.xp6(2),t.Oqu(n.taxName),t.xp6(2),t.Oqu(n.invoiceNumber),t.xp6(2),t.Oqu(n.productName),t.xp6(2),t.Oqu(n.price),t.xp6(2),t.Oqu(n.quantity),t.xp6(2),t.Oqu(n.totalProduct),t.xp6(2),t.Oqu(n.taxTotal)}}function _(o,g){if(1&o&&(t.TgZ(0,"tr",11)(1,"th"),t._uU(2),t.qZA(),t.TgZ(3,"th"),t._uU(4),t.qZA(),t.TgZ(5,"th"),t._uU(6),t.qZA()()),2&o){const n=g.$implicit;t.xp6(2),t.Oqu(n.name),t.xp6(2),t.Oqu(n.baseTax),t.xp6(2),t.Oqu(n.taxTotal)}}let S=(()=>{class o{constructor(n,a,p){this.productService=n,this.messageService=a,this.eventService=p,this.loading=!1,this.InvoiceList=[],this.taxReport=[],this.taxResume=[]}load(){this.loading=!0;var n=new s;n.initialDate=this.StartDate,n.finalDate=this.FinalDate,this.getInvoiceReport(n)}getInvoiceReport(n){const a=this.eventService.getToken();this.productService.GetTaxReport(n,a).subscribe(p=>{var d;if(p.data){this.taxReport=p.data.taxReport,this.taxResume=p.data.taxResume;var v=0;null===(d=this.taxReport)||void 0===d||d.forEach(q=>{v+=q.taxTotal}),this.taxTotal=Number(v.toFixed(2))}else this.messageService.add({severity:"error",summary:"Error",detail:p.message,life:3e3});this.loading=!1},p=>{this.messageService.add({severity:"error",summary:"Error",detail:p.message,life:3e3}),this.loading=!1})}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(e.M),t.Y36(T.ez),t.Y36(i.P))},o.\u0275cmp=t.Xpm({type:o,selectors:[["ng-component"]],features:[t._Bn([T.ez])],decls:68,vars:9,consts:[["id","print-section"],[1,"grid"],[1,"col-12"],[1,"card"],["htmlFor","age1"],["inputId","icon",3,"ngModel","showIcon","ngModelChange"],["label","Search","icon","pi pi-search","iconPos","right",1,"space",3,"loading","onClick"],[2,"background-color","#7288a2","color","white"],["style","font-size: small;",4,"ngFor","ngForOf"],[2,"color","black"],["printSectionId","print-section","ngxPrint","","pButton","","pRipple","","label","imprimir","icon","pi pi-print",1,"p-button-help"],[2,"font-size","small"],["align","left"],["align","right"]],template:function(n,a){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4"),t._uU(5,"Reporte de Impuestos"),t.qZA(),t.TgZ(6,"label",4),t._uU(7,"Inicial "),t.qZA(),t.TgZ(8,"p-calendar",5),t.NdJ("ngModelChange",function(d){return a.StartDate=d}),t.qZA(),t.TgZ(9,"label",4),t._uU(10,"Final "),t.qZA(),t.TgZ(11,"p-calendar",5),t.NdJ("ngModelChange",function(d){return a.FinalDate=d}),t.qZA(),t.TgZ(12,"p-button",6),t.NdJ("onClick",function(){return a.load()}),t.qZA(),t._UZ(13,"p")(14,"p"),t.TgZ(15,"table")(16,"tr",7)(17,"th"),t._uU(18,"Fecha"),t.qZA(),t.TgZ(19,"th"),t._uU(20,"Impuesto"),t.qZA(),t.TgZ(21,"th"),t._uU(22,"Factura"),t.qZA(),t.TgZ(23,"th"),t._uU(24,"Producto"),t.qZA(),t.TgZ(25,"th"),t._uU(26,"Precio"),t.qZA(),t.TgZ(27,"th"),t._uU(28,"Cantidad"),t.qZA(),t.TgZ(29,"th"),t._uU(30,"Total Producto"),t.qZA(),t.TgZ(31,"th"),t._uU(32,"Total Impuesto"),t.qZA()(),t.YNc(33,x,17,8,"tr",8),t.TgZ(34,"tr",9)(35,"th"),t._uU(36,"Totales"),t.qZA(),t._UZ(37,"th")(38,"th")(39,"th")(40,"th")(41,"th")(42,"th"),t.TgZ(43,"th"),t._uU(44),t.qZA()()(),t.TgZ(45,"h3"),t._uU(46,"Resumen"),t.qZA(),t.TgZ(47,"table")(48,"tr",7)(49,"th"),t._uU(50,"Nombre"),t.qZA(),t.TgZ(51,"th"),t._uU(52,"Base"),t.qZA(),t.TgZ(53,"th"),t._uU(54,"Impuesto"),t.qZA()(),t.YNc(55,_,7,3,"tr",8),t.TgZ(56,"tr",9)(57,"th"),t._uU(58,"Totales"),t.qZA(),t._UZ(59,"th")(60,"th")(61,"th")(62,"th")(63,"th")(64,"th"),t.TgZ(65,"th"),t._uU(66),t.qZA()()()()()()(),t._UZ(67,"button",10)),2&n&&(t.xp6(8),t.Q6J("ngModel",a.StartDate)("showIcon",!0),t.xp6(3),t.Q6J("ngModel",a.FinalDate)("showIcon",!0),t.xp6(1),t.Q6J("loading",a.loading),t.xp6(21),t.Q6J("ngForOf",a.taxReport),t.xp6(11),t.Oqu(a.taxTotal),t.xp6(11),t.Q6J("ngForOf",a.taxResume),t.xp6(11),t.Oqu(a.taxTotal))},dependencies:[c.sg,l.f,u.Hq,u.zx,h.JJ,h.On,Z.I],styles:["table[_ngcontent-%COMP%] {\n      border-collapse: collapse;\n      width: 100%;\n    }\n    \n    tr[_ngcontent-%COMP%] {\n      border-bottom: 1px solid #ddd;\n    }\n    .space[_ngcontent-%COMP%] {\n  width: 4px;\n  height: auto;\n  margin-left: 20px;\n}"]}),o})(),A=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[f.Bz.forChild([{path:"",component:S}]),f.Bz]}),o})(),I=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[c.ez,A,l._8,u.hJ,h.u5,h.UX,Z.K]}),o})()},6186:(y,m,r)=>{r.d(m,{I:()=>f,K:()=>T});var c=r(5e3);let f=(()=>{class s{constructor(){this._printStyle=[],this.useExistingCss=!1,this.printDelay=0,this._styleSheetFile=""}set printStyle(e){for(let i in e)e.hasOwnProperty(i)&&this._printStyle.push((i+JSON.stringify(e[i])).replace(/['"]+/g,""));this.returnStyleValues()}returnStyleValues(){return`<style> ${this._printStyle.join(" ").replace(/,/g,";")} </style>`}set styleSheetFile(e){let i=function(l){return`<link rel="stylesheet" type="text/css" href="${l}">`};if(-1!==e.indexOf(",")){const l=e.split(",");for(let u of l)this._styleSheetFile=this._styleSheetFile+i(u)}else this._styleSheetFile=i(e)}returnStyleSheetLinkTags(){return this._styleSheetFile}getElementTag(e){const i=[],l=document.getElementsByTagName(e);for(let u=0;u<l.length;u++)i.push(l[u].outerHTML);return i.join("\r\n")}getFormData(e){for(var i=0;i<e.length;i++)e[i].defaultValue=e[i].value,e[i].checked&&(e[i].defaultChecked=!0)}getHtmlContents(){let e=document.getElementById(this.printSectionId),i=e.getElementsByTagName("input");this.getFormData(i);let l=e.getElementsByTagName("textarea");return this.getFormData(l),e.innerHTML}print(){let e,i,l="",u="";const h=this.getElementTag("base");this.useExistingCss&&(l=this.getElementTag("style"),u=this.getElementTag("link")),e=this.getHtmlContents(),i=window.open("","_blank","top=0,left=0,height=auto,width=auto"),i.document.open(),i.document.write(`\n      <html>\n        <head>\n          <title>${this.printTitle?this.printTitle:""}</title>\n          ${h}\n          ${this.returnStyleValues()}\n          ${this.returnStyleSheetLinkTags()}\n          ${l}\n          ${u}\n        </head>\n        <body>\n          ${e}\n          <script defer>\n            function triggerPrint(event) {\n              window.removeEventListener('load', triggerPrint, false);\n              setTimeout(function() {\n                closeWindow(window.print());\n              }, ${this.printDelay});\n            }\n            function closeWindow(){\n                window.close();\n            }\n            window.addEventListener('load', triggerPrint, false);\n          <\/script>\n        </body>\n      </html>`),i.document.close()}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275dir=c.lG2({type:s,selectors:[["button","ngxPrint",""]],hostBindings:function(e,i){1&e&&c.NdJ("click",function(){return i.print()})},inputs:{useExistingCss:"useExistingCss",printDelay:"printDelay",printStyle:"printStyle",styleSheetFile:"styleSheetFile",printSectionId:"printSectionId",printTitle:"printTitle"}}),s})(),T=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=c.oAB({type:s}),s.\u0275inj=c.cJS({}),s})()}}]);