"use strict";(self.webpackChunksakai=self.webpackChunksakai||[]).push([[5150],{6768:(C,h,n)=>{n.d(h,{t:()=>e});var t=n(4650),d=n(7747),_=n(5384),u=n(4006),y=n(2210);let e=(()=>{class m{constructor(s,p){this.commonService=s,this.eventService=p,this.ValueSelectedChange=new t.vpe,this.categorys=[],this.Filter=!1}ngOnInit(){this.data=this.DropDownDataSource,this.Filter=this.showFilter}changeValue(){this.ValueSelected=this.selectedData?.value,this.ValueSelectedChange.emit(this.ValueSelected)}selectedValue(){this.ValueSelected=this.selectedData?.value,this.ValueSelectedChange.emit(this.ValueSelected)}static#e=this.\u0275fac=function(p){return new(p||m)(t.Y36(d.M),t.Y36(_.P))};static#t=this.\u0275cmp=t.Xpm({type:m,selectors:[["app-drop-down"]],inputs:{ValueSelected:"ValueSelected",IsCreating:"IsCreating",showFilter:"showFilter",DropDownDataSource:"DropDownDataSource"},outputs:{ValueSelectedChange:"ValueSelectedChange"},decls:1,vars:3,consts:[["optionLabel","viewValue",3,"filter","options","ngModel","onClick","onChange","ngModelChange"]],template:function(p,a){1&p&&(t.TgZ(0,"p-dropdown",0),t.NdJ("onClick",function(){return a.selectedValue()})("onChange",function(){return a.changeValue()})("ngModelChange",function(r){return a.selectedData=r}),t.qZA()),2&p&&t.Q6J("filter",a.Filter)("options",a.data)("ngModel",a.selectedData)},dependencies:[u.JJ,u.On,y.Lt],encapsulation:2})}return m})()},2384:(C,h,n)=>{n.d(h,{b:()=>t});class t{}},7116:(C,h,n)=>{n.d(h,{R:()=>_});var t=n(4650),d=n(3162);let _=(()=>{class u{constructor(){}static#e=this.\u0275fac=function(m){return new(m||u)};static#t=this.\u0275cmp=t.Xpm({type:u,selectors:[["app-progress-bar"]],decls:1,vars:0,consts:[["mode","indeterminate"]],template:function(m,v){1&m&&t._UZ(0,"mat-progress-bar",0)},dependencies:[d.pW],encapsulation:2})}return u})()},5150:(C,h,n)=>{n.r(h),n.d(h,{PayTypeModule:()=>G});var t=n(6895),d=n(9197),_=n(1546),u=n(805);class y{}var e=n(4650),m=n(7747),v=n(5384),s=n(99),p=n(2453),a=n(1383),g=n(5593),r=n(1493),T=n(1740),P=n(4006),E=n(7116),Z=n(6768);function I(i,f){1&i&&(e.TgZ(0,"div"),e._UZ(1,"app-progress-bar"),e.qZA())}function b(i,f){if(1&i){const o=e.EpF();e.TgZ(0,"div",17),e._UZ(1,"p-toast"),e.TgZ(2,"button",18),e.NdJ("click",function(){e.CHM(o);const l=e.oxw();return e.KtG(l.openNew())}),e.qZA()()}}function A(i,f){1&i&&(e.TgZ(0,"tr")(1,"th",19),e._uU(2,"Nombre"),e._UZ(3,"p-sortIcon",20),e.qZA(),e.TgZ(4,"th",21),e._uU(5,"Descripcion "),e._UZ(6,"p-sortIcon",22),e.qZA(),e.TgZ(7,"th",23),e._uU(8,"Tipo "),e._UZ(9,"p-sortIcon",24),e.qZA()())}function S(i,f){if(1&i&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA()()),2&i){const o=f.$implicit;e.xp6(2),e.Oqu(o.name),e.xp6(2),e.Oqu(o.description),e.xp6(2),e.Oqu(o.type)}}function w(i,f){1&i&&(e.TgZ(0,"div"),e._UZ(1,"app-progress-bar"),e.qZA())}function O(i,f){if(1&i){const o=e.EpF();e.TgZ(0,"div")(1,"div",11)(2,"label",12),e._uU(3,"Tipo"),e.qZA(),e.TgZ(4,"div",13)(5,"app-drop-down",25),e.NdJ("ValueSelectedChange",function(l){e.CHM(o);const D=e.oxw();return e.KtG(D.filterPayTypeGeneric(l))}),e.qZA()()()()}if(2&i){const o=e.oxw();e.xp6(5),e.Q6J("IsCreating",!0)("DropDownDataSource",o.payTypeGeneric)}}function U(i,f){if(1&i){const o=e.EpF();e.TgZ(0,"button",26),e.NdJ("click",function(){e.CHM(o);const l=e.oxw();return e.KtG(l.hideDialog())}),e.qZA(),e.TgZ(1,"button",27),e.NdJ("click",function(){e.CHM(o);const l=e.oxw();return e.KtG(l.saveCostumer())}),e.qZA()}}const N=function(){return{"min-width":"50rem"}},x=function(){return[10,25,50]},R=function(){return{width:"850px"}};let B=(()=>{class i{constructor(o,c,l,D){this.router=o,this.productService=c,this.eventService=l,this.messageService=D,this.payTypeData=[],this.showDialog=!1,this.isCreating=!0,this.showProgressBar=!1,this.isLoadingPayGeneric=!0,this.redirect=!1,this.AccessName="/pages/pay-type",this.GetGenericPayTypes(),this.GetPayTypes()}ngOnInit(){const c=this.eventService.getPermisionsException().split(",").map(l=>l.trim());this.redirect=c.includes(this.AccessName),this.redirect&&this.router.navigateByUrl("/pages/unautorized"),this.productService.getProductsSmall().then(l=>this.products1=l)}hideDialog(){this.isCreating=!1,this.showDialog=!1}openNew(){this.showDialog=!0,this.isCreating=!0}saveCostumer(){var o=new y;o.name=null==this.payName?"":this.payName,o.description=null==this.payDescription?"":this.payDescription,o.id=this.payTypeId,o.userId=this.eventService.getToken(),this.AddNewPayType(o)}AddNewPayType(o){this.showProgressBar=!0,this.productService.AddNewPayTypeEnterprise(o).subscribe(c=>{c.data?(this.messageService.add({severity:"success",summary:"Success",detail:"El tipo de pago "+o.name+" se ha guardado",life:3e3}),this.showDialog=!1,this.GetPayTypes()):this.messageService.add({severity:"error",summary:"Error",detail:c.message,life:3e3}),this.showProgressBar=!1})}filterPayTypeGeneric(o){this.payTypeId=o}GetGenericPayTypes(){this.isLoadingPayGeneric=!0,this.productService.GetGenericPayTypes(this.eventService.getToken()).subscribe(o=>{o.data?this.payTypeGeneric=o.data:this.messageService.add({severity:"error",summary:"Error",detail:"No tiene productos creados",life:3e3}),this.isLoadingPayGeneric=!1})}GetPayTypes(){this.showProgressBar=!0,this.productService.GetPayTypesReport(this.eventService.getToken()).subscribe(o=>{o.data?this.payTypeData=o.data:this.messageService.add({severity:"error",summary:"Error",detail:o.message,life:3e3}),this.showProgressBar=!1})}static#e=this.\u0275fac=function(c){return new(c||i)(e.Y36(d.F0),e.Y36(m.M),e.Y36(v.P),e.Y36(u.ez))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["ng-component"]],features:[e._Bn([u.ez])],decls:31,vars:18,consts:[[4,"ngIf"],[1,"grid"],[1,"col-12"],[1,"card"],["styleClass","mb-4"],["pTemplate","left"],["currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","paginator","rows","showCurrentPageReport","tableStyle","rowsPerPageOptions"],["pTemplate","header"],["pTemplate","body"],["header","Confirm",3,"visible","modal","visibleChange"],[1,"card","p-fluid"],[1,"field","grid"],["htmlFor","email3",1,"col-12","mb-2","md:col-2","md:mb-0"],[1,"col-12","md:col-10"],["autocomplete","off","pInputText","","id","email3","type","text","placeholder","Nombre",3,"ngModel","ngModelChange"],["autocomplete","off","pInputText","","id","email3","type","text","placeholder","Descripci\xf3n",3,"ngModel","ngModelChange"],["pTemplate","footer"],[1,"my-2"],["pButton","","pRipple","","label","Nuevo","icon","pi pi-plus",1,"p-button-success","mr-2",3,"click"],["pSortableColumn","name",2,"width","20%"],["field","rtn"],["pSortableColumn","description",2,"width","20%"],["field","name"],["pSortableColumn","type",2,"width","20%"],["field","middleName"],[3,"IsCreating","DropDownDataSource","ValueSelectedChange"],["pButton","","pRipple","","icon","pi pi-times","label","Cancelar",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Guardar",1,"p-button-text",3,"click"]],template:function(c,l){1&c&&(e.YNc(0,I,2,0,"div",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",3)(5,"p-toolbar",4),e.YNc(6,b,3,0,"ng-template",5),e.qZA(),e.TgZ(7,"p-table",6),e.YNc(8,A,10,0,"ng-template",7),e.YNc(9,S,7,3,"ng-template",8),e.qZA()()()()(),e.TgZ(10,"p-dialog",9),e.NdJ("visibleChange",function(M){return l.showDialog=M}),e.YNc(11,w,2,0,"div",0),e.TgZ(12,"div",10),e.YNc(13,O,6,2,"div",0),e.TgZ(14,"div",11)(15,"label",12),e._uU(16,"Nombre"),e.qZA(),e.TgZ(17,"div",13)(18,"input",14),e.NdJ("ngModelChange",function(M){return l.payName=M}),e.qZA()()(),e.TgZ(19,"div",11)(20,"label",12),e._uU(21,"Descripci\xf3n"),e.qZA(),e.TgZ(22,"div",13)(23,"input",15),e.NdJ("ngModelChange",function(M){return l.payDescription=M}),e.qZA()()(),e.TgZ(24,"div",11),e._UZ(25,"label",12)(26,"div",13),e.qZA(),e.TgZ(27,"div",11),e._UZ(28,"label",12)(29,"div",13),e.qZA()(),e.YNc(30,U,2,0,"ng-template",16),e.qZA()),2&c&&(e.Q6J("ngIf",l.showProgressBar),e.xp6(7),e.Q6J("value",l.payTypeData)("paginator",!0)("rows",10)("showCurrentPageReport",!0)("tableStyle",e.DdM(15,N))("rowsPerPageOptions",e.DdM(16,x)),e.xp6(3),e.Akn(e.DdM(17,R)),e.Q6J("visible",l.showDialog)("modal",!0),e.xp6(1),e.Q6J("ngIf",l.showProgressBar),e.xp6(2),e.Q6J("ngIf",!l.isLoadingPayGeneric),e.xp6(5),e.Q6J("ngModel",l.payName),e.xp6(5),e.Q6J("ngModel",l.payDescription))},dependencies:[t.O5,s.iA,u.jx,s.lQ,s.fz,p.FN,a.o,g.Hq,r.V,T.o,P.Fj,P.JJ,P.On,E.R,Z.t],encapsulation:2})}return i})(),J=(()=>{class i{static#e=this.\u0275fac=function(c){return new(c||i)};static#t=this.\u0275mod=e.oAB({type:i});static#n=this.\u0275inj=e.cJS({imports:[d.Bz.forChild([{path:"",component:B,canActivate:[_.j]}]),d.Bz]})}return i})();var F=n(4891);let G=(()=>{class i{static#e=this.\u0275fac=function(c){return new(c||i)};static#t=this.\u0275mod=e.oAB({type:i});static#n=this.\u0275inj=e.cJS({imports:[t.ez,J,s.U$,p.EV,a.V,g.hJ,r.S,T.j,P.u5,F.E]})}return i})()},7083:(C,h,n)=>{n.d(h,{K:()=>e});var t=n(529),d=n(2340),_=n(2384),u=n(4650);const y=d.N.baseUrl;let e=(()=>{class m{constructor(s){this.http=s}addUser(s){return this.http.post(`${y}auth/register`,s)}login(s,p){var a=new _.b;return a.email=s,a.password=p,this.http.post(`${y}auth/login`,a)}GetUserPermisions(){const g={headers:new t.WM({"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImRhcmxpbm5nNUBnbWFpbC5jb20iLCJuYW1lIjoiRGFybGluIiwiRW50ZXJwcmlzZSI6IjEiLCJXYXJlSG91c2UiOiIyIiwiUG9pbnRPZlNhbGUiOiIzIiwiQ29ycmVsYXRpdmUiOiI0IiwibmJmIjoxNjYzMjExNTA1LCJleHAiOjE2NjMyOTc5MDUsImlhdCI6MTY2MzIxMTUwNSwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MTM0In0.ZZQR0YuVwR5erkrQoErfRnlT9stXaVuDpt2SjFkl8PiAy0RP18-4nmyTRm8yYGqkPM-Eht-EbreVdHFYyRgSxQ"})};return this.http.get("http://localhost:5134/api/auth/test",g)}static#e=this.\u0275fac=function(p){return new(p||m)(u.LFG(t.eN))};static#t=this.\u0275prov=u.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})()},1546:(C,h,n)=>{n.d(h,{j:()=>y});var t=n(4650),d=n(5384),_=n(9197),u=n(7083);let y=(()=>{class e{constructor(v,s,p){this.eventService=v,this.router=s,this._userService=p,this.isTokenValid=!1}canActivate(v,s){const p=this.eventService.getToken();return(""==p||null==p||null==p)&&this.router.navigateByUrl("/auth/login"),!0}static#e=this.\u0275fac=function(s){return new(s||e)(t.LFG(d.P),t.LFG(_.F0),t.LFG(u.K))};static#t=this.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})()},1383:(C,h,n)=>{n.d(h,{V:()=>p,o:()=>s});var t=n(4650),d=n(6895),_=n(805);function u(a,g){1&a&&t.GkF(0)}function y(a,g){if(1&a&&(t.TgZ(0,"div",3),t.YNc(1,u,1,0,"ng-container",4),t.qZA()),2&a){const r=t.oxw();t.xp6(1),t.Q6J("ngTemplateOutlet",r.leftTemplate)}}function e(a,g){1&a&&t.GkF(0)}function m(a,g){if(1&a&&(t.TgZ(0,"div",5),t.YNc(1,e,1,0,"ng-container",4),t.qZA()),2&a){const r=t.oxw();t.xp6(1),t.Q6J("ngTemplateOutlet",r.rightTemplate)}}const v=["*"];let s=(()=>{class a{constructor(r){this.el=r}getBlockableElement(){return this.el.nativeElement.children[0]}ngAfterContentInit(){this.templates.forEach(r=>{switch(r.getType()){case"left":this.leftTemplate=r.template;break;case"right":this.rightTemplate=r.template}})}}return a.\u0275fac=function(r){return new(r||a)(t.Y36(t.SBq))},a.\u0275cmp=t.Xpm({type:a,selectors:[["p-toolbar"]],contentQueries:function(r,T,P){if(1&r&&t.Suo(P,_.jx,4),2&r){let E;t.iGM(E=t.CRH())&&(T.templates=E)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass"},ngContentSelectors:v,decls:4,vars:6,consts:[["role","toolbar",3,"ngClass","ngStyle"],["class","p-toolbar-group-left",4,"ngIf"],["class","p-toolbar-group-right",4,"ngIf"],[1,"p-toolbar-group-left"],[4,"ngTemplateOutlet"],[1,"p-toolbar-group-right"]],template:function(r,T){1&r&&(t.F$t(),t.TgZ(0,"div",0),t.Hsn(1),t.YNc(2,y,2,1,"div",1),t.YNc(3,m,2,1,"div",2),t.qZA()),2&r&&(t.Tol(T.styleClass),t.Q6J("ngClass","p-toolbar p-component")("ngStyle",T.style),t.xp6(2),t.Q6J("ngIf",T.leftTemplate),t.xp6(1),t.Q6J("ngIf",T.rightTemplate))},dependencies:[d.mk,d.O5,d.tP,d.PC],styles:[".p-toolbar{display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap}.p-toolbar-group-left,.p-toolbar-group-right{display:flex;align-items:center}\n"],encapsulation:2,changeDetection:0}),a})(),p=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[d.ez]}),a})()}}]);