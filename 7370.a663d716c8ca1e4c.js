"use strict";(self.webpackChunksakai=self.webpackChunksakai||[]).push([[7370],{7370:(M,p,s)=>{s.r(p),s.d(p,{RegisterModule:()=>A});var f=s(9808),c=s(845),Z=s(1208),o=s(3075),v=s(8356),h=s(1424),g=s(4559),x=s(2384),e=s(5e3),T=s(8568),b=s(7083),C=s(5384);function P(t,a){1&t&&(e.TgZ(0,"p")(1,"FONT",23),e._uU(2,"Debe ingresar un nombre valido!!! "),e.qZA()())}function w(t,a){1&t&&(e.TgZ(0,"p")(1,"FONT",23),e._uU(2,"Debe ingresar un Apellido valido!!! "),e.qZA()())}function U(t,a){1&t&&(e.TgZ(0,"p")(1,"FONT",23),e._uU(2,"Debe ingresar un celular valido!!! "),e.qZA()())}function y(t,a){1&t&&(e.TgZ(0,"p")(1,"FONT",23),e._uU(2,"Debe ingresar un correo valido!!! "),e.qZA()())}function I(t,a){1&t&&(e.TgZ(0,"p")(1,"FONT",23),e._uU(2,"Las Contrase\xf1as deben ser iguales!!! "),e.qZA()())}function S(t,a){if(1&t&&(e.TgZ(0,"p")(1,"FONT",23),e._uU(2),e.qZA()()),2&t){const r=e.oxw();e.xp6(2),e.hij(" Posteado",r.formPosted," ")}}let F=(()=>{class t{constructor(r,i,n,d,u){this.layoutService=r,this.fb=i,this.userService=n,this.eventService=d,this.router=u,this.registerForm=this.fb.group({names:["",[o.kI.required,o.kI.minLength(3)]],middleName:["",[o.kI.required,o.kI.minLength(3)]],cellPhone:["",[o.kI.required,o.kI.minLength(7)]],email:["",[o.kI.required,o.kI.email]],password:["",[o.kI.required]],password2:["",[o.kI.required]]}),this.valCheck=["remember"],this.formSend=!1,this.formPosted=!1,this.formPostedMessge="",this.isLoading=!1}validatePassword(){var r,i;return(null===(r=this.registerForm.get("password"))||void 0===r?void 0:r.value)!=(null===(i=this.registerForm.get("password2"))||void 0===i?void 0:i.value)&&1==this.formSend}validate(r){var i;return this.formPostedMessge="",this.formPosted=!1,!(!(null===(i=this.registerForm.get(r))||void 0===i?void 0:i.invalid)||1!=this.formSend)}showError(){return!!this.formPosted}test(){this.userService.GetUserPermisions().subscribe(r=>{r.data||(this.formPostedMessge=r.message,console.log(this.formPostedMessge))})}addUser(){var r,i,n,d,u;if(!this.isLoading&&(this.formSend=!0,this.formPosted=!0,this.isLoading=!0,this.formPostedMessge="Posteado",this.registerForm.valid&&!this.validatePassword())){var m=new x.b;m.name=null===(r=this.registerForm.get("names"))||void 0===r?void 0:r.value,m.middleName=null===(i=this.registerForm.get("middleName"))||void 0===i?void 0:i.value,m.cellPhone=null===(n=this.registerForm.get("cellPhone"))||void 0===n?void 0:n.value,m.email=null===(d=this.registerForm.get("email"))||void 0===d?void 0:d.value,m.password=null===(u=this.registerForm.get("password"))||void 0===u?void 0:u.value,this.userService.addUser(m).subscribe(l=>{l.data?(this.eventService.setToken(l.data.token),this.eventService.setHasEnterprise(l.data.hasEnterprise),this.eventService.setHasWareHouse(l.data.hasWareHouse),this.eventService.setHasPointOfSale(l.data.hasPointOfSale),this.eventService.setHasCorrelative(l.data.hasCorrelative),this.router.navigateByUrl("/")):(this.formPostedMessge=l.message,alert(l.message)),this.isLoading=!1},l=>{this.isLoading=!1,alert(l)})}}}return t.\u0275fac=function(r){return new(r||t)(e.Y36(T.P),e.Y36(o.qu),e.Y36(b.K),e.Y36(C.P),e.Y36(g.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-register"]],decls:43,vars:10,consts:[[1,"form-horizontal","form-material",3,"formGroup","ngSubmit"],[1,"surface-0","flex","align-items-center","justify-content-center","min-h-screen","min-w-screen","overflow-hidden"],[1,"grid","justify-content-center","p-2","lg:p-0",2,"min-width","80%"],[1,"col-12","mt-5","xl:mt-0","text-center"],["alt","Sakai logo",1,"mb-5",2,"width","81px","height","60px",3,"src"],[1,"col-12","xl:col-6",2,"border-radius","56px","padding","0.3rem","background","linear-gradient(180deg, var(--primary-color) 10%, rgba(33, 150, 243, 0) 30%)"],[1,"h-full","w-full","m-0","py-7","px-4",2,"border-radius","53px","background","linear-gradient(180deg, var(--surface-50) 38.9%, var(--surface-0))"],[1,"text-center","mb-5"],[1,"text-900","text-3xl","font-medium","mb-3"],["routerLink","/auth/login"],[1,"w-full","md:w-10","mx-auto"],["for","email1",1,"block","text-900","text-xl","font-medium","mb-2"],["matInput","","pInputText","","placeholder","Nombre","type","text","formControlName","names",1,"w-full","mb-3",2,"padding","1rem"],["matInput","","pInputText","","placeholder","Apellido","type","text","formControlName","middleName",1,"w-full","mb-3",2,"padding","1rem"],["matInput","","pInputText","","placeholder","Celular","type","text","formControlName","cellPhone",1,"w-full","mb-3",2,"padding","1rem"],["matInput","","pInputText","","placeholder","Correo","type","text","formControlName","email",1,"w-full","mb-3",2,"padding","1rem"],["id","password1","matInput","","formControlName","password","placeholder","Password","styleClass","w-full mb-3",3,"toggleMask"],["id","password1","matInput","","formControlName","password2","placeholder","Password","styleClass","w-full mb-3",3,"toggleMask"],[1,"row"],[1,"col","tex-danger"],[4,"ngIf"],["type","submit","pButton","","pRipple","","label","Sign In",1,"w-full","p-3","text-xl"],["routerLink","/landing"],["COLOR","red"]],template:function(r,i){1&r&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return i.addUser()}),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3),e._UZ(4,"img",4),e.qZA(),e.TgZ(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8),e._uU(9,"Registrarse"),e.qZA(),e.TgZ(10,"a",9),e._uU(11,"Tambi\xe9n puedes probar el plan gratis sin registrarte haciendo click en este enlace"),e.qZA()(),e.TgZ(12,"div",10)(13,"label",11),e._uU(14,"Nombre"),e.qZA(),e._UZ(15,"input",12),e.TgZ(16,"label",11),e._uU(17,"Apellido"),e.qZA(),e._UZ(18,"input",13),e.TgZ(19,"label",11),e._uU(20,"Celular"),e.qZA(),e._UZ(21,"input",14),e.TgZ(22,"label",11),e._uU(23,"Correo"),e.qZA(),e._UZ(24,"input",15),e.TgZ(25,"label",11),e._uU(26,"Contrase\xf1a"),e.qZA(),e._UZ(27,"p-password",16),e.TgZ(28,"label",11),e._uU(29,"Repetir Cotrase\xf1a"),e.qZA(),e._UZ(30,"p-password",17),e.TgZ(31,"div",18)(32,"div",19),e.YNc(33,P,3,0,"p",20),e.YNc(34,w,3,0,"p",20),e.YNc(35,U,3,0,"p",20),e.YNc(36,y,3,0,"p",20),e.YNc(37,I,3,0,"p",20),e.qZA(),e.TgZ(38,"div"),e.YNc(39,S,3,1,"p",20),e.qZA()(),e._UZ(40,"button",21),e.TgZ(41,"a",22),e._uU(42,"Regresar"),e.qZA()()()()()()()),2&r&&(e.Q6J("formGroup",i.registerForm),e.xp6(4),e.MGl("src","assets/layout/images/","light"===i.layoutService.config.colorScheme?"logo-dark":"logo-white",".svg",e.LSH),e.xp6(23),e.Q6J("toggleMask",!0),e.xp6(3),e.Q6J("toggleMask",!0),e.xp6(3),e.Q6J("ngIf",i.validate("names")),e.xp6(1),e.Q6J("ngIf",i.validate("middleName")),e.xp6(1),e.Q6J("ngIf",i.validate("cellPhone")),e.xp6(1),e.Q6J("ngIf",i.validate("email")),e.xp6(1),e.Q6J("ngIf",i.validatePassword()),e.xp6(2),e.Q6J("ngIf",i.formPosted))},dependencies:[f.O5,g.yS,c.Hq,h.o,o._Y,o.Fj,o.JJ,o.JL,v.ro,o.sg,o.u],styles:["[_nghost-%COMP%]     .p-password input{width:100%;padding:1rem}[_nghost-%COMP%]     .pi-eye{transform:scale(1.6);margin-right:1rem;color:var(--primary-color)!important}[_nghost-%COMP%]     .pi-eye-slash{transform:scale(1.6);margin-right:1rem;color:var(--primary-color)!important}"]}),t})(),N=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[g.Bz.forChild([{path:"",component:F}]),g.Bz]}),t})();var R=s(520);let A=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[f.ez,N,c.hJ,Z.nD,h.j,o.u5,v.gz,o.UX,R.JF]}),t})()}}]);