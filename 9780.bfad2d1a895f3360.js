"use strict";(self.webpackChunksakai=self.webpackChunksakai||[]).push([[9780],{9780:(z,v,o)=>{o.r(v),o.d(v,{EmpresaModule:()=>R});var f=o(9808),g=o(4559),e=o(5e3),n=o(3075),h=o(9783),Z=o(9019);class T{}var I=o(5384),N=o(7747),C=o(845),E=o(1424),x=o(5787),b=o(6198),A=o(7531),y=o(7116);function _(t,i){1&t&&(e.TgZ(0,"div"),e._UZ(1,"app-progress-bar"),e.qZA())}const F=function(){return{width:"500px",height:"50px"}};function U(t,i){1&t&&(e.TgZ(0,"div")(1,"h5"),e._uU(2,"Espere......"),e.qZA(),e._UZ(3,"p-progressSpinner",1),e.qZA()),2&t&&(e.xp6(3),e.Akn(e.DdM(2,F)))}function S(t,i){1&t&&(e.TgZ(0,"p")(1,"FONT",17),e._uU(2,"Debe ingresar un nombre valido!!! "),e.qZA()())}function q(t,i){1&t&&(e.TgZ(0,"p")(1,"FONT",17),e._uU(2,"Debe ingresar nombre comercial valido, el nombre comercial suele ser el mismo que el nombre de la empresa!!! "),e.qZA()())}function P(t,i){1&t&&(e.TgZ(0,"p")(1,"FONT",17),e._uU(2,"Debe ingresar una ciudad valida!!! "),e.qZA()())}function J(t,i){1&t&&(e.TgZ(0,"p")(1,"FONT",17),e._uU(2,"Debe ingresar un correlativo inicial valido "),e.qZA()())}function Y(t,i){1&t&&(e.TgZ(0,"p")(1,"FONT",17),e._uU(2,"Debe ingresar una direcci\xf3n valida!!! "),e.qZA()())}function L(t,i){1&t&&(e.TgZ(0,"p")(1,"FONT",17),e._uU(2,"Debe ingresar un Telefono final valido "),e.qZA()())}function D(t,i){1&t&&(e.TgZ(0,"p")(1,"FONT",17),e._uU(2,"Debe ingresar un correo valido "),e.qZA()())}function M(t,i){if(1&t){const r=e.EpF();e.TgZ(0,"div")(1,"form",2),e.NdJ("ngSubmit",function(){e.CHM(r);const l=e.oxw();return e.KtG(l.createEnterprise())}),e.TgZ(2,"div",3)(3,"div",4)(4,"div",5)(5,"h5"),e._uU(6,"Configuracion para Empresa"),e.qZA(),e.TgZ(7,"div",6)(8,"label")(9,"b"),e._uU(10,"Nombre"),e.qZA()(),e._UZ(11,"input",7),e.qZA(),e.TgZ(12,"div",6)(13,"label")(14,"b"),e._uU(15,"Nombre Comercial"),e.qZA()(),e._UZ(16,"input",8),e.qZA(),e.TgZ(17,"div",6)(18,"label")(19,"b"),e._uU(20,"Ciudad"),e.qZA()(),e._UZ(21,"input",9),e.qZA(),e.TgZ(22,"div",6)(23,"label")(24,"b"),e._uU(25,"Direcci\xf3n"),e.qZA()(),e._UZ(26,"input",10),e.qZA(),e.TgZ(27,"div",6)(28,"label")(29,"b"),e._uU(30,"RTN"),e.qZA()(),e._UZ(31,"input",11),e.qZA(),e.TgZ(32,"div",6)(33,"label")(34,"b"),e._uU(35,"Tel\xe9fono"),e.qZA()(),e._UZ(36,"input",12),e.qZA(),e.TgZ(37,"div",6)(38,"label")(39,"b"),e._uU(40,"Correo"),e.qZA()(),e._UZ(41,"input",13),e.qZA(),e.TgZ(42,"div",14)(43,"div",15),e.YNc(44,S,3,0,"p",0),e.YNc(45,q,3,0,"p",0),e.YNc(46,P,3,0,"p",0),e.YNc(47,J,3,0,"p",0),e.YNc(48,Y,3,0,"p",0),e.YNc(49,L,3,0,"p",0),e.YNc(50,D,3,0,"p",0),e.qZA()(),e._UZ(51,"button",16),e.qZA()()()()()}if(2&t){const r=e.oxw();e.xp6(1),e.Q6J("formGroup",r.enterpriseForm),e.xp6(43),e.Q6J("ngIf",r.validate("name")),e.xp6(1),e.Q6J("ngIf",r.validate("comercialName")),e.xp6(1),e.Q6J("ngIf",r.validate("city")),e.xp6(1),e.Q6J("ngIf",r.validate("rtn")),e.xp6(1),e.Q6J("ngIf",r.validate("address")),e.xp6(1),e.Q6J("ngIf",r.validate("phone")),e.xp6(1),e.Q6J("ngIf",r.validate("email"))}}let Q=(()=>{class t{constructor(r,a,l,m){this.fb=r,this.eventService=a,this.productService=l,this.messageService=m,this.showProgressBar=!1,this.formSend=!1,this.enterpriseCreated=localStorage.getItem(Z.N.hasEnterpriseKey)==Z.N.SuccessResponse,this.IsLoading=!1,this.enterpriseForm=this.fb.group({name:["",[n.kI.required,n.kI.minLength(3)]],comercialName:["",[n.kI.required,n.kI.minLength(3)]],city:["",[n.kI.required,n.kI.minLength(5)]],address:["",[n.kI.required,n.kI.minLength(10)]],rtn:["",[n.kI.required,n.kI.minLength(10)]],phone:["",[n.kI.required,n.kI.minLength(6)]],email:["",[n.kI.required,n.kI.email]]}),this.enterpriseCreated&&(this.IsLoading=!0,this.value())}value(){this.messageService.add({severity:"error",summary:"Error",detail:"No tiene productos creados",life:3e3}),this.productService.getEnterprise(this.eventService.getToken()).subscribe(r=>{r.data?this.enterpriseForm.patchValue({name:r.data.name,comercialName:r.data.comercialName,city:r.data.city,address:r.data.address,rtn:r.data.rtn,phone:r.data.phone,email:r.data.email}):this.messageService.add({severity:"error",summary:"Error",detail:"No tiene productos creados",life:3e3}),this.IsLoading=!1},r=>{this.messageService.add({severity:"error",summary:"Error",detail:r.message,life:3e3}),this.IsLoading=!1})}validate(r){var a;return!(!(null===(a=this.enterpriseForm.get(r))||void 0===a?void 0:a.invalid)||1!=this.formSend)}createEnterprise(){var r,a,l,m,d,c,u;if(this.formSend=!0,this.enterpriseForm.valid){this.showProgressBar=!0;var s=new T;s.name=null===(r=this.enterpriseForm.get("name"))||void 0===r?void 0:r.value,s.comercialName=null===(a=this.enterpriseForm.get("comercialName"))||void 0===a?void 0:a.value,s.city=null===(l=this.enterpriseForm.get("city"))||void 0===l?void 0:l.value,s.address=null===(m=this.enterpriseForm.get("address"))||void 0===m?void 0:m.value,s.rtn=null===(d=this.enterpriseForm.get("rtn"))||void 0===d?void 0:d.value,s.phone=null===(c=this.enterpriseForm.get("phone"))||void 0===c?void 0:c.value,s.email=null===(u=this.enterpriseForm.get("email"))||void 0===u?void 0:u.value,s.userId=this.eventService.getToken(),this.productService.AddEnterprise(s).subscribe(p=>{p.data?this.eventService.setToken(p.data):console.log(p.message),this.showProgressBar=!1},p=>{})}}}return t.\u0275fac=function(r){return new(r||t)(e.Y36(n.qu),e.Y36(I.P),e.Y36(N.M),e.Y36(h.ez))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-enterprise"]],features:[e._Bn([h.ez])],decls:3,vars:3,consts:[[4,"ngIf"],["styleClass","custom-spinner","strokeWidth","8","fill","var(--surface-ground)","animationDuration",".5s"],[1,"form-horizontal","form-material",3,"formGroup","ngSubmit"],[1,"grid"],[1,"col-12","md:col-6"],[1,"card","p-fluid"],[1,"field"],["matInput","","pInputText","","placeholder","Nombre","type","text","formControlName","name",1,"form-control"],["matInput","","pInputText","","placeholder","Nombre Comercial","type","text","formControlName","comercialName",1,"form-control"],["matInput","","pInputText","","placeholder","Ciudad seguido del Departamento","type","text","formControlName","city",1,"form-control"],["matInput","","pInputText","","placeholder","Direcci\xf3n","type","text","formControlName","address",1,"form-control"],["matInput","","pInputText","","placeholder","RTN","type","text","formControlName","rtn",1,"form-control"],["matInput","","pInputText","","placeholder","Tel\xe9fono","type","text","formControlName","phone",1,"form-control"],["matInput","","pInputText","","placeholder","Correo","type","email","formControlName","email",1,"form-control"],[1,"row"],[1,"col","tex-danger"],["type","submit","disabled","enterpriseCreated","pButton","","pRipple","","label","Save","icon","pi pi-check"],["COLOR","red"]],template:function(r,a){1&r&&(e.YNc(0,_,2,0,"div",0),e.YNc(1,U,4,3,"div",0),e.YNc(2,M,52,8,"div",0)),2&r&&(e.Q6J("ngIf",a.showProgressBar),e.xp6(1),e.Q6J("ngIf",a.IsLoading),e.xp6(1),e.Q6J("ngIf",!a.IsLoading))},dependencies:[n._Y,n.Fj,n.JJ,n.JL,f.O5,C.Hq,E.o,x.H,n.sg,n.u,b.G,A.Nt,y.R],encapsulation:2}),t})(),k=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["ng-component"]],decls:4,vars:0,consts:[[1,"grid"],[1,"col-12"],[1,"card"]],template:function(r,a){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"app-enterprise"),e.qZA()()())},dependencies:[Q],encapsulation:2}),t})(),B=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[g.Bz.forChild([{path:"",component:k}]),g.Bz]}),t})();var O=o(7040);let R=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[f.ez,B,O.E]}),t})()}}]);