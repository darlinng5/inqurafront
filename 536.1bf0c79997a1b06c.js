"use strict";(self.webpackChunksakai=self.webpackChunksakai||[]).push([[536],{536:(S,f,a)=>{a.r(f),a.d(f,{ProductosModule:()=>gt});var c=a(9808),p=a(8952),m=a(5077),x=a(1546),h=a(9783);class u{}class _{}var d=a(9019),t=a(5e3),g=a(7747),l=a(5384),P=a(845),v=a(3075),b=a(5787),M=a(7773),y=a(4534),A=a(8018),N=a(1424),q=a(3407),I=a(9603),w=a(7010),U=a(5315),J=a(7116),D=a(6768);function E(n,s){1&n&&(t.TgZ(0,"div"),t._UZ(1,"app-progress-bar"),t.qZA())}function H(n,s){1&n&&(t.TgZ(0,"div")(1,"p")(2,"FONT",2),t._uU(3,"Para poder transaccionar con productos debe tener configurado una empresa con su respectivo sucursal, favor vaya al Dashboard principal para poder crearlas!!! "),t.qZA()()())}function B(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",21)(1,"button",22),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.openNew())}),t.qZA(),t.TgZ(2,"button",23),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.deleteSelectedProducts())}),t.qZA()()}if(2&n){const e=t.oxw(2);t.xp6(2),t.Q6J("disabled",!e.selectedProducts||!e.selectedProducts.length)}}function G(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",24),t.NdJ("click",function(){t.CHM(e),t.oxw();const o=t.MAs(8);return t.KtG(o.exportCSV())}),t.qZA()}}function Q(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",25)(1,"h5",26),t._uU(2,"Manage Products"),t.qZA(),t.TgZ(3,"span",27),t._UZ(4,"i",28),t.TgZ(5,"input",29),t.NdJ("input",function(o){t.CHM(e),t.oxw();const r=t.MAs(8),T=t.oxw();return t.KtG(T.onGlobalFilter(r,o))}),t.qZA()()()}}function R(n,s){1&n&&(t.TgZ(0,"tr")(1,"th",30),t._UZ(2,"p-tableHeaderCheckbox"),t.qZA(),t.TgZ(3,"th",31),t._uU(4,"Id "),t._UZ(5,"p-sortIcon",32),t.qZA(),t.TgZ(6,"th",33),t._uU(7,"Producto"),t._UZ(8,"p-sortIcon",34),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Imagen"),t.qZA(),t.TgZ(11,"th",35),t._uU(12,"Precio "),t._UZ(13,"p-sortIcon",36),t.qZA(),t.TgZ(14,"th",37),t._uU(15,"Impuesto "),t._UZ(16,"p-sortIcon",38),t.qZA(),t.TgZ(17,"th",39),t._uU(18,"Ubicacion "),t._UZ(19,"p-sortIcon",40),t.qZA(),t.TgZ(20,"th",41),t._uU(21,"Categoria "),t._UZ(22,"p-sortIcon",42),t.qZA(),t.TgZ(23,"th",43),t._uU(24,"Unidad Medida "),t._UZ(25,"p-sortIcon",44),t.qZA(),t.TgZ(26,"th",45),t._uU(27,"Ventas "),t._UZ(28,"p-sortIcon",46),t.qZA(),t.TgZ(29,"th",47),t._uU(30,"Cantidad Actual "),t._UZ(31,"p-sortIcon",48),t.qZA(),t.TgZ(32,"th",49),t._uU(33,"Stock "),t._UZ(34,"p-sortIcon",50),t.qZA(),t.TgZ(35,"th"),t._uU(36," Editar/Agr. Inventario/ Ajuste / Eliminar "),t.qZA()())}function K(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._UZ(2,"p-tableCheckbox",51),t.qZA(),t.TgZ(3,"td",52)(4,"span",53),t._uU(5,"Code"),t.qZA(),t._uU(6),t.qZA(),t.TgZ(7,"td",52)(8,"span",53),t._uU(9,"Name"),t.qZA(),t._uU(10),t.qZA(),t.TgZ(11,"td",52)(12,"span",53),t._uU(13,"Image"),t.qZA(),t._UZ(14,"img",54),t.qZA(),t.TgZ(15,"td",55)(16,"span",53),t._uU(17,"Price"),t.qZA(),t._uU(18),t.ALo(19,"currency"),t.qZA(),t.TgZ(20,"td",52)(21,"span",53),t._uU(22,"taxName"),t.qZA(),t._uU(23),t.qZA(),t.TgZ(24,"td",52)(25,"span",53),t._uU(26,"CategoryName"),t.qZA(),t._uU(27),t.qZA(),t.TgZ(28,"td",52)(29,"span",53),t._uU(30,"CategoryName"),t.qZA(),t._uU(31),t.qZA(),t.TgZ(32,"td",52)(33,"span",53),t._uU(34,"unitMeasurement"),t.qZA(),t._uU(35),t.qZA(),t.TgZ(36,"td",52)(37,"span",53),t._uU(38,"Reviews"),t.qZA(),t._UZ(39,"p-rating",56),t.qZA(),t.TgZ(40,"td",52)(41,"span",53),t._uU(42,"actualInventary"),t.qZA(),t._uU(43),t.qZA(),t.TgZ(44,"td",52)(45,"span",53),t._uU(46,"Status"),t.qZA(),t.TgZ(47,"span"),t._uU(48),t.qZA()(),t.TgZ(49,"td")(50,"div",57)(51,"button",58),t.NdJ("click",function(){const r=t.CHM(e).$implicit,T=t.oxw(2);return t.KtG(T.deleteProduct(r))}),t.qZA()()()()}if(2&n){const e=s.$implicit;t.xp6(2),t.Q6J("value",e),t.xp6(4),t.hij(" ",e.code||e.productId," "),t.xp6(4),t.hij(" ",e.productName," "),t.xp6(4),t.Q6J("alt",e.productName),t.xp6(4),t.hij(" ",t.xi3(19,16,e.productPrice,"L")," "),t.xp6(5),t.hij(" ",e.taxName," "),t.xp6(4),t.hij(" ",e.localizationName," "),t.xp6(4),t.hij(" ",e.categoryName," "),t.xp6(4),t.hij(" ",e.unitMeasurement," "),t.xp6(4),t.Q6J("ngModel",4)("readonly",!0)("cancel",!1),t.xp6(4),t.hij(" ",e.actualInventary," "),t.xp6(4),t.Tol("product-badge status-"+(e.inventoryStatus?e.inventoryStatus.toLowerCase():"")),t.xp6(1),t.Oqu(e.inventoryStatus)}}function k(n,s){if(1&n&&t._UZ(0,"img",86),2&n){const e=t.oxw(3);t.Q6J("alt",e.product.image)}}function z(n,s){1&n&&(t.TgZ(0,"small",87),t._uU(1,"El Nombre es requerido"),t.qZA())}function j(n,s){1&n&&(t.TgZ(0,"small",87),t._uU(1,"El codigo es requerido"),t.qZA())}const C=function(n){return{"ng-invalid ng-dirty":n}};function F(n,s){if(1&n){const e=t.EpF();t.YNc(0,k,1,1,"img",59),t.TgZ(1,"div",60)(2,"label",61),t._uU(3,"Nombre Producto"),t.qZA(),t.TgZ(4,"input",62),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.product.productName=o)}),t.qZA(),t.YNc(5,z,2,0,"small",63),t.qZA(),t.TgZ(6,"div",60)(7,"label",61),t._uU(8,"Codigo"),t.qZA(),t.TgZ(9,"input",62),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.product.code=o)}),t.qZA(),t.YNc(10,j,2,0,"small",63),t.qZA(),t.TgZ(11,"div",60)(12,"label",64),t._uU(13,"Descripcion del Producto"),t.qZA(),t.TgZ(14,"textarea",65),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.product.description=o)}),t.qZA()(),t.TgZ(15,"div",60)(16,"label",66),t._uU(17,"Proveedor "),t.qZA(),t._UZ(18,"label",66),t.TgZ(19,"app-drop-down",67),t.NdJ("ValueSelectedChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.filterCostumer(o))}),t.qZA()(),t.TgZ(20,"div",60)(21,"label",66),t._uU(22,"Categoria "),t.qZA(),t._UZ(23,"label",66),t.TgZ(24,"app-drop-down",68),t.NdJ("ValueSelectedChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.filterCategory(o))}),t.qZA()(),t.TgZ(25,"div",60)(26,"label",66),t._uU(27,"Unidad de Medida "),t.qZA(),t._UZ(28,"label",66),t.TgZ(29,"app-drop-down",68),t.NdJ("ValueSelectedChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.filterUM(o))}),t.qZA()(),t.TgZ(30,"div",60)(31,"label",69),t._uU(32,"Impuestos"),t.qZA(),t.TgZ(33,"div",70)(34,"div",71)(35,"p-radioButton",72),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.product.taxId=o)}),t.qZA(),t.TgZ(36,"label",73),t._uU(37,"Exonerado"),t.qZA()(),t.TgZ(38,"div",71)(39,"p-radioButton",74),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.product.taxId=o)}),t.qZA(),t.TgZ(40,"label",75),t._uU(41,"Exento"),t.qZA()(),t.TgZ(42,"div",71)(43,"p-radioButton",76),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.product.taxId=o)}),t.qZA(),t.TgZ(44,"label",77),t._uU(45,"ISV 15%"),t.qZA()(),t.TgZ(46,"div",71)(47,"p-radioButton",78),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.product.taxId=o)}),t.qZA(),t.TgZ(48,"label",79),t._uU(49,"ISV 18%"),t.qZA()()()(),t.TgZ(50,"div",70)(51,"div",80)(52,"label",81),t._uU(53,"Precio de Compra"),t.qZA(),t.TgZ(54,"p-inputNumber",82),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.product.purcharsePrice=o)}),t.qZA()(),t.TgZ(55,"div",80)(56,"label",83),t._uU(57,"Inventario Inicial"),t.qZA(),t.TgZ(58,"p-inputNumber",84),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.product.quantity=o)}),t.qZA()()(),t.TgZ(59,"div",70)(60,"div",80)(61,"label",85),t._uU(62,"Precio de Venta"),t.qZA(),t.TgZ(63,"p-inputNumber",82),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.product.productPrice=o)}),t.qZA()()()}if(2&n){const e=t.oxw(2);t.Q6J("ngIf",e.product.image),t.xp6(4),t.Q6J("ngModel",e.product.productName)("ngClass",t.VKq(23,C,e.submitted&&!e.product.productName)),t.xp6(1),t.Q6J("ngIf",e.submitted&&!e.product.productName),t.xp6(4),t.Q6J("ngModel",e.product.code)("ngClass",t.VKq(25,C,e.submitted&&!e.product.productName)),t.xp6(1),t.Q6J("ngIf",e.submitted&&!e.product.code),t.xp6(4),t.Q6J("ngModel",e.product.description),t.xp6(5),t.Q6J("showFilter",!0)("IsCreating",e.IsCreatingProduct)("DropDownDataSource",e.suppliers),t.xp6(5),t.Q6J("IsCreating",e.IsCreatingProduct)("DropDownDataSource",e.categories),t.xp6(5),t.Q6J("IsCreating",e.IsCreatingProduct)("DropDownDataSource",e.unitMeasurement),t.xp6(6),t.Q6J("ngModel",e.product.taxId)("disabled",!0),t.xp6(4),t.Q6J("ngModel",e.product.taxId),t.xp6(4),t.Q6J("ngModel",e.product.taxId),t.xp6(4),t.Q6J("ngModel",e.product.taxId),t.xp6(7),t.Q6J("ngModel",e.product.purcharsePrice),t.xp6(4),t.Q6J("ngModel",e.product.quantity),t.xp6(5),t.Q6J("ngModel",e.product.productPrice)}}function Y(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",88),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.hideDialog())}),t.qZA(),t.TgZ(1,"button",89),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.saveProduct())}),t.qZA()}}function O(n,s){if(1&n&&t._UZ(0,"img",86),2&n){const e=t.oxw(3);t.Q6J("alt",e.product.image)}}function V(n,s){1&n&&(t.TgZ(0,"small",87),t._uU(1,"El Nombre es requerido"),t.qZA())}function L(n,s){if(1&n){const e=t.EpF();t.YNc(0,O,1,1,"img",59),t.TgZ(1,"div",60)(2,"label",61),t._uU(3,"Nombre Producto"),t.qZA(),t.TgZ(4,"input",90),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.product.productName=o)}),t.qZA(),t.YNc(5,V,2,0,"small",63),t.qZA(),t.TgZ(6,"div",60)(7,"label",64),t._uU(8,"Descripcion del Producto"),t.qZA(),t.TgZ(9,"textarea",91),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.product.description=o)}),t.qZA()(),t.TgZ(10,"div",70)(11,"div",80)(12,"label",85),t._uU(13,"Cantidad"),t.qZA(),t.TgZ(14,"p-inputNumber",92),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.addInventaryQuantity=o)}),t.qZA()()(),t.TgZ(15,"div",70)(16,"div",80)(17,"label",85),t._uU(18,"Precio de Compra"),t.qZA(),t.TgZ(19,"p-inputNumber",82),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.addInventaryPrice=o)}),t.qZA()()()}if(2&n){const e=t.oxw(2);t.Q6J("ngIf",e.product.image),t.xp6(4),t.Q6J("ngModel",e.product.productName)("ngClass",t.VKq(7,C,e.submitted&&!e.product.productName)),t.xp6(1),t.Q6J("ngIf",e.submitted&&!e.product.productName),t.xp6(4),t.Q6J("ngModel",e.product.description),t.xp6(5),t.Q6J("ngModel",e.addInventaryQuantity),t.xp6(5),t.Q6J("ngModel",e.addInventaryPrice)}}function W(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",88),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.showAddInventaryDialog=!1)}),t.qZA(),t.TgZ(1,"button",89),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.saveProduct())}),t.qZA()}}function $(n,s){if(1&n&&t._UZ(0,"img",86),2&n){const e=t.oxw(3);t.Q6J("alt",e.product.image)}}function X(n,s){1&n&&(t.TgZ(0,"small",87),t._uU(1,"El Nombre es requerido"),t.qZA())}function tt(n,s){if(1&n){const e=t.EpF();t.YNc(0,$,1,1,"img",59),t.TgZ(1,"div",60)(2,"label",61),t._uU(3,"Nombre Producto"),t.qZA(),t.TgZ(4,"input",90),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.product.productName=o)}),t.qZA(),t.YNc(5,X,2,0,"small",63),t.qZA(),t.TgZ(6,"div",60)(7,"label",64),t._uU(8,"Descripcion del Producto"),t.qZA(),t.TgZ(9,"textarea",91),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.product.description=o)}),t.qZA()(),t.TgZ(10,"div",70)(11,"div",80)(12,"label",85),t._uU(13,"Cantidad"),t.qZA(),t.TgZ(14,"p-inputNumber",92),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.addInventaryQuantity=o)}),t.qZA()()(),t.TgZ(15,"div",70)(16,"div",80)(17,"label",85),t._uU(18,"Precio de Compra"),t.qZA(),t.TgZ(19,"p-inputNumber",82),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.addInventaryPrice=o)}),t.qZA()()()}if(2&n){const e=t.oxw(2);t.Q6J("ngIf",e.product.image),t.xp6(4),t.Q6J("ngModel",e.product.productName)("ngClass",t.VKq(7,C,e.submitted&&!e.product.productName)),t.xp6(1),t.Q6J("ngIf",e.submitted&&!e.product.productName),t.xp6(4),t.Q6J("ngModel",e.product.description),t.xp6(5),t.Q6J("ngModel",e.addInventaryQuantity),t.xp6(5),t.Q6J("ngModel",e.addInventaryPrice)}}function et(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",88),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.showAjustInventaryDialog=!1)}),t.qZA(),t.TgZ(1,"button",89),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.saveProduct())}),t.qZA()}}function ot(n,s){if(1&n&&(t.TgZ(0,"span"),t._uU(1,"Esta seguro que desea eliminar a "),t.TgZ(2,"b"),t._uU(3),t.qZA(),t._uU(4,"?"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(3),t.Oqu(e.product.productName)}}function nt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",93),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.deleteProductDialog=!1)}),t.qZA(),t.TgZ(1,"button",94),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.confirmDelete())}),t.qZA()}}function it(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",93),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.deleteProductsDialog=!1)}),t.qZA(),t.TgZ(1,"button",94),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.confirmDeleteSelected())}),t.qZA()}}const rt=function(){return["productName","country.name","representative.name","status"]},at=function(){return[10,20,30]},st=function(){return{width:"850px"}},Z=function(){return{width:"450px"}};function dt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",3)(1,"div",4)(2,"div",5),t._UZ(3,"p-toast"),t.TgZ(4,"p-toolbar",6),t.YNc(5,B,3,1,"ng-template",7),t.YNc(6,G,1,0,"ng-template",8),t.qZA(),t.TgZ(7,"p-table",9,10),t.NdJ("selectionChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.selectedProducts=o)}),t.YNc(9,Q,6,0,"ng-template",11),t.YNc(10,R,37,0,"ng-template",12),t.YNc(11,K,52,19,"ng-template",13),t.qZA()(),t.TgZ(12,"p-dialog",14),t.NdJ("visibleChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.productDialog=o)}),t.YNc(13,F,64,27,"ng-template",15),t.YNc(14,Y,2,0,"ng-template",16),t.qZA(),t.TgZ(15,"p-dialog",17),t.NdJ("visibleChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.showAddInventaryDialog=o)}),t.YNc(16,L,20,9,"ng-template",15),t.YNc(17,W,2,0,"ng-template",16),t.qZA(),t.TgZ(18,"p-dialog",17),t.NdJ("visibleChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.showAjustInventaryDialog=o)}),t.YNc(19,tt,20,9,"ng-template",15),t.YNc(20,et,2,0,"ng-template",16),t.qZA(),t.TgZ(21,"p-dialog",18),t.NdJ("visibleChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.deleteProductDialog=o)}),t.TgZ(22,"div",19),t._UZ(23,"i",20),t.YNc(24,ot,5,1,"span",0),t.qZA(),t.YNc(25,nt,2,0,"ng-template",16),t.qZA(),t.TgZ(26,"p-dialog",18),t.NdJ("visibleChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.deleteProductsDialog=o)}),t.TgZ(27,"div",19),t._UZ(28,"i",20),t.TgZ(29,"span"),t._uU(30,"Esta seguro que quiere eliminar estos productos seleccionados?"),t.qZA()(),t.YNc(31,it,2,0,"ng-template",16),t.qZA()()()}if(2&n){const e=t.oxw();t.xp6(7),t.Q6J("value",e.products)("columns",e.cols)("rows",10)("globalFilterFields",t.DdM(31,rt))("rows",10)("paginator",!0)("rowsPerPageOptions",t.DdM(32,at))("showCurrentPageReport",!0)("selection",e.selectedProducts)("rowHover",!0),t.xp6(5),t.Akn(t.DdM(33,st)),t.Q6J("visible",e.productDialog)("modal",!0),t.xp6(3),t.Akn(t.DdM(34,Z)),t.Q6J("visible",e.showAddInventaryDialog)("modal",!0),t.xp6(3),t.Akn(t.DdM(35,Z)),t.Q6J("visible",e.showAjustInventaryDialog)("modal",!0),t.xp6(3),t.Akn(t.DdM(36,Z)),t.Q6J("visible",e.deleteProductDialog)("modal",!0),t.xp6(3),t.Q6J("ngIf",e.product),t.xp6(2),t.Akn(t.DdM(37,Z)),t.Q6J("visible",e.deleteProductsDialog)("modal",!0)}}let ct=(()=>{class n{constructor(e,i,o){this.productService=e,this.eventService=i,this.messageService=o,this.addInventaryQuantity=0,this.addInventaryPrice=0,this.showAddInventaryDialog=!1,this.addAjustQuantity=0,this.showAjustInventaryDialog=!1,this.hasEnterprise=!1,this.hasWareHouse=!1,this.showProgressBar=!1,this.productToDeleteList=[],this.categoryActual=0,this.unitMeasurementActual=0,this.defaultLozalization=0,this.userUniqueIdentifiquerKey="NotFound",this.productDialog=!1,this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.products=[],this.product={},this.selectedProducts=[],this.submitted=!1,this.cols=[],this.rowsPerPageOptions=[5,10,20],this.productsByWareHouse=[],this.hasEnterprise=i.getHasEnterprise()==d.N.SuccessResponse,this.hasWareHouse=i.getHasWareHouse()==d.N.SuccessResponse,this.GetCategoriesByEnterprise(),this.GetUnitMeasurementByEnterprise(),this.GetSupplierValuesByEnterprise()}ngOnInit(){this.GetProductsByWareHouse(),this.cols=[{field:"product",header:"Product"},{field:"ProductName",header:"ProductName"},{field:"localizationName",header:"localizationName"},{field:"rating",header:"Reviews"},{field:"inventoryStatus",header:"Status"}]}openNew(){this.IsCreatingProduct=!0,this.product={},this.submitted=!1,this.productDialog=!0}deleteSelectedProducts(){this.deleteProductsDialog=!0}editProduct(e){this.IsCreatingProduct=!1,this.product=Object.assign({},e),this.productDialog=!0}deleteProduct(e){this.deleteProductDialog=!0,this.product=Object.assign({},e)}confirmDeleteSelected(){this.showProgressBar=!0,this.deleteProductsDialog=!1,this.selectedProducts.forEach(e=>this.MaterializeProductToDelete(e)),this.productService.DeleteProductByList(this.productToDeleteList,this.eventService.getToken()).subscribe(e=>{this.messageService.add(e.data?{severity:"success",summary:"Success",detail:e.data,life:6e3}:{severity:"error",summary:"Error",detail:e.message,life:3e3}),this.showProgressBar=!1},e=>{this.messageService.add({severity:"error",summary:"Error",detail:e.message,life:3e3}),this.showProgressBar=!1}),this.productToDeleteList=[],this.products=this.products.filter(e=>!this.selectedProducts.includes(e)),this.selectedProducts=[]}confirmDelete(){this.showProgressBar=!0;var e=new _;e.id=this.product.productId,e.name=this.product.productName,e.description=this.product.description,e.userIdentifiquer=this.eventService.getToken(),this.productService.DeleteProduct(e).subscribe(i=>{i.data?(this.GetProductsByWareHouse(),this.messageService.add({severity:"success",summary:"Success",detail:"El producto "+e.name+" ha sido eliminado con Exito",life:3e3})):this.messageService.add({severity:"error",summary:"Error",detail:i.message,life:3e3}),this.showProgressBar=!1},i=>{this.messageService.add({severity:"error",summary:"Error",detail:i.message,life:6e3})}),this.deleteProductDialog=!1}hideDialog(){this.productDialog=!1,this.submitted=!1}saveProduct(){this.showProgressBar=!0,this.productRequest=new u,this.productRequest.Id=this.product.productId,this.productRequest.name=this.product.productName,this.productRequest.price=this.product.productPrice,this.productRequest.description=null==this.product.description?"":this.product.description,this.productRequest.taxId=this.product.taxId,this.productRequest.userIdentifiquer=this.userUniqueIdentifiquerKey,this.productRequest.categoryId=null==this.categoryActual?0:this.categoryActual,this.productRequest.unitMeasurementId=null==this.unitMeasurementActual?0:this.unitMeasurementActual,this.productRequest.quantity=this.product.quantity,this.productRequest.purcharsePrice=this.product.purcharsePrice,this.productRequest.code=this.product.code,this.productRequest.localization=this.defaultLozalization,this.submitted=!0,this.IsCreatingProduct?null==this.productRequest.name||null==this.productRequest.price?(this.messageService.add({severity:"error",summary:"Error",detail:"Para crear productos son obligatorios incluir el nombre y el precio",life:3e3}),this.showProgressBar=!1):this.AddNewProduct(this.productRequest):null==this.productRequest.name&&null==this.productRequest.price?(this.messageService.add({severity:"error",summary:"Error",detail:"No hay nada que actualizar",life:3e3}),this.showProgressBar=!1):this.UpdateProduct(this.productRequest)}UpdateProduct(e){e.userIdentifiquer=this.eventService.getToken(),this.productService.UpdateProduct(e).subscribe(i=>{i.data?(this.GetProductsByWareHouse(),this.messageService.add({severity:"success",summary:"Success",detail:"El producto "+e.name+" ha sido guardado con Exito",life:3e3}),this.product={}):this.messageService.add({severity:"error",summary:"Error",detail:i.message,life:3e3}),this.showProgressBar=!1})}GetProductsByWareHouse(){this.showProgressBar=!0,this.productService.getProductsByWareHouse(this.eventService.getToken()).subscribe(e=>{e.data?(this.productsByWareHouse=e.data,this.products=e.data):this.messageService.add({severity:"error",summary:"Error",detail:"No tiene productos creados",life:3e3}),this.showProgressBar=!1},e=>{this.messageService.add({severity:"error",summary:"Error",detail:e.message,life:6e3}),this.showProgressBar=!1})}AddNewProduct(e){e.userIdentifiquer=this.eventService.getToken(),e.supplier=null==this.actualSupplier?"0":this.actualSupplier,this.productService.AddNewProduct(e).subscribe(i=>{i.data?(this.GetProductsByWareHouse(),this.messageService.add({severity:"success",summary:"Success",detail:"El producto "+e.name+" ha sido guardado con Exito",life:3e3}),this.productDialog=!1,this.product={}):this.messageService.add({severity:"error",summary:"Error",detail:i.message,life:3e3}),this.showProgressBar=!1})}findIndexById(e){let i=-1;for(let o=0;o<this.products.length;o++)if(this.products[o].id===e){i=o;break}return i}onGlobalFilter(e,i){e.filterGlobal(i.target.value,"contains")}filter(e){this.categoryActual=e}MaterializeProductToDelete(e){var i=new _;i.id=e.productId,i.name=e.productName,i.description=e.description,this.productToDeleteList.push(i)}addProductInventary(e){this.addInventaryPrice=0,this.addInventaryQuantity=0,this.product=Object.assign({},e),this.showAddInventaryDialog=!0}addAjustInventaryProduct(e){this.addAjustQuantity=0,this.product=Object.assign({},e),this.showAjustInventaryDialog=!0}GetCategoriesByEnterprise(){this.productService.GetCategoriesByEnterprise(this.eventService.getToken()).subscribe(e=>{e.data?this.categories=e.data:this.messageService.add({severity:"error",summary:"Error",detail:"No tiene productos creados",life:3e3})})}filterCategory(e){this.categoryActual=e}GetUnitMeasurementByEnterprise(){this.productService.GetUnitMeasurementByEnterprise(this.eventService.getToken()).subscribe(e=>{e.data?this.unitMeasurement=e.data:this.messageService.add({severity:"error",summary:"Error",detail:"No tiene productos creados",life:3e3})})}filterUM(e){this.unitMeasurementActual=e}GetSupplierValuesByEnterprise(){this.productService.GetSupplierValues(this.eventService.getToken()).subscribe(e=>{e.data?this.suppliers=e.data:this.messageService.add({severity:"error",summary:"Error",detail:"No tiene productos creados",life:3e3})})}filterCostumer(e){this.actualSupplier=e}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(g.M),t.Y36(l.P),t.Y36(h.ez))},n.\u0275cmp=t.Xpm({type:n,selectors:[["ng-component"]],features:[t._Bn([h.ez])],decls:3,vars:3,consts:[[4,"ngIf"],["class","grid",4,"ngIf"],["COLOR","red"],[1,"grid"],[1,"col-12"],[1,"card","px-6","py-6"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],["responsiveLayout","scroll","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","selectionMode","multiple","dataKey","productId",3,"value","columns","rows","globalFilterFields","paginator","rowsPerPageOptions","showCurrentPageReport","selection","rowHover","selectionChange"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["header","Detalles del Producto",1,"p-fluid",3,"visible","modal","visibleChange"],["pTemplate","content"],["pTemplate","footer"],["header","Agregar Inventario",1,"p-fluid",3,"visible","modal","visibleChange"],["header","Confirm",3,"visible","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[1,"my-2"],["pButton","","pRipple","","label","Nuevo","icon","pi pi-plus",1,"p-button-success","mr-2",3,"click"],["pButton","","pRipple","","label","Eliminar","icon","pi pi-trash",1,"p-button-danger",3,"disabled","click"],["pButton","","pRipple","","label","Exportar","icon","pi pi-upload",1,"p-button-help",3,"click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search...",1,"w-full","sm:w-auto",3,"input"],[2,"width","3rem"],["pSortableColumn","productId"],["field","productId"],["pSortableColumn","productName"],["field","productName"],["pSortableColumn","productPrice"],["field","productPrice"],["pSortableColumn","taxName"],["field","taxName"],["pSortableColumn","localizationName"],["field","localizationName"],["pSortableColumn","categoryName"],["field","categoryName"],["pSortableColumn","unitMeasurement"],["field","unitMeasurement"],["pSortableColumn","rating"],["field","rating"],["pSortableColumn","actualInventary"],["field","actualInventary"],["pSortableColumn","inventoryStatus"],["field","inventoryStatus"],[3,"value"],[2,"width","14%","min-width","10rem"],[1,"p-column-title"],["src","http://cajasgraf.com.ar/productos/images/df.jpg","width","100",1,"shadow-4",3,"alt"],[2,"width","14%","min-width","8rem"],[3,"ngModel","readonly","cancel"],[1,"flex"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-warning",3,"click"],["src","https://w7.pngwing.com/pngs/685/904/png-transparent-fizzy-drinks-coca-cola-diet-coke-rc-cola-coca-cola-food-cola-soft-drink.png","width","150","class","mt-0 mx-auto mb-5 block shadow-2",3,"alt",4,"ngIf"],[1,"field"],["for","ProductName"],["type","text","pInputText","","id","productName","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["class","ng-dirty ng-invalid",4,"ngIf"],["for","description"],["id","description","pInputTextarea","","required","","rows","3","cols","20",3,"ngModel","ngModelChange"],["for","status"],[3,"showFilter","IsCreating","DropDownDataSource","ValueSelectedChange"],[3,"IsCreating","DropDownDataSource","ValueSelectedChange"],[1,"mb-3"],[1,"formgrid","grid"],[1,"field-radiobutton","col-6"],["id","category1","name","category","value","1",3,"ngModel","disabled","ngModelChange"],["for","category1"],["id","category2","name","category","value","2",3,"ngModel","ngModelChange"],["for","category2"],["id","category3","name","category","value","3",3,"ngModel","ngModelChange"],["for","category3"],["id","category4","name","category","value","4",3,"ngModel","ngModelChange"],["for","category4"],[1,"field","col"],["for","price"],["id","price","mode","currency","currency","LPS","locale","en-US",3,"ngModel","ngModelChange"],["for","quantity"],["id","quantity",3,"ngModel","ngModelChange"],["for","productPrice"],["src","https://w7.pngwing.com/pngs/685/904/png-transparent-fizzy-drinks-coca-cola-diet-coke-rc-cola-coca-cola-food-cola-soft-drink.png","width","150",1,"mt-0","mx-auto","mb-5","block","shadow-2",3,"alt"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","label","Cancel","icon","pi pi-times",1,"p-button-text",3,"click"],["pButton","","pRipple","","label","Save","icon","pi pi-check",1,"p-button-text",3,"click"],["disabled","true","type","text","pInputText","","id","productName","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["disabled","true","id","description","pInputTextarea","","required","","rows","3","cols","20",3,"ngModel","ngModelChange"],["id","price",3,"ngModel","ngModelChange"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(e,i){1&e&&(t.YNc(0,E,2,0,"div",0),t.YNc(1,H,4,0,"div",0),t.YNc(2,dt,32,38,"div",1)),2&e&&(t.Q6J("ngIf",i.showProgressBar),t.xp6(1),t.Q6J("ngIf",!i.hasEnterprise||!i.hasWareHouse),t.xp6(1),t.Q6J("ngIf",i.hasEnterprise&&i.hasWareHouse))},dependencies:[c.mk,c.O5,p.iA,h.jx,p.lQ,p.fz,p.UA,p.Mo,P.Hq,v.Fj,v.JJ,v.Q7,v.On,b.H,M.FN,y.o,A.iG,N.o,q.g,I.EU,w.Rn,U.V,J.R,D.t,c.H9],encapsulation:2}),n})(),ut=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[m.Bz.forChild([{path:"",component:ct,canActivate:[x.j]}]),m.Bz]}),n})();var lt=a(8205),pt=a(4036),_t=a(4891);let gt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[c.ez,ut,p.U$,lt.O,v.u5,P.hJ,b.T,M.EV,y.V,A.Xt,N.j,q.A,pt.kW,I.cc,w.L$,U.S,_t.E]}),n})()},3407:(S,f,a)=>{a.d(f,{A:()=>h,g:()=>x});var c=a(5e3),p=a(9808),m=a(3075);let x=(()=>{class u{constructor(d,t,g,l){this.el=d,this.ngModel=t,this.control=g,this.cd=l,this.onResize=new c.vpe}ngOnInit(){this.ngModel&&(this.ngModelSubscription=this.ngModel.valueChanges.subscribe(()=>{this.updateState()})),this.control&&(this.ngControlSubscription=this.control.valueChanges.subscribe(()=>{this.updateState()}))}ngAfterViewInit(){this.autoResize&&this.resize(),this.updateFilledState(),this.cd.detectChanges()}onInput(d){this.updateState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length}onFocus(d){this.autoResize&&this.resize(d)}onBlur(d){this.autoResize&&this.resize(d)}resize(d){this.el.nativeElement.style.height="auto",this.el.nativeElement.style.height=this.el.nativeElement.scrollHeight+"px",parseFloat(this.el.nativeElement.style.height)>=parseFloat(this.el.nativeElement.style.maxHeight)?(this.el.nativeElement.style.overflowY="scroll",this.el.nativeElement.style.height=this.el.nativeElement.style.maxHeight):this.el.nativeElement.style.overflow="hidden",this.onResize.emit(d||{})}updateState(){this.updateFilledState(),this.autoResize&&this.resize()}ngOnDestroy(){this.ngModelSubscription&&this.ngModelSubscription.unsubscribe(),this.ngControlSubscription&&this.ngControlSubscription.unsubscribe()}}return u.\u0275fac=function(d){return new(d||u)(c.Y36(c.SBq),c.Y36(m.On,8),c.Y36(m.a5,8),c.Y36(c.sBO))},u.\u0275dir=c.lG2({type:u,selectors:[["","pInputTextarea",""]],hostAttrs:[1,"p-inputtextarea","p-inputtext","p-component","p-element"],hostVars:4,hostBindings:function(d,t){1&d&&c.NdJ("input",function(l){return t.onInput(l)})("focus",function(l){return t.onFocus(l)})("blur",function(l){return t.onBlur(l)}),2&d&&c.ekj("p-filled",t.filled)("p-inputtextarea-resizable",t.autoResize)},inputs:{autoResize:"autoResize"},outputs:{onResize:"onResize"}}),u})(),h=(()=>{class u{}return u.\u0275fac=function(d){return new(d||u)},u.\u0275mod=c.oAB({type:u}),u.\u0275inj=c.cJS({imports:[p.ez]}),u})()}}]);