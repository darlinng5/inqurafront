"use strict";(self.webpackChunksakai=self.webpackChunksakai||[]).push([[9017],{9017:(S,m,o)=>{o.r(m),o.d(m,{FacturaReporteModule:()=>U});var g=o(9808),f=o(5077),v=o(9783);class s{}var t=o(5e3),e=o(7747),n=o(5384),a=o(5652),u=o(845),h=o(3075),Z=o(6186);function M(r,p){if(1&r&&(t.TgZ(0,"tr",11)(1,"th",12),t._uU(2),t.qZA(),t.TgZ(3,"th",12),t._uU(4),t.qZA(),t.TgZ(5,"th"),t._uU(6),t.qZA(),t.TgZ(7,"th"),t._uU(8),t.qZA(),t.TgZ(9,"th"),t._uU(10),t.qZA(),t.TgZ(11,"th"),t._uU(12),t.qZA(),t.TgZ(13,"th"),t._uU(14),t.qZA(),t.TgZ(15,"th",13),t._uU(16),t.qZA()()),2&r){const i=p.$implicit;t.xp6(2),t.Oqu(i.sarNumber),t.xp6(2),t.Oqu(i.costumerName),t.xp6(2),t.Oqu(i.date),t.xp6(2),t.hij("",i.payPercentaje,"%"),t.xp6(2),t.Oqu(i.payCredit),t.xp6(2),t.Oqu(i.payOthers),t.xp6(2),t.Oqu(i.payCash),t.xp6(2),t.Oqu(i.total)}}let x=(()=>{class r{constructor(i,l,c){this.productService=i,this.messageService=l,this.eventService=c,this.loading=!1,this.InvoiceList=[]}load(){this.loading=!0;var i=new s;i.initialDate=this.StartDate,i.finalDate=this.FinalDate,this.getInvoiceReport(i)}getInvoiceReport(i){const l=this.eventService.getToken();this.productService.GetInvoiceReport(i,l).subscribe(c=>{var d;if(c.data){this.InvoiceList=c.data;var T=0,C=0,F=0,_=0;null===(d=this.InvoiceList)||void 0===d||d.forEach(y=>{T+=y.payOthers,C+=y.payCash,F+=y.payCredit,_+=y.total}),this.totalOthers=T,this.totalCash=C,this.totalCredit=F,this.totalInvoice=_}else this.messageService.add({severity:"error",summary:"Error",detail:c.message,life:3e3});this.loading=!1},c=>{this.messageService.add({severity:"error",summary:"Error",detail:c.message,life:3e3}),this.loading=!1})}}return r.\u0275fac=function(i){return new(i||r)(t.Y36(e.M),t.Y36(v.ez),t.Y36(n.P))},r.\u0275cmp=t.Xpm({type:r,selectors:[["ng-component"]],features:[t._Bn([v.ez])],decls:49,vars:10,consts:[["id","print-section"],[1,"grid"],[1,"col-12"],[1,"card"],["htmlFor","age1"],["inputId","icon",3,"ngModel","showIcon","ngModelChange"],["label","Search","icon","pi pi-search","iconPos","right",1,"space",3,"loading","onClick"],[2,"background-color","#7288a2","color","white"],["style","font-size: small;",4,"ngFor","ngForOf"],[2,"color","black"],["printSectionId","print-section","ngxPrint","","pButton","","pRipple","","label","imprimir","icon","pi pi-print",1,"p-button-help"],[2,"font-size","small"],["align","left"],["align","right"]],template:function(i,l){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4"),t._uU(5,"Reporte de Facturas"),t.qZA(),t.TgZ(6,"label",4),t._uU(7,"Inicial "),t.qZA(),t.TgZ(8,"p-calendar",5),t.NdJ("ngModelChange",function(d){return l.StartDate=d}),t.qZA(),t.TgZ(9,"label",4),t._uU(10,"Final "),t.qZA(),t.TgZ(11,"p-calendar",5),t.NdJ("ngModelChange",function(d){return l.FinalDate=d}),t.qZA(),t.TgZ(12,"p-button",6),t.NdJ("onClick",function(){return l.load()}),t.qZA(),t._UZ(13,"p")(14,"p"),t.TgZ(15,"table")(16,"tr",7)(17,"th"),t._uU(18,"Fac. N."),t.qZA(),t.TgZ(19,"th"),t._uU(20,"Cliente"),t.qZA(),t.TgZ(21,"th"),t._uU(22,"Fecha"),t.qZA(),t.TgZ(23,"th"),t._uU(24,"% Pagado"),t.qZA(),t.TgZ(25,"th"),t._uU(26,"Credito"),t.qZA(),t.TgZ(27,"th"),t._uU(28,"Otros"),t.qZA(),t.TgZ(29,"th"),t._uU(30,"Efectivo"),t.qZA(),t.TgZ(31,"th"),t._uU(32,"Total"),t.qZA()(),t.YNc(33,M,17,8,"tr",8),t.TgZ(34,"tr",9)(35,"th"),t._uU(36,"Totales"),t.qZA(),t._UZ(37,"th")(38,"th")(39,"th"),t.TgZ(40,"th"),t._uU(41),t.qZA(),t.TgZ(42,"th"),t._uU(43),t.qZA(),t.TgZ(44,"th"),t._uU(45),t.qZA(),t.TgZ(46,"th"),t._uU(47),t.qZA()()()()()()(),t._UZ(48,"button",10)),2&i&&(t.xp6(8),t.Q6J("ngModel",l.StartDate)("showIcon",!0),t.xp6(3),t.Q6J("ngModel",l.FinalDate)("showIcon",!0),t.xp6(1),t.Q6J("loading",l.loading),t.xp6(21),t.Q6J("ngForOf",l.InvoiceList),t.xp6(8),t.Oqu(l.totalCredit),t.xp6(2),t.Oqu(l.totalOthers),t.xp6(2),t.Oqu(l.totalCash),t.xp6(2),t.Oqu(l.totalInvoice))},dependencies:[g.sg,a.f,u.Hq,u.zx,h.JJ,h.On,Z.I],styles:["table[_ngcontent-%COMP%] {\n      border-collapse: collapse;\n      width: 100%;\n    }\n    \n    tr[_ngcontent-%COMP%] {\n      border-bottom: 1px solid #ddd;\n    }\n    .space[_ngcontent-%COMP%] {\n  width: 4px;\n  height: auto;\n  margin-left: 20px;\n}"]}),r})(),A=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[f.Bz.forChild([{path:"",component:x}]),f.Bz]}),r})(),U=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[g.ez,A,a._8,u.hJ,h.u5,h.UX,Z.K]}),r})()},6186:(S,m,o)=>{o.d(m,{I:()=>f,K:()=>v});var g=o(5e3);let f=(()=>{class s{constructor(){this._printStyle=[],this.useExistingCss=!1,this.printDelay=0,this._styleSheetFile=""}set printStyle(e){for(let n in e)e.hasOwnProperty(n)&&this._printStyle.push((n+JSON.stringify(e[n])).replace(/['"]+/g,""));this.returnStyleValues()}returnStyleValues(){return`<style> ${this._printStyle.join(" ").replace(/,/g,";")} </style>`}set styleSheetFile(e){let n=function(a){return`<link rel="stylesheet" type="text/css" href="${a}">`};if(-1!==e.indexOf(",")){const a=e.split(",");for(let u of a)this._styleSheetFile=this._styleSheetFile+n(u)}else this._styleSheetFile=n(e)}returnStyleSheetLinkTags(){return this._styleSheetFile}getElementTag(e){const n=[],a=document.getElementsByTagName(e);for(let u=0;u<a.length;u++)n.push(a[u].outerHTML);return n.join("\r\n")}getFormData(e){for(var n=0;n<e.length;n++)e[n].defaultValue=e[n].value,e[n].checked&&(e[n].defaultChecked=!0)}getHtmlContents(){let e=document.getElementById(this.printSectionId),n=e.getElementsByTagName("input");this.getFormData(n);let a=e.getElementsByTagName("textarea");return this.getFormData(a),e.innerHTML}print(){let e,n,a="",u="";const h=this.getElementTag("base");this.useExistingCss&&(a=this.getElementTag("style"),u=this.getElementTag("link")),e=this.getHtmlContents(),n=window.open("","_blank","top=0,left=0,height=auto,width=auto"),n.document.open(),n.document.write(`\n      <html>\n        <head>\n          <title>${this.printTitle?this.printTitle:""}</title>\n          ${h}\n          ${this.returnStyleValues()}\n          ${this.returnStyleSheetLinkTags()}\n          ${a}\n          ${u}\n        </head>\n        <body>\n          ${e}\n          <script defer>\n            function triggerPrint(event) {\n              window.removeEventListener('load', triggerPrint, false);\n              setTimeout(function() {\n                closeWindow(window.print());\n              }, ${this.printDelay});\n            }\n            function closeWindow(){\n                window.close();\n            }\n            window.addEventListener('load', triggerPrint, false);\n          <\/script>\n        </body>\n      </html>`),n.document.close()}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275dir=g.lG2({type:s,selectors:[["button","ngxPrint",""]],hostBindings:function(e,n){1&e&&g.NdJ("click",function(){return n.print()})},inputs:{useExistingCss:"useExistingCss",printDelay:"printDelay",printStyle:"printStyle",styleSheetFile:"styleSheetFile",printSectionId:"printSectionId",printTitle:"printTitle"}}),s})(),v=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=g.oAB({type:s}),s.\u0275inj=g.cJS({}),s})()}}]);