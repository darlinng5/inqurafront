"use strict";(self.webpackChunksakai=self.webpackChunksakai||[]).push([[5150],{6768:(D,h,o)=>{o.d(h,{t:()=>e});var p=o(5e3),m=o(7747),f=o(5384),u=o(3075),_=o(4036);let e=(()=>{class d{constructor(i,l){this.commonService=i,this.eventService=l,this.ValueSelectedChange=new p.vpe,this.categorys=[],this.Filter=!1}ngOnInit(){this.data=this.DropDownDataSource,this.Filter=this.showFilter}changeValue(){var i;this.ValueSelected=null===(i=this.selectedData)||void 0===i?void 0:i.value,this.ValueSelectedChange.emit(this.ValueSelected)}selectedValue(){var i;this.ValueSelected=null===(i=this.selectedData)||void 0===i?void 0:i.value,this.ValueSelectedChange.emit(this.ValueSelected)}}return d.\u0275fac=function(i){return new(i||d)(p.Y36(m.M),p.Y36(f.P))},d.\u0275cmp=p.Xpm({type:d,selectors:[["app-drop-down"]],inputs:{ValueSelected:"ValueSelected",IsCreating:"IsCreating",showFilter:"showFilter",DropDownDataSource:"DropDownDataSource"},outputs:{ValueSelectedChange:"ValueSelectedChange"},decls:1,vars:3,consts:[["optionLabel","viewValue",3,"filter","options","ngModel","onClick","onChange","ngModelChange"]],template:function(i,l){1&i&&(p.TgZ(0,"p-dropdown",0),p.NdJ("onClick",function(){return l.selectedValue()})("onChange",function(){return l.changeValue()})("ngModelChange",function(v){return l.selectedData=v}),p.qZA()),2&i&&p.Q6J("filter",l.Filter)("options",l.data)("ngModel",l.selectedData)},dependencies:[u.JJ,u.On,_.Lt],encapsulation:2}),d})()},5150:(D,h,o)=>{o.r(h),o.d(h,{PayTypeModule:()=>O});var p=o(9808),m=o(7449),f=o(1546),u=o(9783);class _{}var e=o(5e3),d=o(7747),y=o(5384),i=o(8952),l=o(7773),g=o(4534),v=o(845),C=o(5315),P=o(1424),T=o(3075),Z=o(7116),S=o(6768);function w(n,s){1&n&&(e.TgZ(0,"div"),e._UZ(1,"app-progress-bar"),e.qZA())}function M(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",17),e._UZ(1,"p-toast"),e.TgZ(2,"button",18),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.openNew())}),e.qZA()()}}function A(n,s){1&n&&(e.TgZ(0,"tr")(1,"th",19),e._uU(2,"Nombre"),e._UZ(3,"p-sortIcon",20),e.qZA(),e.TgZ(4,"th",21),e._uU(5,"Descripcion "),e._UZ(6,"p-sortIcon",22),e.qZA(),e.TgZ(7,"th",23),e._uU(8,"Tipo "),e._UZ(9,"p-sortIcon",24),e.qZA()())}function N(n,s){if(1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA()()),2&n){const t=s.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.description),e.xp6(2),e.Oqu(t.type)}}function b(n,s){1&n&&(e.TgZ(0,"div"),e._UZ(1,"app-progress-bar"),e.qZA())}function E(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",11)(2,"label",12),e._uU(3,"Tipo"),e.qZA(),e.TgZ(4,"div",13)(5,"app-drop-down",25),e.NdJ("ValueSelectedChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.filterPayTypeGeneric(r))}),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("IsCreating",!0)("DropDownDataSource",t.payTypeGeneric)}}function I(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",26),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.hideDialog())}),e.qZA(),e.TgZ(1,"button",27),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.saveCostumer())}),e.qZA()}}const J=function(){return{"min-width":"50rem"}},U=function(){return[10,25,50]},x=function(){return{width:"850px"}};let G=(()=>{class n{constructor(t,a,r,c){this.router=t,this.productService=a,this.eventService=r,this.messageService=c,this.payTypeData=[],this.showDialog=!1,this.isCreating=!0,this.showProgressBar=!1,this.isLoadingPayGeneric=!0,this.redirect=!1,this.AccessName="/pages/pay-type",this.GetGenericPayTypes(),this.GetPayTypes()}ngOnInit(){const a=this.eventService.getPermisionsException().split(",").map(r=>r.trim());this.redirect=a.includes(this.AccessName),this.redirect&&this.router.navigateByUrl("/pages/unautorized"),this.productService.getProductsSmall().then(r=>this.products1=r)}hideDialog(){this.isCreating=!1,this.showDialog=!1}openNew(){this.showDialog=!0,this.isCreating=!0}saveCostumer(){var t=new _;t.name=null==this.payName?"":this.payName,t.description=null==this.payDescription?"":this.payDescription,t.id=this.payTypeId,t.userId=this.eventService.getToken(),this.AddNewPayType(t)}AddNewPayType(t){this.showProgressBar=!0,this.productService.AddNewPayTypeEnterprise(t).subscribe(a=>{a.data?(this.messageService.add({severity:"success",summary:"Success",detail:"El tipo de pago "+t.name+" se ha guardado",life:3e3}),this.showDialog=!1,this.GetPayTypes()):this.messageService.add({severity:"error",summary:"Error",detail:a.message,life:3e3}),this.showProgressBar=!1})}filterPayTypeGeneric(t){this.payTypeId=t}GetGenericPayTypes(){this.isLoadingPayGeneric=!0,this.productService.GetGenericPayTypes(this.eventService.getToken()).subscribe(t=>{t.data?this.payTypeGeneric=t.data:this.messageService.add({severity:"error",summary:"Error",detail:"No tiene productos creados",life:3e3}),this.isLoadingPayGeneric=!1})}GetPayTypes(){this.showProgressBar=!0,this.productService.GetPayTypesReport(this.eventService.getToken()).subscribe(t=>{t.data?this.payTypeData=t.data:this.messageService.add({severity:"error",summary:"Error",detail:t.message,life:3e3}),this.showProgressBar=!1})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m.F0),e.Y36(d.M),e.Y36(y.P),e.Y36(u.ez))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],features:[e._Bn([u.ez])],decls:31,vars:18,consts:[[4,"ngIf"],[1,"grid"],[1,"col-12"],[1,"card"],["styleClass","mb-4"],["pTemplate","left"],["currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","paginator","rows","showCurrentPageReport","tableStyle","rowsPerPageOptions"],["pTemplate","header"],["pTemplate","body"],["header","Confirm",3,"visible","modal","visibleChange"],[1,"card","p-fluid"],[1,"field","grid"],["htmlFor","email3",1,"col-12","mb-2","md:col-2","md:mb-0"],[1,"col-12","md:col-10"],["autocomplete","off","pInputText","","id","email3","type","text","placeholder","Nombre",3,"ngModel","ngModelChange"],["autocomplete","off","pInputText","","id","email3","type","text","placeholder","Descripci\xf3n",3,"ngModel","ngModelChange"],["pTemplate","footer"],[1,"my-2"],["pButton","","pRipple","","label","Nuevo","icon","pi pi-plus",1,"p-button-success","mr-2",3,"click"],["pSortableColumn","name",2,"width","20%"],["field","rtn"],["pSortableColumn","description",2,"width","20%"],["field","name"],["pSortableColumn","type",2,"width","20%"],["field","middleName"],[3,"IsCreating","DropDownDataSource","ValueSelectedChange"],["pButton","","pRipple","","icon","pi pi-times","label","Cancelar",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Guardar",1,"p-button-text",3,"click"]],template:function(t,a){1&t&&(e.YNc(0,w,2,0,"div",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",3)(5,"p-toolbar",4),e.YNc(6,M,3,0,"ng-template",5),e.qZA(),e.TgZ(7,"p-table",6),e.YNc(8,A,10,0,"ng-template",7),e.YNc(9,N,7,3,"ng-template",8),e.qZA()()()()(),e.TgZ(10,"p-dialog",9),e.NdJ("visibleChange",function(c){return a.showDialog=c}),e.YNc(11,b,2,0,"div",0),e.TgZ(12,"div",10),e.YNc(13,E,6,2,"div",0),e.TgZ(14,"div",11)(15,"label",12),e._uU(16,"Nombre"),e.qZA(),e.TgZ(17,"div",13)(18,"input",14),e.NdJ("ngModelChange",function(c){return a.payName=c}),e.qZA()()(),e.TgZ(19,"div",11)(20,"label",12),e._uU(21,"Descripci\xf3n"),e.qZA(),e.TgZ(22,"div",13)(23,"input",15),e.NdJ("ngModelChange",function(c){return a.payDescription=c}),e.qZA()()(),e.TgZ(24,"div",11),e._UZ(25,"label",12)(26,"div",13),e.qZA(),e.TgZ(27,"div",11),e._UZ(28,"label",12)(29,"div",13),e.qZA()(),e.YNc(30,I,2,0,"ng-template",16),e.qZA()),2&t&&(e.Q6J("ngIf",a.showProgressBar),e.xp6(7),e.Q6J("value",a.payTypeData)("paginator",!0)("rows",10)("showCurrentPageReport",!0)("tableStyle",e.DdM(15,J))("rowsPerPageOptions",e.DdM(16,U)),e.xp6(3),e.Akn(e.DdM(17,x)),e.Q6J("visible",a.showDialog)("modal",!0),e.xp6(1),e.Q6J("ngIf",a.showProgressBar),e.xp6(2),e.Q6J("ngIf",!a.isLoadingPayGeneric),e.xp6(5),e.Q6J("ngModel",a.payName),e.xp6(5),e.Q6J("ngModel",a.payDescription))},dependencies:[p.O5,i.iA,u.jx,i.lQ,i.fz,l.FN,g.o,v.Hq,C.V,P.o,T.Fj,T.JJ,T.On,Z.R,S.t],encapsulation:2}),n})(),V=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[m.Bz.forChild([{path:"",component:G,canActivate:[f.j]}]),m.Bz]}),n})();var B=o(4891);let O=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[p.ez,V,i.U$,l.EV,g.V,v.hJ,C.S,P.j,T.u5,B.E]}),n})()}}]);