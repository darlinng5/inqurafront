"use strict";(self.webpackChunksakai=self.webpackChunksakai||[]).push([[7817],{7817:(z,g,o)=>{o.r(g),o.d(g,{TalonarioModule:()=>w});var f=o(9808),C=o(4559),h=o(1546),e=o(5e3),i=o(3075),I=o(9019);class T{}var Z=o(5384),F=o(7747),A=o(845),x=o(1424),S=o(5787),N=o(6198),_=o(7531),U=o(5652),q=o(7116);function D(t,r){1&t&&(e.TgZ(0,"div"),e._UZ(1,"app-progress-bar"),e.qZA())}const b=function(){return{width:"500px",height:"50px"}};function J(t,r){1&t&&(e.TgZ(0,"div")(1,"h5"),e._uU(2,"Espere......"),e.qZA(),e._UZ(3,"p-progressSpinner",1),e.qZA()),2&t&&(e.xp6(3),e.Akn(e.DdM(2,b)))}function y(t,r){1&t&&(e.TgZ(0,"p")(1,"FONT",20),e._uU(2,"Debe ingresar un Correlativo Inicial valido!!! "),e.qZA()())}function Y(t,r){1&t&&(e.TgZ(0,"p")(1,"FONT",20),e._uU(2,"Debe ingresar un Correlativo Final valido!!! "),e.qZA()())}function Q(t,r){1&t&&(e.TgZ(0,"p")(1,"FONT",20),e._uU(2,"Debe ingresar una fecha de inicio del talonario valida!!! "),e.qZA()())}function B(t,r){1&t&&(e.TgZ(0,"p")(1,"FONT",20),e._uU(2,"Debe ingresar una fecha final del talonario valida!!! "),e.qZA()())}function O(t,r){1&t&&(e.TgZ(0,"p")(1,"FONT",20),e._uU(2,"Debe ingresar un correlativo inicial valido "),e.qZA()())}function L(t,r){1&t&&(e.TgZ(0,"p")(1,"FONT",20),e._uU(2,"Debe ingresar un correlativo final valido "),e.qZA()())}function P(t,r){1&t&&(e.TgZ(0,"p")(1,"FONT",20),e._uU(2,"Debe ingresar un CAI valido "),e.qZA()())}function k(t,r){1&t&&(e.TgZ(0,"p")(1,"FONT",20),e._uU(2,"Debe ingresar un nombre valido "),e.qZA()())}function E(t,r){if(1&t){const a=e.EpF();e.TgZ(0,"div")(1,"form",2),e.NdJ("ngSubmit",function(){e.CHM(a);const s=e.oxw();return e.KtG(s.createCorrelative())}),e.TgZ(2,"div",3)(3,"div",4)(4,"div",5)(5,"h5"),e._uU(6,"Correlativo de Facturas"),e.qZA(),e.TgZ(7,"div",6)(8,"label",7),e._uU(9,"Nombre"),e.qZA(),e._UZ(10,"input",8),e.qZA(),e.TgZ(11,"div",6)(12,"label",7),e._uU(13,"Numero Inicial"),e.qZA(),e._UZ(14,"input",9),e.qZA(),e.TgZ(15,"div",6)(16,"label",7),e._uU(17,"Numero Final"),e.qZA(),e._UZ(18,"input",10),e.qZA(),e.TgZ(19,"div",6)(20,"label",11),e._uU(21,"Correlativo Inicial"),e.qZA(),e._UZ(22,"input",12),e.qZA(),e.TgZ(23,"div",6)(24,"label",11),e._uU(25,"Correlativo Final"),e.qZA(),e._UZ(26,"input",13),e.qZA(),e.TgZ(27,"div",6)(28,"label",11),e._uU(29,"Fecha Inicial"),e.qZA(),e._UZ(30,"p-calendar",14),e.qZA(),e.TgZ(31,"div",6)(32,"label",11),e._uU(33,"Fecha Final"),e.qZA(),e._UZ(34,"p-calendar",15),e.qZA(),e.TgZ(35,"div",6)(36,"label",11),e._uU(37,"CAI"),e.qZA(),e._UZ(38,"input",16),e.qZA(),e.TgZ(39,"div",17)(40,"div",18),e.YNc(41,y,3,0,"p",0),e.YNc(42,Y,3,0,"p",0),e.YNc(43,Q,3,0,"p",0),e.YNc(44,B,3,0,"p",0),e.YNc(45,O,3,0,"p",0),e.YNc(46,L,3,0,"p",0),e.YNc(47,P,3,0,"p",0),e.YNc(48,k,3,0,"p",0),e.qZA()(),e._UZ(49,"button",19),e.qZA()()()()()}if(2&t){const a=e.oxw();e.xp6(1),e.Q6J("formGroup",a.correlativeForm),e.xp6(29),e.Q6J("showIcon",!0),e.xp6(4),e.Q6J("showIcon",!0),e.xp6(7),e.Q6J("ngIf",a.validate("InitialCorrelative")),e.xp6(1),e.Q6J("ngIf",a.validate("FinalCorrelative")),e.xp6(1),e.Q6J("ngIf",a.validate("InitialDate")),e.xp6(1),e.Q6J("ngIf",a.validate("FinalDate")),e.xp6(1),e.Q6J("ngIf",a.validate("completeInitialCorrelative")),e.xp6(1),e.Q6J("ngIf",a.validate("completeFinalCorrelative")),e.xp6(1),e.Q6J("ngIf",a.validate("CAI")),e.xp6(1),e.Q6J("ngIf",a.validate("name"))}}let H=(()=>{class t{constructor(a,n,s){this.fb=a,this.eventService=n,this.productService=s,this.showProgressBar=!1,this.formSend=!1,this.isLoading=!1,this.correlativeCreated=!1,this.correlativeForm=this.fb.group({InitialCorrelative:[0,[i.kI.required,i.kI.min(0)]],FinalCorrelative:[0,[i.kI.required,i.kI.min(50)]],InitialDate:["",[i.kI.required]],FinalDate:["",i.kI.required],completeInitialCorrelative:["",[i.kI.required,i.kI.minLength(15)]],completeFinalCorrelative:["",[i.kI.required,i.kI.minLength(15)]],CAI:["",[i.kI.required,i.kI.minLength(10)]],name:["",[i.kI.required,i.kI.minLength(5)]]}),this.correlativeCreated=n.getHasCorrelative()==I.N.SuccessResponse,this.correlativeCreated&&(this.showProgressBar=!0,this.isLoading=!0,this.value())}value(){this.productService.getCorrelative(this.eventService.getToken()).subscribe(a=>{a.data?(this.correlativeForm.patchValue({name:a.data.name,InitialCorrelative:a.data.initialCorrelative,FinalCorrelative:a.data.finalCorrelative,InitialDate:a.data.initialDate,FinalDate:a.data.finalDate,completeInitialCorrelative:a.data.completeInitialCorrelative,completeFinalCorrelative:a.data.completeFinalCorrelative,CAI:a.data.cai}),console.log(a.data)):alert(a.message),this.isLoading=!1,this.showProgressBar=!1},a=>{this.isLoading=!1,this.showProgressBar=!1})}validate(a){var n;return!(!(null===(n=this.correlativeForm.get(a))||void 0===n?void 0:n.invalid)||1!=this.formSend)}createCorrelative(){var a,n,s,d,p,c,m,u;if(this.formSend=!0,this.showProgressBar=!0,this.correlativeForm.valid){var l=new T;l.CAI=null===(a=this.correlativeForm.get("CAI"))||void 0===a?void 0:a.value,l.InitialCorrelative=null===(n=this.correlativeForm.get("InitialCorrelative"))||void 0===n?void 0:n.value,l.FinalCorrelative=null===(s=this.correlativeForm.get("FinalCorrelative"))||void 0===s?void 0:s.value,l.InitialDate=null===(d=this.correlativeForm.get("InitialDate"))||void 0===d?void 0:d.value,l.FinalDate=null===(p=this.correlativeForm.get("FinalDate"))||void 0===p?void 0:p.value,l.completeInitialCorrelative=null===(c=this.correlativeForm.get("completeInitialCorrelative"))||void 0===c?void 0:c.value,l.completeFinalCorrelative=null===(m=this.correlativeForm.get("completeFinalCorrelative"))||void 0===m?void 0:m.value,l.name=null===(u=this.correlativeForm.get("name"))||void 0===u?void 0:u.value,l.userId=this.eventService.getToken(),this.productService.AddCorrelative(l).subscribe(v=>{v.data?(this.eventService.setToken(v.data.token),this.eventService.setHasEnterprise(v.data.hasEnterprise),this.eventService.setHasWareHouse(v.data.hasWareHouse),this.eventService.setHasPointOfSale(v.data.hasPointOfSale),this.eventService.setHasCorrelative(v.data.hasCorrelative),alert("Se registro de forma exitosa")):alert(v.message),this.showProgressBar=!1},v=>{this.showProgressBar=!1,alert(v)})}}}return t.\u0275fac=function(a){return new(a||t)(e.Y36(i.qu),e.Y36(Z.P),e.Y36(F.M))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-sar-correlative"]],decls:3,vars:3,consts:[[4,"ngIf"],["styleClass","custom-spinner","strokeWidth","8","fill","var(--surface-ground)","animationDuration",".5s"],[1,"form-horizontal","form-material",3,"formGroup","ngSubmit"],[1,"grid"],[1,"col-12","md:col-6"],[1,"card","p-fluid"],[1,"field"],["htmlFor","email1"],["matInput","","pInputText","","placeholder","Ejemplo Talonario 1","type","text","formControlName","name",1,"form-control"],["matInput","","pInputText","","placeholder","Ejemplo 100","type","number","formControlName","InitialCorrelative",1,"form-control"],["matInput","","pInputText","","placeholder","Ejemplo 500","type","number","formControlName","FinalCorrelative"],["htmlFor","age1"],["pInputText","","id","age1","placeholder","Ejemplo 000-001-01-00000100","type","text","formControlName","completeInitialCorrelative"],["pInputText","","id","age1","placeholder","Ejemplo 000-001-01-00000500","type","text","formControlName","completeFinalCorrelative"],["inputId","icon","formControlName","InitialDate",3,"showIcon"],["inputId","icon","formControlName","FinalDate",3,"showIcon"],["pInputText","","id","age1","placeholder","CAI","type","text","formControlName","CAI"],[1,"row"],[1,"col","tex-danger"],["type","submit","pButton","","pRipple","","label","Save","icon","pi pi-check"],["COLOR","red"]],template:function(a,n){1&a&&(e.YNc(0,D,2,0,"div",0),e.YNc(1,J,4,3,"div",0),e.YNc(2,E,50,11,"div",0)),2&a&&(e.Q6J("ngIf",n.showProgressBar),e.xp6(1),e.Q6J("ngIf",n.isLoading),e.xp6(1),e.Q6J("ngIf",!n.isLoading))},dependencies:[i._Y,i.Fj,i.wV,i.JJ,i.JL,f.O5,A.Hq,x.o,S.H,i.sg,i.u,N.G,_.Nt,U.f,q.R],encapsulation:2}),t})(),M=(()=>{class t{}return t.\u0275fac=function(a){return new(a||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["ng-component"]],decls:4,vars:0,consts:[[1,"grid"],[1,"col-12"],[1,"card"]],template:function(a,n){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"app-sar-correlative"),e.qZA()()())},dependencies:[H],encapsulation:2}),t})(),j=(()=>{class t{}return t.\u0275fac=function(a){return new(a||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[C.Bz.forChild([{path:"",component:M,canActivate:[h.j]}]),C.Bz]}),t})();var R=o(7040);let w=(()=>{class t{}return t.\u0275fac=function(a){return new(a||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[f.ez,j,R.E]}),t})()}}]);