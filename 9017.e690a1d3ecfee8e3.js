"use strict";(self.webpackChunksakai=self.webpackChunksakai||[]).push([[9017],{9017:(A,y,u)=>{u.r(y),u.d(y,{FacturaReporteModule:()=>w});var e=u(9808),f=u(7449),_=u(9783);class m{}var t=u(5e3),o=u(7747),l=u(5384),d=u(5652),g=u(845),v=u(3075),O=u(6186),x=u(7773);function Z(c,T){if(1&c&&(t.TgZ(0,"tr",11)(1,"th",12),t._uU(2),t.qZA(),t.TgZ(3,"th",12),t._uU(4),t.qZA(),t.TgZ(5,"th"),t._uU(6),t.qZA(),t.TgZ(7,"th"),t._uU(8),t.qZA(),t.TgZ(9,"th"),t._uU(10),t.qZA(),t.TgZ(11,"th"),t._uU(12),t.qZA(),t.TgZ(13,"th"),t._uU(14),t.qZA(),t.TgZ(15,"th"),t._uU(16),t.qZA(),t.TgZ(17,"th",13),t._uU(18),t.qZA()()),2&c){const p=T.$implicit;t.xp6(2),t.Oqu(p.sarNumber),t.xp6(2),t.Oqu(p.costumerName),t.xp6(2),t.Oqu(p.date),t.xp6(2),t.hij("",p.payPercentaje,"%"),t.xp6(2),t.Oqu(p.discount),t.xp6(2),t.Oqu(p.payCredit),t.xp6(2),t.Oqu(p.payOthers),t.xp6(2),t.Oqu(p.payCash),t.xp6(2),t.Oqu(p.total)}}let I=(()=>{class c{constructor(p,s,r){this.productService=p,this.messageService=s,this.eventService=r,this.loading=!1,this.InvoiceList=[]}load(){this.loading=!0;var p=new m;p.initialDate=this.StartDate,p.finalDate=this.FinalDate,this.getInvoiceReport(p)}getInvoiceReport(p){const s=this.eventService.getToken();this.productService.GetInvoiceReport(p,s).subscribe(r=>{var n;if(r.data){this.InvoiceList=r.data;var i=0,a=0,h=0,E=0,S=0;null===(n=this.InvoiceList)||void 0===n||n.forEach(C=>{i+=C.payOthers,a+=C.payCash,h+=C.payCredit,E+=C.total,S+=C.discount}),this.totalOthers=i,this.totalCash=a,this.totalCredit=h,this.totalInvoice=E,this.totalDiscount=S}else this.messageService.add({severity:"error",summary:"Error",detail:r.message,life:3e3});this.loading=!1},r=>{this.messageService.add({severity:"error",summary:"Error",detail:r.message,life:3e3}),this.loading=!1})}}return c.\u0275fac=function(p){return new(p||c)(t.Y36(o.M),t.Y36(_.ez),t.Y36(l.P))},c.\u0275cmp=t.Xpm({type:c,selectors:[["ng-component"]],features:[t._Bn([_.ez])],decls:54,vars:11,consts:[["id","print-section"],[1,"grid"],[1,"col-12"],[1,"card"],["htmlFor","age1"],["inputId","icon",3,"ngModel","showIcon","ngModelChange"],["label","Search","icon","pi pi-search","iconPos","right",1,"space",3,"loading","onClick"],[2,"background-color","#7288a2","color","white"],["style","font-size: small;",4,"ngFor","ngForOf"],[2,"color","black"],["printSectionId","print-section","ngxPrint","","pButton","","pRipple","","label","imprimir","icon","pi pi-print",1,"p-button-help"],[2,"font-size","small"],["align","left"],["align","right"]],template:function(p,s){1&p&&(t._UZ(0,"p-toast"),t.TgZ(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h4"),t._uU(6,"Reporte de Facturas"),t.qZA(),t.TgZ(7,"label",4),t._uU(8,"Inicial "),t.qZA(),t.TgZ(9,"p-calendar",5),t.NdJ("ngModelChange",function(n){return s.StartDate=n}),t.qZA(),t.TgZ(10,"label",4),t._uU(11,"Final "),t.qZA(),t.TgZ(12,"p-calendar",5),t.NdJ("ngModelChange",function(n){return s.FinalDate=n}),t.qZA(),t.TgZ(13,"p-button",6),t.NdJ("onClick",function(){return s.load()}),t.qZA(),t._UZ(14,"p")(15,"p"),t.TgZ(16,"table")(17,"tr",7)(18,"th"),t._uU(19,"Fac. N."),t.qZA(),t.TgZ(20,"th"),t._uU(21,"Cliente"),t.qZA(),t.TgZ(22,"th"),t._uU(23,"Fecha"),t.qZA(),t.TgZ(24,"th"),t._uU(25,"% Pagado"),t.qZA(),t.TgZ(26,"th"),t._uU(27,"Descuento"),t.qZA(),t.TgZ(28,"th"),t._uU(29,"Credito"),t.qZA(),t.TgZ(30,"th"),t._uU(31,"Otros"),t.qZA(),t.TgZ(32,"th"),t._uU(33,"Efectivo"),t.qZA(),t.TgZ(34,"th"),t._uU(35,"Total"),t.qZA()(),t.YNc(36,Z,19,9,"tr",8),t.TgZ(37,"tr",9)(38,"th"),t._uU(39,"Totales"),t.qZA(),t._UZ(40,"th")(41,"th")(42,"th"),t.TgZ(43,"th"),t._uU(44),t.qZA(),t.TgZ(45,"th"),t._uU(46),t.qZA(),t.TgZ(47,"th"),t._uU(48),t.qZA(),t.TgZ(49,"th"),t._uU(50),t.qZA(),t.TgZ(51,"th"),t._uU(52),t.qZA()()()()()()(),t._UZ(53,"button",10)),2&p&&(t.xp6(9),t.Q6J("ngModel",s.StartDate)("showIcon",!0),t.xp6(3),t.Q6J("ngModel",s.FinalDate)("showIcon",!0),t.xp6(1),t.Q6J("loading",s.loading),t.xp6(23),t.Q6J("ngForOf",s.InvoiceList),t.xp6(8),t.Oqu(s.totalDiscount),t.xp6(2),t.Oqu(s.totalCredit),t.xp6(2),t.Oqu(s.totalOthers),t.xp6(2),t.Oqu(s.totalCash),t.xp6(2),t.Oqu(s.totalInvoice))},dependencies:[e.sg,d.f,g.Hq,g.zx,v.JJ,v.On,O.I,x.FN],styles:["table[_ngcontent-%COMP%] {\n      border-collapse: collapse;\n      width: 100%;\n    }\n    \n    tr[_ngcontent-%COMP%] {\n      border-bottom: 1px solid #ddd;\n    }\n    .space[_ngcontent-%COMP%] {\n  width: 4px;\n  height: auto;\n  margin-left: 20px;\n}"]}),c})(),M=(()=>{class c{}return c.\u0275fac=function(p){return new(p||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({imports:[f.Bz.forChild([{path:"",component:I}]),f.Bz]}),c})(),w=(()=>{class c{}return c.\u0275fac=function(p){return new(p||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({imports:[e.ez,M,d._8,g.hJ,v.u5,v.UX,O.K,x.EV]}),c})()},6186:(A,y,u)=>{u.d(y,{I:()=>f,K:()=>_});var e=u(5e3);let f=(()=>{class m{constructor(){this._printStyle=[],this.useExistingCss=!1,this.printDelay=0,this._styleSheetFile=""}set printStyle(o){for(let l in o)o.hasOwnProperty(l)&&this._printStyle.push((l+JSON.stringify(o[l])).replace(/['"]+/g,""));this.returnStyleValues()}returnStyleValues(){return`<style> ${this._printStyle.join(" ").replace(/,/g,";")} </style>`}set styleSheetFile(o){let l=function(d){return`<link rel="stylesheet" type="text/css" href="${d}">`};if(-1!==o.indexOf(",")){const d=o.split(",");for(let g of d)this._styleSheetFile=this._styleSheetFile+l(g)}else this._styleSheetFile=l(o)}returnStyleSheetLinkTags(){return this._styleSheetFile}getElementTag(o){const l=[],d=document.getElementsByTagName(o);for(let g=0;g<d.length;g++)l.push(d[g].outerHTML);return l.join("\r\n")}getFormData(o){for(var l=0;l<o.length;l++)o[l].defaultValue=o[l].value,o[l].checked&&(o[l].defaultChecked=!0)}getHtmlContents(){let o=document.getElementById(this.printSectionId),l=o.getElementsByTagName("input");this.getFormData(l);let d=o.getElementsByTagName("textarea");return this.getFormData(d),o.innerHTML}print(){let o,l,d="",g="";const v=this.getElementTag("base");this.useExistingCss&&(d=this.getElementTag("style"),g=this.getElementTag("link")),o=this.getHtmlContents(),l=window.open("","_blank","top=0,left=0,height=auto,width=auto"),l.document.open(),l.document.write(`\n      <html>\n        <head>\n          <title>${this.printTitle?this.printTitle:""}</title>\n          ${v}\n          ${this.returnStyleValues()}\n          ${this.returnStyleSheetLinkTags()}\n          ${d}\n          ${g}\n        </head>\n        <body>\n          ${o}\n          <script defer>\n            function triggerPrint(event) {\n              window.removeEventListener('load', triggerPrint, false);\n              setTimeout(function() {\n                closeWindow(window.print());\n              }, ${this.printDelay});\n            }\n            function closeWindow(){\n                window.close();\n            }\n            window.addEventListener('load', triggerPrint, false);\n          <\/script>\n        </body>\n      </html>`),l.document.close()}}return m.\u0275fac=function(o){return new(o||m)},m.\u0275dir=e.lG2({type:m,selectors:[["button","ngxPrint",""]],hostBindings:function(o,l){1&o&&e.NdJ("click",function(){return l.print()})},inputs:{useExistingCss:"useExistingCss",printDelay:"printDelay",printStyle:"printStyle",styleSheetFile:"styleSheetFile",printSectionId:"printSectionId",printTitle:"printTitle"}}),m})(),_=(()=>{class m{}return m.\u0275fac=function(o){return new(o||m)},m.\u0275mod=e.oAB({type:m}),m.\u0275inj=e.cJS({}),m})()},7773:(A,y,u)=>{u.d(y,{EV:()=>p,FN:()=>T});var e=u(5e3),f=u(9808),_=u(9783),m=u(5921),t=u(5787),o=u(1777);const l=["container"],d=function(s,r,n,i){return{"pi-info-circle":s,"pi-exclamation-triangle":r,"pi-times-circle":n,"pi-check":i}};function g(s,r){if(1&s&&(e.ynx(0),e._UZ(1,"span",6),e.TgZ(2,"div",7)(3,"div",8),e._uU(4),e.qZA(),e.TgZ(5,"div",9),e._uU(6),e.qZA()(),e.BQk()),2&s){const n=e.oxw();e.xp6(1),e.Tol("p-toast-message-icon pi"+(n.message.icon?" "+n.message.icon:"")),e.Q6J("ngClass",e.l5B(5,d,"info"==n.message.severity,"warn"==n.message.severity,"error"==n.message.severity,"success"==n.message.severity)),e.xp6(3),e.Oqu(n.message.summary),e.xp6(2),e.Oqu(n.message.detail)}}function v(s,r){1&s&&e.GkF(0)}function O(s,r){if(1&s){const n=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(a){e.CHM(n);const h=e.oxw();return e.KtG(h.onCloseIconClick(a))})("keydown.enter",function(a){e.CHM(n);const h=e.oxw();return e.KtG(h.onCloseIconClick(a))}),e._UZ(1,"span",11),e.qZA()}}const x=function(s){return[s,"p-toast-message"]},Z=function(s,r,n,i){return{showTransformParams:s,hideTransformParams:r,showTransitionParams:n,hideTransitionParams:i}},I=function(s){return{value:"visible",params:s}},M=function(s){return{$implicit:s}};function w(s,r){if(1&s){const n=e.EpF();e.TgZ(0,"p-toastItem",3),e.NdJ("onClose",function(a){e.CHM(n);const h=e.oxw();return e.KtG(h.onMessageClose(a))})("@toastAnimation.start",function(a){e.CHM(n);const h=e.oxw();return e.KtG(h.onAnimationStart(a))})("@toastAnimation.done",function(a){e.CHM(n);const h=e.oxw();return e.KtG(h.onAnimationEnd(a))}),e.qZA()}if(2&s){const n=r.$implicit,i=r.index,a=e.oxw();e.Q6J("message",n)("index",i)("template",a.template)("@toastAnimation",void 0)("showTransformOptions",a.showTransformOptions)("hideTransformOptions",a.hideTransformOptions)("showTransitionOptions",a.showTransitionOptions)("hideTransitionOptions",a.hideTransitionOptions)}}let c=(()=>{class s{constructor(n){this.zone=n,this.onClose=new e.vpe}ngAfterViewInit(){this.initTimeout()}initTimeout(){this.message.sticky||this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>{this.onClose.emit({index:this.index,message:this.message})},this.message.life||3e3)})}clearTimeout(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}onMouseEnter(){this.clearTimeout()}onMouseLeave(){this.initTimeout()}onCloseIconClick(n){this.clearTimeout(),this.onClose.emit({index:this.index,message:this.message}),n.preventDefault()}ngOnDestroy(){this.clearTimeout()}}return s.\u0275fac=function(n){return new(n||s)(e.Y36(e.R0b))},s.\u0275cmp=e.Xpm({type:s,selectors:[["p-toastItem"]],viewQuery:function(n,i){if(1&n&&e.Gf(l,5),2&n){let a;e.iGM(a=e.CRH())&&(i.containerViewChild=a.first)}},hostAttrs:[1,"p-element"],inputs:{message:"message",index:"index",template:"template",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onClose:"onClose"},decls:6,vars:21,consts:[[3,"ngClass","mouseenter","mouseleave"],["container",""],["role","alert","aria-live","assertive","aria-atomic","true",1,"p-toast-message-content",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button","class","p-toast-icon-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],[3,"ngClass"],[1,"p-toast-message-text"],[1,"p-toast-summary"],[1,"p-toast-detail"],["type","button","pRipple","",1,"p-toast-icon-close","p-link",3,"click","keydown.enter"],[1,"p-toast-icon-close-icon","pi","pi-times"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0,1),e.NdJ("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(){return i.onMouseLeave()}),e.TgZ(2,"div",2),e.YNc(3,g,7,10,"ng-container",3),e.YNc(4,v,1,0,"ng-container",4),e.YNc(5,O,2,0,"button",5),e.qZA()()),2&n&&(e.Tol(i.message.styleClass),e.Q6J("ngClass",e.VKq(10,x,"p-toast-message-"+i.message.severity))("@messageState",e.VKq(17,I,e.l5B(12,Z,i.showTransformOptions,i.hideTransformOptions,i.showTransitionOptions,i.hideTransitionOptions))),e.uIk("id",i.message.id),e.xp6(2),e.Q6J("ngClass",i.message.contentStyleClass),e.xp6(1),e.Q6J("ngIf",!i.template),e.xp6(1),e.Q6J("ngTemplateOutlet",i.template)("ngTemplateOutletContext",e.VKq(19,M,i.message)),e.xp6(1),e.Q6J("ngIf",!1!==i.message.closable))},dependencies:[f.mk,f.O5,f.tP,t.H],encapsulation:2,data:{animation:[(0,o.X$)("messageState",[(0,o.SB)("visible",(0,o.oB)({transform:"translateY(0)",opacity:1})),(0,o.eR)("void => *",[(0,o.oB)({transform:"{{showTransformParams}}",opacity:0}),(0,o.jt)("{{showTransitionParams}}")]),(0,o.eR)("* => void",[(0,o.jt)("{{hideTransitionParams}}",(0,o.oB)({height:0,opacity:0,transform:"{{hideTransformParams}}"}))])])]},changeDetection:0}),s})(),T=(()=>{class s{constructor(n,i,a){this.messageService=n,this.cd=i,this.config=a,this.autoZIndex=!0,this.baseZIndex=0,this.position="top-right",this.preventOpenDuplicates=!1,this.preventDuplicates=!1,this.showTransformOptions="translateY(100%)",this.hideTransformOptions="translateY(-100%)",this.showTransitionOptions="300ms ease-out",this.hideTransitionOptions="250ms ease-in",this.onClose=new e.vpe,this.id=(0,m.Th)()}ngOnInit(){this.messageSubscription=this.messageService.messageObserver.subscribe(n=>{if(n)if(n instanceof Array){const i=n.filter(a=>this.canAdd(a));this.add(i)}else this.canAdd(n)&&this.add([n])}),this.clearSubscription=this.messageService.clearObserver.subscribe(n=>{n?this.key===n&&(this.messages=null):this.messages=null,this.cd.markForCheck()})}ngAfterViewInit(){this.breakpoints&&this.createStyle()}add(n){this.messages=this.messages?[...this.messages,...n]:[...n],this.preventDuplicates&&(this.messagesArchieve=this.messagesArchieve?[...this.messagesArchieve,...n]:[...n]),this.cd.markForCheck()}canAdd(n){let i=this.key===n.key;return i&&this.preventOpenDuplicates&&(i=!this.containsMessage(this.messages,n)),i&&this.preventDuplicates&&(i=!this.containsMessage(this.messagesArchieve,n)),i}containsMessage(n,i){return!!n&&null!=n.find(a=>a.summary===i.summary&&a.detail==i.detail&&a.severity===i.severity)}ngAfterContentInit(){this.templates.forEach(n=>{n.getType(),this.template=n.template})}onMessageClose(n){this.messages.splice(n.index,1),this.onClose.emit({message:n.message}),this.cd.detectChanges()}onAnimationStart(n){"void"===n.fromState&&(this.containerViewChild.nativeElement.setAttribute(this.id,""),this.autoZIndex&&""===this.containerViewChild.nativeElement.style.zIndex&&m.P9.set("modal",this.containerViewChild.nativeElement,this.baseZIndex||this.config.zIndex.modal))}onAnimationEnd(n){"void"===n.toState&&this.autoZIndex&&m.gb.isEmpty(this.messages)&&m.P9.clear(this.containerViewChild.nativeElement)}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let n="";for(let i in this.breakpoints){let a="";for(let h in this.breakpoints[i])a+=h+":"+this.breakpoints[i][h]+" !important;";n+=`\n                    @media screen and (max-width: ${i}) {\n                        .p-toast[${this.id}] {\n                           ${a}\n                        }\n                    }\n                `}this.styleElement.innerHTML=n}}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.containerViewChild&&this.autoZIndex&&m.P9.clear(this.containerViewChild.nativeElement),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.destroyStyle()}}return s.\u0275fac=function(n){return new(n||s)(e.Y36(_.ez),e.Y36(e.sBO),e.Y36(_.b4))},s.\u0275cmp=e.Xpm({type:s,selectors:[["p-toast"]],contentQueries:function(n,i,a){if(1&n&&e.Suo(a,_.jx,4),2&n){let h;e.iGM(h=e.CRH())&&(i.templates=h)}},viewQuery:function(n,i){if(1&n&&e.Gf(l,5),2&n){let a;e.iGM(a=e.CRH())&&(i.containerViewChild=a.first)}},hostAttrs:[1,"p-element"],inputs:{key:"key",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",style:"style",styleClass:"styleClass",position:"position",preventOpenDuplicates:"preventOpenDuplicates",preventDuplicates:"preventDuplicates",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",breakpoints:"breakpoints"},outputs:{onClose:"onClose"},decls:3,vars:5,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose",4,"ngFor","ngForOf"],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0,1),e.YNc(2,w,1,8,"p-toastItem",2),e.qZA()),2&n&&(e.Tol(i.styleClass),e.Q6J("ngClass","p-toast p-component p-toast-"+i.position)("ngStyle",i.style),e.xp6(2),e.Q6J("ngForOf",i.messages))},dependencies:[f.mk,f.sg,f.PC,c],styles:[".p-toast{position:fixed;width:25rem}.p-toast-message{overflow:hidden}.p-toast-message-content{display:flex;align-items:flex-start}.p-toast-message-text{flex:1 1 auto}.p-toast-top-right{top:20px;right:20px}.p-toast-top-left{top:20px;left:20px}.p-toast-bottom-left{bottom:20px;left:20px}.p-toast-bottom-right{bottom:20px;right:20px}.p-toast-top-center{top:20px;left:50%;transform:translate(-50%)}.p-toast-bottom-center{bottom:20px;left:50%;transform:translate(-50%)}.p-toast-center{left:50%;top:50%;min-width:20vw;transform:translate(-50%,-50%)}.p-toast-icon-close{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-toast-icon-close.p-link{cursor:pointer}\n"],encapsulation:2,data:{animation:[(0,o.X$)("toastAnimation",[(0,o.eR)(":enter, :leave",[(0,o.IO)("@*",(0,o.pV)())])])]},changeDetection:0}),s})(),p=(()=>{class s{}return s.\u0275fac=function(n){return new(n||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[f.ez,t.T,_.m8]}),s})()}}]);