"use strict";(self.webpackChunksakai=self.webpackChunksakai||[]).push([[9328],{9328:(D,p,t)=>{t.r(p),t.d(p,{WareHouseSelectModule:()=>A});var o=t(6895),c=t(9197),h=t(1546),s=t(805);class v{}var e=t(4650),i=t(8568),y=t(7747),g=t(5384),d=t(2453),l=t(7116),m=t(6768);function f(r,F){1&r&&(e.TgZ(0,"div"),e._UZ(1,"app-progress-bar"),e.qZA())}let M=(()=>{class r{constructor(n,a,u,C,S,B){this.layoutService=n,this.router=a,this.productService=u,this.eventService=C,this.messageService=S,this.route=B,this.roles=["SuperAdmin","Administrador","Vendedor"],this.warehouse=[],this.loading=!1,this.warehouseId=0,this.route.queryParams.subscribe(L=>{this.warehouse=JSON.parse(L.lista)})}filterWareHouse(n){this.warehouseId=n}MaterializeNewLester(){if(null!=this.contact&&""!=this.contact){var n=new v;n.name=this.name,n.contact=this.contact,this.AddNewLester(n)}else this.messageService.add({severity:"info",summary:"Info",detail:"Correo y/o Cel. No puede estar vacio",life:3e3})}onEnterClick(){0==this.warehouseId||null==this.warehouseId?this.messageService.add({severity:"error",summary:"Error",detail:"Favor seleccione una sucursal de la lista",life:3e3}):this.loading||this.changeWareHouse()}changeWareHouse(){this.loading=!0,this.productService.ChangeWareHouse(this.warehouseId,this.eventService.getToken()).subscribe(n=>{n.data?(this.eventService.setPermisionException(n.data.exceptionUserPermisionsList),this.eventService.setWarehouseName(n.data.warehouseName),this.eventService.setToken(n.data.token),this.router.navigateByUrl("/")):this.messageService.add({severity:"error",summary:"Error",detail:n.message,life:3e3}),this.loading=!1})}AddNewLester(n){this.loading=!0,this.productService.AddNewLester(n).subscribe(a=>{this.messageService.add(a.data?{severity:"success",summary:"Success",detail:"Gracias por suscribirte",life:3e3}:{severity:"error",summary:"Error",detail:a.message,life:3e3}),this.loading=!1},a=>{this.messageService.add({severity:"error",summary:"Error",detail:a,life:3e3}),this.loading=!1})}static#e=this.\u0275fac=function(a){return new(a||r)(e.Y36(i.P),e.Y36(c.F0),e.Y36(y.M),e.Y36(g.P),e.Y36(s.ez),e.Y36(c.gz))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-warehose-select"]],features:[e._Bn([s.ez])],decls:14,vars:4,consts:[[4,"ngIf"],[1,"tarjeta"],[1,"center-card"],[1,"card"],[1,"card-header"],[1,"card-body"],[3,"IsCreating","DropDownDataSource","ValueSelectedChange"],[1,"card-footer"],[1,"btn","btn-primary",3,"disabled","click"]],template:function(a,u){1&a&&(e.TgZ(0,"body"),e.YNc(1,f,2,0,"div",0),e._UZ(2,"p-toast"),e.TgZ(3,"div",1)(4,"div",2)(5,"div",3)(6,"div",4)(7,"h3"),e._uU(8,"Seleccione una sucursal"),e.qZA()(),e.TgZ(9,"div",5)(10,"app-drop-down",6),e.NdJ("ValueSelectedChange",function(S){return u.filterWareHouse(S)}),e.qZA()(),e.TgZ(11,"div",7)(12,"button",8),e.NdJ("click",function(){return u.onEnterClick()}),e._uU(13,"Entrar"),e.qZA()()()()()()),2&a&&(e.xp6(1),e.Q6J("ngIf",u.loading),e.xp6(9),e.Q6J("IsCreating",!1)("DropDownDataSource",u.warehouse),e.xp6(2),e.Q6J("disabled",u.loading))},dependencies:[o.O5,d.FN,l.R,m.t],styles:[".center-card[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n}\n\n.card[_ngcontent-%COMP%] {\n  width: 50%;\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);\n  transition: 0.3s;\n  border-radius: 5px;\n  padding: 20px;\n  text-align: center;\n}\n\n.card-header[_ngcontent-%COMP%] {\n  background-color: #f1f1f1;\n  padding: 20px;\n  border-top-left-radius: 5px;\n  border-top-right-radius: 5px;\n}\n\n.card-body[_ngcontent-%COMP%] {\n  padding: 20px;\n}\n\n.card-footer[_ngcontent-%COMP%] {\n  background-color: #f1f1f1;\n  padding: 20px;\n  border-bottom-left-radius: 5px;\n  border-bottom-right-radius: 5px;\n}\n\nselect.form-control[_ngcontent-%COMP%] {\n  width: 100%;\n  padding: 12px 20px;\n  margin: 8px 0;\n  display: inline-block;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  box-sizing: border-box;\n}\n\n.btn[_ngcontent-%COMP%] {\n  width: 100%;\n  background-color: #344ab7;\n  color: white;\n  padding: 14px 20px;\n  margin: 8px 0;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n}\n\n.btn[_ngcontent-%COMP%]:hover {\n  background-color: #45a049;\n}"]})}return r})(),E=(()=>{class r{static#e=this.\u0275fac=function(a){return new(a||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({imports:[c.Bz.forChild([{path:"",component:M,canActivate:[h.j]}]),c.Bz]})}return r})();var P=t(5132),w=t(5108),O=t(9364),x=t(9764),T=t(5593),b=t(2174),W=t(4006),I=t(1740),V=t(4891);let A=(()=>{class r{static#e=this.\u0275fac=function(a){return new(a||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({imports:[o.ez,E,w.x,P.l,O.S,x.Q,T.hJ,b.fx,W.u5,I.j,d.EV,V.E]})}return r})()},6768:(D,p,t)=>{t.d(p,{t:()=>e});var o=t(4650),c=t(7747),h=t(5384),s=t(4006),v=t(2210);let e=(()=>{class i{constructor(g,d){this.commonService=g,this.eventService=d,this.ValueSelectedChange=new o.vpe,this.categorys=[],this.Filter=!1}ngOnInit(){this.data=this.DropDownDataSource,this.Filter=this.showFilter}changeValue(){this.ValueSelected=this.selectedData?.value,this.ValueSelectedChange.emit(this.ValueSelected)}selectedValue(){this.ValueSelected=this.selectedData?.value,this.ValueSelectedChange.emit(this.ValueSelected)}static#e=this.\u0275fac=function(d){return new(d||i)(o.Y36(c.M),o.Y36(h.P))};static#t=this.\u0275cmp=o.Xpm({type:i,selectors:[["app-drop-down"]],inputs:{ValueSelected:"ValueSelected",IsCreating:"IsCreating",showFilter:"showFilter",DropDownDataSource:"DropDownDataSource"},outputs:{ValueSelectedChange:"ValueSelectedChange"},decls:1,vars:3,consts:[["optionLabel","viewValue",3,"filter","options","ngModel","onClick","onChange","ngModelChange"]],template:function(d,l){1&d&&(o.TgZ(0,"p-dropdown",0),o.NdJ("onClick",function(){return l.selectedValue()})("onChange",function(){return l.changeValue()})("ngModelChange",function(f){return l.selectedData=f}),o.qZA()),2&d&&o.Q6J("filter",l.Filter)("options",l.data)("ngModel",l.selectedData)},dependencies:[s.JJ,s.On,v.Lt],encapsulation:2})}return i})()},7116:(D,p,t)=>{t.d(p,{R:()=>h});var o=t(4650),c=t(3162);let h=(()=>{class s{constructor(){}static#e=this.\u0275fac=function(i){return new(i||s)};static#t=this.\u0275cmp=o.Xpm({type:s,selectors:[["app-progress-bar"]],decls:1,vars:0,consts:[["mode","indeterminate"]],template:function(i,y){1&i&&o._UZ(0,"mat-progress-bar",0)},dependencies:[c.pW],encapsulation:2})}return s})()}}]);