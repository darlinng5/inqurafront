"use strict";(self.webpackChunksakai=self.webpackChunksakai||[]).push([[536],{6768:(P,v,s)=>{s.d(v,{t:()=>u});var d=s(5e3),_=s(7747),h=s(5384),m=s(3075),C=s(4036);let u=(()=>{class p{constructor(c,l){this.commonService=c,this.eventService=l,this.ValueSelectedChange=new d.vpe,this.categorys=[],this.Filter=!1}ngOnInit(){this.data=this.DropDownDataSource,this.Filter=this.showFilter}changeValue(){var c;this.ValueSelected=null===(c=this.selectedData)||void 0===c?void 0:c.value,this.ValueSelectedChange.emit(this.ValueSelected)}selectedValue(){var c;this.ValueSelected=null===(c=this.selectedData)||void 0===c?void 0:c.value,this.ValueSelectedChange.emit(this.ValueSelected)}}return p.\u0275fac=function(c){return new(c||p)(d.Y36(_.M),d.Y36(h.P))},p.\u0275cmp=d.Xpm({type:p,selectors:[["app-drop-down"]],inputs:{ValueSelected:"ValueSelected",IsCreating:"IsCreating",showFilter:"showFilter",DropDownDataSource:"DropDownDataSource"},outputs:{ValueSelectedChange:"ValueSelectedChange"},decls:1,vars:3,consts:[["optionLabel","viewValue",3,"filter","options","ngModel","onClick","onChange","ngModelChange"]],template:function(c,l){1&c&&(d.TgZ(0,"p-dropdown",0),d.NdJ("onClick",function(){return l.selectedValue()})("onChange",function(){return l.changeValue()})("ngModelChange",function(f){return l.selectedData=f}),d.qZA()),2&c&&d.Q6J("filter",l.Filter)("options",l.data)("ngModel",l.selectedData)},dependencies:[m.JJ,m.On,C.Lt],encapsulation:2}),p})()},536:(P,v,s)=>{s.r(v),s.d(v,{ProductosModule:()=>fe});var d=s(9808),_=s(8952),h=s(7449),m=s(9783);class C{}class u{}var p=s(9019),e=s(5e3),c=s(7747),l=s(5384),g=s(845),f=s(3075),M=s(5787),b=s(7773),A=s(4534),y=s(8018),N=s(1424),I=s(3407),w=s(9603),q=s(7010),S=s(5315),U=s(7116),J=s(6768),D=s(242);function E(n,a){1&n&&(e.TgZ(0,"div"),e._UZ(1,"app-progress-bar"),e.qZA())}function B(n,a){1&n&&(e.TgZ(0,"div")(1,"p")(2,"FONT",19),e._uU(3,"Para poder transaccionar debe tener creada una empresa "),e.qZA()()())}function H(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",20)(1,"button",21),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.openNew())}),e.qZA(),e.TgZ(2,"button",22),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.deleteSelectedProducts())}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("disabled",!t.selectedProducts||!t.selectedProducts.length)}}function R(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",23),e.NdJ("click",function(){e.CHM(t),e.oxw();const o=e.MAs(10);return e.KtG(o.exportCSV())}),e.qZA()}}function Q(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",24)(1,"h5",25),e._uU(2,"Manage Products"),e.qZA(),e.TgZ(3,"span",26),e._UZ(4,"i",27),e.TgZ(5,"input",28),e.NdJ("input",function(o){e.CHM(t);const i=e.oxw(),Z=e.MAs(10);return e.KtG(i.onGlobalFilter(Z,o))}),e.qZA()()()}}function G(n,a){1&n&&(e.TgZ(0,"tr")(1,"th",29),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",30),e._uU(4,"Id "),e._UZ(5,"p-sortIcon",31),e.qZA(),e.TgZ(6,"th",32),e._uU(7,"Producto"),e._UZ(8,"p-sortIcon",33),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Imagen"),e.qZA(),e.TgZ(11,"th",34),e._uU(12,"Descuento "),e._UZ(13,"p-sortIcon",35),e.qZA(),e.TgZ(14,"th",36),e._uU(15,"Precio "),e._UZ(16,"p-sortIcon",37),e.qZA(),e.TgZ(17,"th",38),e._uU(18,"Impuesto "),e._UZ(19,"p-sortIcon",39),e.qZA(),e.TgZ(20,"th",40),e._uU(21,"Ubicacion "),e._UZ(22,"p-sortIcon",41),e.qZA(),e.TgZ(23,"th",42),e._uU(24,"Categoria "),e._UZ(25,"p-sortIcon",43),e.qZA(),e.TgZ(26,"th",44),e._uU(27,"Unidad Medida "),e._UZ(28,"p-sortIcon",45),e.qZA(),e.TgZ(29,"th",46),e._uU(30,"Ventas "),e._UZ(31,"p-sortIcon",47),e.qZA(),e.TgZ(32,"th",48),e._uU(33,"Cantidad Actual "),e._UZ(34,"p-sortIcon",49),e.qZA(),e.TgZ(35,"th",50),e._uU(36,"Stock "),e._UZ(37,"p-sortIcon",51),e.qZA(),e.TgZ(38,"th"),e._uU(39," Editar/Agr. Inventario/ Ajuste / Eliminar "),e.qZA()())}function K(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",52),e.qZA(),e.TgZ(3,"td",53)(4,"span",54),e._uU(5,"Code"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",53)(8,"span",54),e._uU(9,"Name"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td",53)(12,"span",54),e._uU(13,"Image"),e.qZA(),e._UZ(14,"img",55),e.qZA(),e.TgZ(15,"td",56)(16,"span",54),e._uU(17,"Price"),e.qZA(),e._uU(18),e.ALo(19,"currency"),e.qZA(),e.TgZ(20,"td",56)(21,"span",54),e._uU(22,"Price"),e.qZA(),e._uU(23),e.ALo(24,"currency"),e.qZA(),e.TgZ(25,"td",53)(26,"span",54),e._uU(27,"taxName"),e.qZA(),e._uU(28),e.qZA(),e.TgZ(29,"td",53)(30,"span",54),e._uU(31,"CategoryName"),e.qZA(),e._uU(32),e.qZA(),e.TgZ(33,"td",53)(34,"span",54),e._uU(35,"CategoryName"),e.qZA(),e._uU(36),e.qZA(),e.TgZ(37,"td",53)(38,"span",54),e._uU(39,"unitMeasurement"),e.qZA(),e._uU(40),e.qZA(),e.TgZ(41,"td",53)(42,"span",54),e._uU(43,"Reviews"),e.qZA(),e._UZ(44,"p-rating",57),e.qZA(),e.TgZ(45,"td",53)(46,"span",54),e._uU(47,"actualInventary"),e.qZA(),e._uU(48),e.qZA(),e.TgZ(49,"td",53)(50,"span",54),e._uU(51,"Status"),e.qZA(),e.TgZ(52,"span"),e._uU(53),e.qZA()(),e.TgZ(54,"td")(55,"div",58)(56,"button",59),e.NdJ("click",function(){const i=e.CHM(t).$implicit,Z=e.oxw();return e.KtG(Z.editProduct(i))}),e.qZA(),e.TgZ(57,"button",60),e.NdJ("click",function(){const i=e.CHM(t).$implicit,Z=e.oxw();return e.KtG(Z.deleteProduct(i))}),e.qZA()()()()}if(2&n){const t=a.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(4),e.hij(" ",t.code||t.productId," "),e.xp6(4),e.hij(" ",t.productName," "),e.xp6(4),e.Q6J("alt",t.productName),e.xp6(4),e.hij(" ",e.xi3(19,17,t.discount,"L")," "),e.xp6(5),e.hij(" ",e.xi3(24,20,t.productPrice,"L")," "),e.xp6(5),e.hij(" ",t.taxName," "),e.xp6(4),e.hij(" ",t.localizationName," "),e.xp6(4),e.hij(" ",t.categoryName," "),e.xp6(4),e.hij(" ",t.unitMeasurement," "),e.xp6(4),e.Q6J("ngModel",4)("readonly",!0)("cancel",!1),e.xp6(4),e.hij(" ",t.actualInventary," "),e.xp6(4),e.Tol("product-badge status-"+(t.inventoryStatus?t.inventoryStatus.toLowerCase():"")),e.xp6(1),e.Oqu(t.inventoryStatus)}}function F(n,a){if(1&n&&e._UZ(0,"img",73),2&n){const t=e.oxw(2);e.Q6J("alt",t.product.image)}}function k(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",67)(1,"label",74),e._uU(2,"Impuestos"),e.qZA(),e.TgZ(3,"div",62)(4,"div",75)(5,"p-radioButton",76),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.product.taxId=o)}),e.qZA(),e.TgZ(6,"label",77),e._uU(7,"Exonerado"),e.qZA()(),e.TgZ(8,"div",75)(9,"p-radioButton",78),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.product.taxId=o)}),e.qZA(),e.TgZ(10,"label",79),e._uU(11,"Exento"),e.qZA()(),e.TgZ(12,"div",75)(13,"p-radioButton",80),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.product.taxId=o)}),e.qZA(),e.TgZ(14,"label",81),e._uU(15,"ISV 15%"),e.qZA()(),e.TgZ(16,"div",75)(17,"p-radioButton",82),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.product.taxId=o)}),e.qZA(),e.TgZ(18,"label",83),e._uU(19,"ISV 18%"),e.qZA()()()()}if(2&n){const t=e.oxw(2);e.xp6(5),e.Q6J("ngModel",t.product.taxId)("disabled",!0),e.xp6(4),e.Q6J("ngModel",t.product.taxId),e.xp6(4),e.Q6J("ngModel",t.product.taxId),e.xp6(4),e.Q6J("ngModel",t.product.taxId)}}function z(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",62)(1,"label",84),e._uU(2,"Es un Servicio"),e.qZA(),e.TgZ(3,"p-inputSwitch",85),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.product.isAService=o)}),e._uU(4,"Es un Servicio"),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("ngModel",t.product.isAService)}}function V(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",62)(1,"div",63)(2,"label",64),e._uU(3,"Proveedor"),e.qZA(),e.TgZ(4,"app-drop-down",86),e.NdJ("ValueSelectedChange",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.filterCostumer(o))}),e.qZA()(),e.TgZ(5,"div",63)(6,"label",66),e._uU(7,"Categoria"),e.qZA(),e.TgZ(8,"app-drop-down",87),e.NdJ("ValueSelectedChange",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.filterCategory(o))}),e.qZA()()()}if(2&n){const t=e.oxw(3);e.xp6(4),e.Q6J("showFilter",!0)("IsCreating",t.IsCreatingProduct)("DropDownDataSource",t.suppliers),e.xp6(4),e.Q6J("IsCreating",t.IsCreatingProduct)("DropDownDataSource",t.categories)}}function j(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",62)(1,"div",63)(2,"label",64),e._uU(3,"Unidad de Medida"),e.qZA(),e.TgZ(4,"app-drop-down",87),e.NdJ("ValueSelectedChange",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.filterUM(o))}),e.qZA()(),e.TgZ(5,"div",63)(6,"label",66),e._uU(7,"Inventario Inicial"),e.qZA(),e.TgZ(8,"p-inputNumber",88),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.product.quantity=o)}),e.qZA()()()}if(2&n){const t=e.oxw(3);e.xp6(4),e.Q6J("IsCreating",t.IsCreatingProduct)("DropDownDataSource",t.unitMeasurement),e.xp6(4),e.Q6J("ngModel",t.product.quantity)}}function O(n,a){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,V,9,5,"div",71),e.YNc(2,j,9,3,"div",71),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.IsCreatingProduct),e.xp6(1),e.Q6J("ngIf",t.IsCreatingProduct)}}function Y(n,a){1&n&&(e.TgZ(0,"div"),e._UZ(1,"app-progress-bar"),e.qZA())}const T=function(n){return{"ng-invalid ng-dirty":n}};function L(n,a){if(1&n){const t=e.EpF();e.YNc(0,F,1,1,"img",61),e.TgZ(1,"div",62)(2,"div",63)(3,"label",64),e._uU(4,"Nombre"),e.qZA(),e.TgZ(5,"input",65),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.product.productName=o)}),e.qZA()(),e.TgZ(6,"div",63)(7,"label",66),e._uU(8,"C\xf3digo"),e.qZA(),e.TgZ(9,"input",65),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.product.code=o)}),e.qZA()()(),e.TgZ(10,"div",67)(11,"label",68),e._uU(12,"Descripci\xf3n"),e.qZA(),e.TgZ(13,"textarea",69),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.product.description=o)}),e.qZA()(),e.YNc(14,k,20,5,"div",70),e.YNc(15,z,5,1,"div",71),e.YNc(16,O,3,2,"div",0),e.TgZ(17,"div",62)(18,"div",63)(19,"label",64),e._uU(20,"Costo"),e.qZA(),e.TgZ(21,"p-inputNumber",72),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.product.purcharsePrice=o)}),e.qZA()(),e.TgZ(22,"div",63)(23,"label",66),e._uU(24,"Precio de Venta"),e.qZA(),e.TgZ(25,"p-inputNumber",72),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.product.productPrice=o)}),e.qZA()()(),e.YNc(26,Y,2,0,"div",0)}if(2&n){const t=e.oxw();e.Q6J("ngIf",t.product.image),e.xp6(5),e.Q6J("ngModel",t.product.productName)("ngClass",e.VKq(12,T,t.submitted&&!t.product.productName)),e.xp6(4),e.Q6J("ngModel",t.product.code)("ngClass",e.VKq(14,T,t.submitted&&!t.product.productName)),e.xp6(4),e.Q6J("ngModel",t.product.description),e.xp6(1),e.Q6J("ngIf",t.IsCreatingProduct),e.xp6(1),e.Q6J("ngIf",t.IsCreatingProduct),e.xp6(1),e.Q6J("ngIf",!t.product.isAService),e.xp6(5),e.Q6J("ngModel",t.product.purcharsePrice),e.xp6(4),e.Q6J("ngModel",t.product.productPrice),e.xp6(1),e.Q6J("ngIf",t.showProgressBar)}}function W(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",89),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.hideDialog())}),e.qZA(),e.TgZ(1,"button",90),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.saveProduct())}),e.qZA()}}function $(n,a){if(1&n&&e._UZ(0,"img",73),2&n){const t=e.oxw(2);e.Q6J("alt",t.product.image)}}function X(n,a){1&n&&(e.TgZ(0,"small",97),e._uU(1,"El Nombre es requerido"),e.qZA())}function ee(n,a){if(1&n){const t=e.EpF();e.YNc(0,$,1,1,"img",61),e.TgZ(1,"div",67)(2,"label",91),e._uU(3,"Nombre Producto"),e.qZA(),e.TgZ(4,"input",92),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.product.productName=o)}),e.qZA(),e.YNc(5,X,2,0,"small",93),e.qZA(),e.TgZ(6,"div",67)(7,"label",68),e._uU(8,"Descripcion del Producto"),e.qZA(),e.TgZ(9,"textarea",94),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.product.description=o)}),e.qZA()(),e.TgZ(10,"div",62)(11,"div",63)(12,"label",95),e._uU(13,"Cantidad"),e.qZA(),e.TgZ(14,"p-inputNumber",96),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.addInventaryQuantity=o)}),e.qZA()()(),e.TgZ(15,"div",62)(16,"div",63)(17,"label",95),e._uU(18,"Precio de Compra"),e.qZA(),e.TgZ(19,"p-inputNumber",72),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.addInventaryPrice=o)}),e.qZA()()()}if(2&n){const t=e.oxw();e.Q6J("ngIf",t.product.image),e.xp6(4),e.Q6J("ngModel",t.product.productName)("ngClass",e.VKq(7,T,t.submitted&&!t.product.productName)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.product.productName),e.xp6(4),e.Q6J("ngModel",t.product.description),e.xp6(5),e.Q6J("ngModel",t.addInventaryQuantity),e.xp6(5),e.Q6J("ngModel",t.addInventaryPrice)}}function te(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",89),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.showAddInventaryDialog=!1)}),e.qZA(),e.TgZ(1,"button",90),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.saveProduct())}),e.qZA()}}function oe(n,a){if(1&n&&e._UZ(0,"img",73),2&n){const t=e.oxw(2);e.Q6J("alt",t.product.image)}}function ne(n,a){1&n&&(e.TgZ(0,"small",97),e._uU(1,"El Nombre es requerido"),e.qZA())}function re(n,a){if(1&n){const t=e.EpF();e.YNc(0,oe,1,1,"img",61),e.TgZ(1,"div",67)(2,"label",91),e._uU(3,"Nombre Producto"),e.qZA(),e.TgZ(4,"input",92),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.product.productName=o)}),e.qZA(),e.YNc(5,ne,2,0,"small",93),e.qZA(),e.TgZ(6,"div",67)(7,"label",68),e._uU(8,"Descripcion del Producto"),e.qZA(),e.TgZ(9,"textarea",94),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.product.description=o)}),e.qZA()(),e.TgZ(10,"div",62)(11,"div",63)(12,"label",95),e._uU(13,"Cantidad"),e.qZA(),e.TgZ(14,"p-inputNumber",96),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.addInventaryQuantity=o)}),e.qZA()()(),e.TgZ(15,"div",62)(16,"div",63)(17,"label",95),e._uU(18,"Precio de Compra"),e.qZA(),e.TgZ(19,"p-inputNumber",72),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.addInventaryPrice=o)}),e.qZA()()()}if(2&n){const t=e.oxw();e.Q6J("ngIf",t.product.image),e.xp6(4),e.Q6J("ngModel",t.product.productName)("ngClass",e.VKq(7,T,t.submitted&&!t.product.productName)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.product.productName),e.xp6(4),e.Q6J("ngModel",t.product.description),e.xp6(5),e.Q6J("ngModel",t.addInventaryQuantity),e.xp6(5),e.Q6J("ngModel",t.addInventaryPrice)}}function ie(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",89),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.showAjustInventaryDialog=!1)}),e.qZA(),e.TgZ(1,"button",90),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.saveProduct())}),e.qZA()}}function se(n,a){if(1&n&&(e.TgZ(0,"span"),e._uU(1,"Esta seguro que desea eliminar a "),e.TgZ(2,"b"),e._uU(3),e.qZA(),e._uU(4,"?"),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.Oqu(t.product.productName)}}function ae(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",98),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.deleteProductDialog=!1)}),e.qZA(),e.TgZ(1,"button",99),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.confirmDelete())}),e.qZA()}}function de(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",98),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.deleteProductsDialog=!1)}),e.qZA(),e.TgZ(1,"button",99),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.confirmDeleteSelected())}),e.qZA()}}const ce=function(){return["productName","country.name","representative.name","status"]},ue=function(){return[10,20,30]},le=function(){return{width:"850px"}},x=function(){return{width:"450px"}};let pe=(()=>{class n{constructor(t,r,o){this.productService=t,this.eventService=r,this.messageService=o,this.IsService=!1,this.addInventaryQuantity=0,this.addInventaryPrice=0,this.showAddInventaryDialog=!1,this.addAjustQuantity=0,this.showAjustInventaryDialog=!1,this.hasEnterprise=!1,this.hasWareHouse=!1,this.showProgressBar=!1,this.productToDeleteList=[],this.categoryActual=0,this.unitMeasurementActual=0,this.defaultLozalization=0,this.userUniqueIdentifiquerKey="NotFound",this.productDialog=!1,this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.products=[],this.product={},this.selectedProducts=[],this.submitted=!1,this.cols=[],this.rowsPerPageOptions=[5,10,20],this.productsByWareHouse=[],this.hasEnterprise=r.getHasEnterprise()==p.N.SuccessResponse,this.hasWareHouse=r.getHasWareHouse()==p.N.SuccessResponse,this.GetCategoriesByEnterprise(),this.GetUnitMeasurementByEnterprise(),this.GetSupplierValuesByEnterprise()}ngOnInit(){this.GetProductsByWareHouse(),this.cols=[{field:"product",header:"Product"},{field:"ProductName",header:"ProductName"},{field:"localizationName",header:"localizationName"},{field:"rating",header:"Reviews"},{field:"inventoryStatus",header:"Status"}]}openNew(){this.IsCreatingProduct=!0,this.product={},this.submitted=!1,this.productDialog=!0}deleteSelectedProducts(){this.deleteProductsDialog=!0}editProduct(t){this.IsCreatingProduct=!1,this.product=Object.assign({},t),this.productDialog=!0}deleteProduct(t){this.deleteProductDialog=!0,this.product=Object.assign({},t)}confirmDeleteSelected(){this.showProgressBar=!0,this.deleteProductsDialog=!1,this.selectedProducts.forEach(t=>this.MaterializeProductToDelete(t)),this.productService.DeleteProductByList(this.productToDeleteList,this.eventService.getToken()).subscribe(t=>{this.messageService.add(t.data?{severity:"success",summary:"Success",detail:t.data,life:6e3}:{severity:"error",summary:"Error",detail:t.message,life:3e3}),this.showProgressBar=!1},t=>{this.messageService.add({severity:"error",summary:"Error",detail:t.message,life:3e3}),this.showProgressBar=!1}),this.productToDeleteList=[],this.products=this.products.filter(t=>!this.selectedProducts.includes(t)),this.selectedProducts=[]}confirmDelete(){this.showProgressBar=!0;var t=new u;t.id=this.product.productId,t.name=this.product.productName,t.description=this.product.description,t.userIdentifiquer=this.eventService.getToken(),this.productService.DeleteProduct(t).subscribe(r=>{r.data?(this.GetProductsByWareHouse(),this.messageService.add({severity:"success",summary:"Success",detail:"El producto "+t.name+" ha sido eliminado con Exito",life:3e3})):this.messageService.add({severity:"error",summary:"Error",detail:r.message,life:3e3}),this.showProgressBar=!1},r=>{this.messageService.add({severity:"error",summary:"Error",detail:r.message,life:6e3})}),this.deleteProductDialog=!1}hideDialog(){this.productDialog=!1,this.submitted=!1}saveProduct(){this.showProgressBar=!0,this.productRequest=new C,this.productRequest.Id=this.product.productId,this.productRequest.name=this.product.productName,this.productRequest.price=this.product.productPrice,this.productRequest.description=null==this.product.description?"":this.product.description,this.productRequest.taxId=this.product.taxId,this.productRequest.userIdentifiquer=this.userUniqueIdentifiquerKey,this.productRequest.categoryId=null==this.categoryActual?0:this.categoryActual,this.productRequest.unitMeasurementId=null==this.unitMeasurementActual?0:this.unitMeasurementActual,this.productRequest.quantity=this.product.quantity,this.productRequest.purcharsePrice=this.product.purcharsePrice,this.productRequest.code=this.product.code,this.productRequest.localization=this.defaultLozalization,this.productRequest.isAService=this.product.isAService,this.submitted=!0,this.IsCreatingProduct?null==this.productRequest.name||null==this.productRequest.price?(this.messageService.add({severity:"error",summary:"Error",detail:"Para crear productos son obligatorios incluir el nombre y el precio",life:3e3}),this.showProgressBar=!1):this.AddNewProduct(this.productRequest):null==this.productRequest.name&&null==this.productRequest.price?(this.messageService.add({severity:"error",summary:"Error",detail:"No hay nada que actualizar",life:3e3}),this.showProgressBar=!1):this.UpdateProduct(this.productRequest)}UpdateProduct(t){t.userIdentifiquer=this.eventService.getToken(),this.productService.UpdateProduct(t).subscribe(r=>{r.data?(this.GetProductsByWareHouse(),this.messageService.add({severity:"success",summary:"Success",detail:"El producto "+t.name+" ha sido guardado con Exito",life:3e3}),this.product={},this.productDialog=!1):this.messageService.add({severity:"error",summary:"Error",detail:r.message,life:3e3}),this.showProgressBar=!1})}GetProductsByWareHouse(){this.showProgressBar=!0,this.productService.getProductsByWareHouse(this.eventService.getToken()).subscribe(t=>{t.data?(this.productsByWareHouse=t.data,this.products=t.data,console.log(this.products)):this.messageService.add({severity:"error",summary:"Error",detail:"No tiene productos creados",life:3e3}),this.showProgressBar=!1},t=>{this.messageService.add({severity:"error",summary:"Error",detail:t.message,life:6e3}),this.showProgressBar=!1})}AddNewProduct(t){t.userIdentifiquer=this.eventService.getToken(),t.supplier=null==this.actualSupplier?"0":this.actualSupplier,this.productService.AddNewProduct(t).subscribe(r=>{r.data?(this.GetProductsByWareHouse(),this.messageService.add({severity:"success",summary:"Success",detail:"El producto "+t.name+" ha sido guardado con Exito",life:3e3}),this.productDialog=!1,this.product={}):this.messageService.add({severity:"error",summary:"Error",detail:r.message,life:3e3}),this.showProgressBar=!1},r=>{this.messageService.add({severity:"error",summary:"Error",detail:"Error Grave al tratar de guardar los datos",life:3e3})})}findIndexById(t){let r=-1;for(let o=0;o<this.products.length;o++)if(this.products[o].id===t){r=o;break}return r}onGlobalFilter(t,r){t.filterGlobal(r.target.value,"contains")}filter(t){this.categoryActual=t}MaterializeProductToDelete(t){var r=new u;r.id=t.productId,r.name=t.productName,r.description=t.description,this.productToDeleteList.push(r)}addProductInventary(t){this.addInventaryPrice=0,this.addInventaryQuantity=0,this.product=Object.assign({},t),this.showAddInventaryDialog=!0}addAjustInventaryProduct(t){this.addAjustQuantity=0,this.product=Object.assign({},t),this.showAjustInventaryDialog=!0}GetCategoriesByEnterprise(){this.productService.GetCategoriesByEnterprise(this.eventService.getToken()).subscribe(t=>{t.data?this.categories=t.data:this.messageService.add({severity:"error",summary:"Error",detail:"No tiene productos creados",life:3e3})})}filterCategory(t){this.categoryActual=t}GetUnitMeasurementByEnterprise(){this.productService.GetUnitMeasurementByEnterprise(this.eventService.getToken()).subscribe(t=>{t.data?this.unitMeasurement=t.data:this.messageService.add({severity:"error",summary:"Error",detail:"No tiene productos creados",life:3e3})})}filterUM(t){this.unitMeasurementActual=t}GetSupplierValuesByEnterprise(){this.productService.GetSupplierValues(this.eventService.getToken()).subscribe(t=>{t.data?this.suppliers=t.data:this.messageService.add({severity:"error",summary:"Error",detail:"No tiene productos creados",life:3e3})})}filterCostumer(t){this.actualSupplier=t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(c.M),e.Y36(l.P),e.Y36(m.ez))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],features:[e._Bn([m.ez])],decls:34,vars:40,consts:[[4,"ngIf"],[1,"grid"],[1,"col-12"],[1,"card","px-6","py-6"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],["responsiveLayout","scroll","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","selectionMode","multiple","dataKey","productId",3,"value","columns","rows","globalFilterFields","paginator","rowsPerPageOptions","showCurrentPageReport","selection","rowHover","selectionChange"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["header","Detalles del Producto",1,"p-fluid",3,"visible","modal","visibleChange"],["pTemplate","content"],["pTemplate","footer"],["header","Agregar Inventario",1,"p-fluid",3,"visible","modal","visibleChange"],["header","Confirm",3,"visible","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["COLOR","red"],[1,"my-2"],["pButton","","pRipple","","label","Nuevo","icon","pi pi-plus",1,"p-button-success","mr-2",3,"click"],["pButton","","pRipple","","label","Eliminar","icon","pi pi-trash",1,"p-button-danger",3,"disabled","click"],["pButton","","pRipple","","label","Exportar","icon","pi pi-upload",1,"p-button-help",3,"click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search...",1,"w-full","sm:w-auto",3,"input"],[2,"width","3rem"],["pSortableColumn","productId"],["field","productId"],["pSortableColumn","productName"],["field","productName"],["pSortableColumn","discount"],["field","discount"],["pSortableColumn","productPrice"],["field","productPrice"],["pSortableColumn","taxName"],["field","taxName"],["pSortableColumn","localizationName"],["field","localizationName"],["pSortableColumn","categoryName"],["field","categoryName"],["pSortableColumn","unitMeasurement"],["field","unitMeasurement"],["pSortableColumn","rating"],["field","rating"],["pSortableColumn","actualInventary"],["field","actualInventary"],["pSortableColumn","inventoryStatus"],["field","inventoryStatus"],[3,"value"],[2,"width","14%","min-width","10rem"],[1,"p-column-title"],["src","http://cajasgraf.com.ar/productos/images/df.jpg","width","100",1,"shadow-4",3,"alt"],[2,"width","14%","min-width","8rem"],[3,"ngModel","readonly","cancel"],[1,"flex"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-success","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-warning",3,"click"],["src","https://w7.pngwing.com/pngs/685/904/png-transparent-fizzy-drinks-coca-cola-diet-coke-rc-cola-coca-cola-food-cola-soft-drink.png","width","150","class","mt-0 mx-auto mb-5 block shadow-2",3,"alt",4,"ngIf"],[1,"formgrid","grid"],[1,"field","col"],["for","price"],["type","text","pInputText","","id","productName","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["for","quantity"],[1,"field"],["for","description"],["id","description","pInputTextarea","","required","","rows","3","cols","20",3,"ngModel","ngModelChange"],["class","field",4,"ngIf"],["class","formgrid grid",4,"ngIf"],["id","price","mode","currency","currency","LPS","locale","en-US",3,"ngModel","ngModelChange"],["src","https://w7.pngwing.com/pngs/685/904/png-transparent-fizzy-drinks-coca-cola-diet-coke-rc-cola-coca-cola-food-cola-soft-drink.png","width","150",1,"mt-0","mx-auto","mb-5","block","shadow-2",3,"alt"],[1,"mb-3"],[1,"field-radiobutton","col-6"],["id","category1","name","category","value","1",3,"ngModel","disabled","ngModelChange"],["for","category1"],["id","category2","name","category","value","2",3,"ngModel","ngModelChange"],["for","category2"],["id","category3","name","category","value","4",3,"ngModel","ngModelChange"],["for","category3"],["id","category4","name","category","value","5",3,"ngModel","ngModelChange"],["for","category4"],["for","sc"],["id","sc",2,"margin-left","10px",3,"ngModel","ngModelChange"],[3,"showFilter","IsCreating","DropDownDataSource","ValueSelectedChange"],[3,"IsCreating","DropDownDataSource","ValueSelectedChange"],["id","quantity",3,"ngModel","ngModelChange"],["pButton","","pRipple","","label","Cancel","icon","pi pi-times",1,"p-button-text",3,"click"],["pButton","","pRipple","","label","Save","icon","pi pi-check",1,"p-button-text",3,"click"],["for","ProductName"],["disabled","true","type","text","pInputText","","id","productName","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["class","ng-dirty ng-invalid",4,"ngIf"],["disabled","true","id","description","pInputTextarea","","required","","rows","3","cols","20",3,"ngModel","ngModelChange"],["for","productPrice"],["id","price",3,"ngModel","ngModelChange"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(t,r){1&t&&(e.YNc(0,E,2,0,"div",0),e.YNc(1,B,4,0,"div",0),e.TgZ(2,"div",1)(3,"div",2)(4,"div",3),e._UZ(5,"p-toast"),e.TgZ(6,"p-toolbar",4),e.YNc(7,H,3,1,"ng-template",5),e.YNc(8,R,1,0,"ng-template",6),e.qZA(),e.TgZ(9,"p-table",7,8),e.NdJ("selectionChange",function(i){return r.selectedProducts=i}),e.YNc(11,Q,6,0,"ng-template",9),e.YNc(12,G,40,0,"ng-template",10),e.YNc(13,K,58,23,"ng-template",11),e.qZA()(),e.TgZ(14,"p-dialog",12),e.NdJ("visibleChange",function(i){return r.productDialog=i}),e.YNc(15,L,27,16,"ng-template",13),e.YNc(16,W,2,0,"ng-template",14),e.qZA(),e.TgZ(17,"p-dialog",15),e.NdJ("visibleChange",function(i){return r.showAddInventaryDialog=i}),e.YNc(18,ee,20,9,"ng-template",13),e.YNc(19,te,2,0,"ng-template",14),e.qZA(),e.TgZ(20,"p-dialog",15),e.NdJ("visibleChange",function(i){return r.showAjustInventaryDialog=i}),e.YNc(21,re,20,9,"ng-template",13),e.YNc(22,ie,2,0,"ng-template",14),e.qZA(),e.TgZ(23,"p-dialog",16),e.NdJ("visibleChange",function(i){return r.deleteProductDialog=i}),e.TgZ(24,"div",17),e._UZ(25,"i",18),e.YNc(26,se,5,1,"span",0),e.qZA(),e.YNc(27,ae,2,0,"ng-template",14),e.qZA(),e.TgZ(28,"p-dialog",16),e.NdJ("visibleChange",function(i){return r.deleteProductsDialog=i}),e.TgZ(29,"div",17),e._UZ(30,"i",18),e.TgZ(31,"span"),e._uU(32,"Esta seguro que quiere eliminar estos productos seleccionados?"),e.qZA()(),e.YNc(33,de,2,0,"ng-template",14),e.qZA()()()),2&t&&(e.Q6J("ngIf",r.showProgressBar),e.xp6(1),e.Q6J("ngIf",!r.hasEnterprise||!r.hasWareHouse),e.xp6(8),e.Q6J("value",r.products)("columns",r.cols)("rows",10)("globalFilterFields",e.DdM(33,ce))("rows",10)("paginator",!0)("rowsPerPageOptions",e.DdM(34,ue))("showCurrentPageReport",!0)("selection",r.selectedProducts)("rowHover",!0),e.xp6(5),e.Akn(e.DdM(35,le)),e.Q6J("visible",r.productDialog)("modal",!0),e.xp6(3),e.Akn(e.DdM(36,x)),e.Q6J("visible",r.showAddInventaryDialog)("modal",!0),e.xp6(3),e.Akn(e.DdM(37,x)),e.Q6J("visible",r.showAjustInventaryDialog)("modal",!0),e.xp6(3),e.Akn(e.DdM(38,x)),e.Q6J("visible",r.deleteProductDialog)("modal",!0),e.xp6(3),e.Q6J("ngIf",r.product),e.xp6(2),e.Akn(e.DdM(39,x)),e.Q6J("visible",r.deleteProductsDialog)("modal",!0))},dependencies:[d.mk,d.O5,_.iA,m.jx,_.lQ,_.fz,_.UA,_.Mo,g.Hq,f.Fj,f.JJ,f.Q7,f.On,M.H,b.FN,A.o,y.iG,N.o,I.g,w.EU,q.Rn,S.V,U.R,J.t,D.Ql,d.H9],encapsulation:2}),n})(),ge=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[h.Bz.forChild([{path:"",component:pe}]),h.Bz]}),n})();var _e=s(8205),me=s(4036),he=s(4891);let fe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[d.ez,ge,_.U$,_e.O,f.u5,g.hJ,M.T,b.EV,A.V,y.Xt,N.j,I.A,me.kW,w.cc,q.L$,S.S,he.E,D.Iu]}),n})()},3407:(P,v,s)=>{s.d(v,{A:()=>C,g:()=>m});var d=s(5e3),_=s(9808),h=s(3075);let m=(()=>{class u{constructor(e,c,l,g){this.el=e,this.ngModel=c,this.control=l,this.cd=g,this.onResize=new d.vpe}ngOnInit(){this.ngModel&&(this.ngModelSubscription=this.ngModel.valueChanges.subscribe(()=>{this.updateState()})),this.control&&(this.ngControlSubscription=this.control.valueChanges.subscribe(()=>{this.updateState()}))}ngAfterViewInit(){this.autoResize&&this.resize(),this.updateFilledState(),this.cd.detectChanges()}onInput(e){this.updateState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length}onFocus(e){this.autoResize&&this.resize(e)}onBlur(e){this.autoResize&&this.resize(e)}resize(e){this.el.nativeElement.style.height="auto",this.el.nativeElement.style.height=this.el.nativeElement.scrollHeight+"px",parseFloat(this.el.nativeElement.style.height)>=parseFloat(this.el.nativeElement.style.maxHeight)?(this.el.nativeElement.style.overflowY="scroll",this.el.nativeElement.style.height=this.el.nativeElement.style.maxHeight):this.el.nativeElement.style.overflow="hidden",this.onResize.emit(e||{})}updateState(){this.updateFilledState(),this.autoResize&&this.resize()}ngOnDestroy(){this.ngModelSubscription&&this.ngModelSubscription.unsubscribe(),this.ngControlSubscription&&this.ngControlSubscription.unsubscribe()}}return u.\u0275fac=function(e){return new(e||u)(d.Y36(d.SBq),d.Y36(h.On,8),d.Y36(h.a5,8),d.Y36(d.sBO))},u.\u0275dir=d.lG2({type:u,selectors:[["","pInputTextarea",""]],hostAttrs:[1,"p-inputtextarea","p-inputtext","p-component","p-element"],hostVars:4,hostBindings:function(e,c){1&e&&d.NdJ("input",function(g){return c.onInput(g)})("focus",function(g){return c.onFocus(g)})("blur",function(g){return c.onBlur(g)}),2&e&&d.ekj("p-filled",c.filled)("p-inputtextarea-resizable",c.autoResize)},inputs:{autoResize:"autoResize"},outputs:{onResize:"onResize"}}),u})(),C=(()=>{class u{}return u.\u0275fac=function(e){return new(e||u)},u.\u0275mod=d.oAB({type:u}),u.\u0275inj=d.cJS({imports:[_.ez]}),u})()}}]);