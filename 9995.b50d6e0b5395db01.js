"use strict";(self.webpackChunksakai=self.webpackChunksakai||[]).push([[9995],{9995:(S,s,a)=>{a.r(s),a.d(s,{KardexDemoModule:()=>C});var r=a(9808),u=a(845),c=a(5077),h=a(1546),l=a(9783),t=a(5e3),Z=a(7747),m=a(5384),p=a(6186),v=a(6768),g=a(7773);function x(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"div")(1,"app-drop-down",12),t.NdJ("ValueSelectedChange",function(d){t.CHM(e);const K=t.oxw();return t.KtG(K.filterProduct(d))}),t.qZA()()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("showFilter",!0)("IsCreating",!0)("DropDownDataSource",e.products)}}function f(o,i){1&o&&(t.TgZ(0,"div")(1,"h5"),t._uU(2,"Cargando los productos, espere...."),t.qZA()())}function T(o,i){if(1&o&&(t.TgZ(0,"tr",13)(1,"th",14),t._uU(2),t.qZA(),t.TgZ(3,"th",14),t._uU(4),t.qZA(),t.TgZ(5,"th",14),t._uU(6),t.qZA(),t.TgZ(7,"th"),t._uU(8),t.qZA(),t.TgZ(9,"th"),t._uU(10),t.qZA(),t.TgZ(11,"th"),t._uU(12),t.qZA(),t.TgZ(13,"th",15),t._uU(14),t.qZA(),t.TgZ(15,"th",15),t._uU(16),t.qZA(),t.TgZ(17,"th"),t._uU(18),t.qZA(),t.TgZ(19,"th"),t._uU(20),t.qZA()()),2&o){const e=i.$implicit;t.xp6(2),t.Oqu(e.id),t.xp6(2),t.Oqu(e.fecha),t.xp6(2),t.Oqu(e.descripcion),t.xp6(2),t.Oqu(e.costoUnitario),t.xp6(2),t.Oqu(e.entradaCantidad),t.xp6(2),t.Oqu(e.entradaValor),t.xp6(2),t.Oqu(e.salidaCantidad),t.xp6(2),t.Oqu(e.salidaValor),t.xp6(2),t.Oqu(e.balanceCantidad),t.xp6(2),t.Oqu(e.balanceValor)}}let U=(()=>{class o{constructor(e,n,d){this.productService=e,this.eventService=n,this.messageService=d,this.kardex=[],this.loading=!1,this.isLoading=!1,this.getProductValues()}load(){this.producId=null==this.producId?0:this.producId,this.GetKardex()}filterProduct(e){this.producId=e}getProductValues(){this.loading=!0,this.productService.GetProductsValues(this.eventService.getToken()).subscribe(e=>{e.data&&(this.products=e.data),this.loading=!1})}GetKardex(){this.isLoading=!0,this.productService.GettKardexReport(this.producId,this.eventService.getToken()).subscribe(e=>{e.data?(this.kardex=e.data.kardex,this.code=e.data.encabezado.code,this.product=e.data.encabezado.product,this.supplier=e.data.encabezado.proveedor,this.localization=e.data.encabezado.ubicacion,console.log(e.data.encabezado.code)):this.messageService.add({severity:"error",summary:"error",detail:e.message,life:6e3}),this.isLoading=!1})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(Z.M),t.Y36(m.P),t.Y36(l.ez))},o.\u0275cmp=t.Xpm({type:o,selectors:[["ng-component"]],features:[t._Bn([l.ez])],decls:69,vars:8,consts:[["id","print-section"],[1,"grid"],[1,"col-12"],[1,"card"],[2,"display","flex","width","100%"],[2,"flex","1"],[4,"ngIf"],["label","Search","icon","pi pi-search","iconPos","right",1,"space",3,"loading","onClick"],[2,"font-size","medium"],[2,"background-color","#7288a2","color","white"],["style","font-size: small;",4,"ngFor","ngForOf"],["printSectionId","print-section","ngxPrint","","pButton","","pRipple","","label","imprimir","icon","pi pi-print",1,"p-button-help"],[3,"showFilter","IsCreating","DropDownDataSource","ValueSelectedChange"],[2,"font-size","small"],["align","left"],["align","right"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t._UZ(4,"p-toast"),t.TgZ(5,"div",4)(6,"div",5),t.YNc(7,x,2,3,"div",6),t.YNc(8,f,3,0,"div",6),t.qZA(),t.TgZ(9,"div",5)(10,"p-button",7),t.NdJ("onClick",function(){return n.load()}),t.qZA()()(),t.TgZ(11,"div",4)(12,"div",5)(13,"p")(14,"strong"),t._uU(15," Producto:"),t.qZA(),t._uU(16),t.qZA(),t.TgZ(17,"p")(18,"strong"),t._uU(19," Proveedor:"),t.qZA(),t._uU(20),t.qZA()(),t.TgZ(21,"div",5)(22,"p")(23,"strong"),t._uU(24," Codigo: "),t.qZA(),t._uU(25),t.qZA(),t.TgZ(26,"p")(27,"strong"),t._uU(28," Localizacion:"),t.qZA(),t._uU(29),t.qZA()()(),t._UZ(30,"p")(31,"p"),t.TgZ(32,"table")(33,"tr"),t._UZ(34,"th")(35,"th")(36,"th")(37,"th"),t.TgZ(38,"th",8),t._uU(39," Entradas "),t.qZA(),t._UZ(40,"th"),t.TgZ(41,"th",8),t._uU(42," Salidas "),t.qZA(),t._UZ(43,"th"),t.TgZ(44,"th",8),t._uU(45," Saldos "),t.qZA()(),t.TgZ(46,"tr",9)(47,"th"),t._uU(48,"N."),t.qZA(),t.TgZ(49,"th"),t._uU(50,"Fecha"),t.qZA(),t.TgZ(51,"th"),t._uU(52,"Descripci\xf3n"),t.qZA(),t.TgZ(53,"th"),t._uU(54,"Costo Unitario"),t.qZA(),t.TgZ(55,"th"),t._uU(56,"Cant."),t.qZA(),t.TgZ(57,"th"),t._uU(58,"Valor"),t.qZA(),t.TgZ(59,"th"),t._uU(60,"Cant."),t.qZA(),t.TgZ(61,"th"),t._uU(62,"Valor"),t.qZA(),t.TgZ(63,"th"),t._uU(64,"Cant."),t.qZA(),t.TgZ(65,"th"),t._uU(66,"Valor"),t.qZA()(),t.YNc(67,T,21,10,"tr",10),t.qZA()()()()(),t._UZ(68,"button",11)),2&e&&(t.xp6(7),t.Q6J("ngIf",!n.loading),t.xp6(1),t.Q6J("ngIf",n.loading),t.xp6(2),t.Q6J("loading",n.isLoading),t.xp6(6),t.hij(" ",n.product,""),t.xp6(4),t.hij(" ",n.supplier,""),t.xp6(5),t.hij(" ",n.code,""),t.xp6(4),t.hij(" ",n.localization,""),t.xp6(38),t.Q6J("ngForOf",n.kardex))},dependencies:[r.sg,r.O5,p.I,v.t,u.Hq,u.zx,g.FN],styles:["table[_ngcontent-%COMP%] {\n      border-collapse: collapse;\n      width: 100%;\n    }\n    \n    tr[_ngcontent-%COMP%] {\n      border-bottom: 1px solid #ddd;\n    }\n    .space[_ngcontent-%COMP%] {\n  width: 4px;\n  height: auto;\n  margin-left: 20px;\n}"]}),o})(),A=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[c.Bz.forChild([{path:"",component:U,canActivate:[h.j]}]),c.Bz]}),o})();var q=a(4891);let C=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[r.ez,A,p.K,q.E,u.hJ,g.EV]}),o})()}}]);