"use strict";(self.webpackChunksakai=self.webpackChunksakai||[]).push([[9707],{9707:(M,g,r)=>{r.r(g),r.d(g,{LoginModule:()=>U});var u=r(9808),m=r(4559),n=r(3075),e=r(5e3),h=r(8568),x=r(7083),Z=r(5384),p=r(845),f=r(1208),c=r(1424),v=r(8356),b=r(7116);function y(t,s){1&t&&(e.TgZ(0,"div"),e._UZ(1,"app-progress-bar"),e.qZA())}function T(t,s){1&t&&(e.TgZ(0,"p")(1,"FONT",24),e._uU(2,"Debe ingresar un email valido!!! "),e.qZA()())}function w(t,s){1&t&&(e.TgZ(0,"p")(1,"FONT",24),e._uU(2,"Debe ingresar una contrase\xf1a!!! "),e.qZA()())}function C(t,s){1&t&&(e.TgZ(0,"p")(1,"FONT",24),e._uU(2,"Debe ingresar una contrase\xf1a!!! "),e.qZA()())}let P=(()=>{class t{constructor(i,o,l,d,a){this.layoutService=i,this.userService=o,this.fb=l,this.eventService=d,this.router=a,this.loginForm=this.fb.group({email:["",[n.kI.required,n.kI.email]],password:["",[n.kI.required]]}),this.formPostedMessage="",this.formPosted=!1,this.formSend=!1,this.valCheck=["remember"],this.showProgressBar=!1}validate(i){var o;return this.formPostedMessage="",this.formPosted=!1,!(!(null===(o=this.loginForm.get(i))||void 0===o?void 0:o.invalid)||1!=this.formSend)}showErrorFormPosted(){return!!this.formPosted}login(){var i,o;if(this.formSend=!0,this.formPosted=!0,this.loginForm.valid){this.showProgressBar=!0;const l=null===(i=this.loginForm.get("email"))||void 0===i?void 0:i.value,d=null===(o=this.loginForm.get("password"))||void 0===o?void 0:o.value;this.userService.login(l,d).subscribe(a=>{a.data?(this.eventService.setToken(a.data.token),this.eventService.setHasEnterprise(a.data.hasEnterprise),this.eventService.setHasWareHouse(a.data.hasWareHouse),this.eventService.setHasPointOfSale(a.data.hasPointOfSale),this.eventService.setHasCorrelative(a.data.hasCorrelative),this.router.navigateByUrl("/")):(this.formPostedMessage=a.message,alert(a.message)),this.showProgressBar=!1},a=>{alert(a)})}}}return t.\u0275fac=function(i){return new(i||t)(e.Y36(h.P),e.Y36(x.K),e.Y36(n.qu),e.Y36(Z.P),e.Y36(m.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-login"]],decls:33,vars:8,consts:[[4,"ngIf"],[1,"form-horizontal","form-material",3,"formGroup","ngSubmit"],[1,"surface-0","flex","align-items-center","justify-content-center","min-h-screen","min-w-screen","overflow-hidden"],[1,"grid","justify-content-center","p-2","lg:p-0",2,"min-width","80%"],[1,"col-12","mt-5","xl:mt-0","text-center"],["alt","Sakai logo",1,"mb-5",2,"width","81px","height","60px",3,"src"],[1,"col-12","xl:col-6",2,"border-radius","56px","padding","0.3rem","background","linear-gradient(180deg, var(--primary-color) 10%, rgba(33, 150, 243, 0) 30%)"],[1,"h-full","w-full","m-0","py-7","px-4",2,"border-radius","53px","background","linear-gradient(180deg, var(--surface-50) 38.9%, var(--surface-0))"],[1,"text-center","mb-5"],[1,"text-900","text-3xl","font-medium","mb-3"],[1,"text-600","font-medium"],[1,"w-full","md:w-10","mx-auto"],["for","email1",1,"block","text-900","text-xl","font-medium","mb-2"],["matInput","","pInputText","","placeholder","Correo","type","text","formControlName","email",1,"w-full","mb-3",2,"padding","1rem"],["for","password1",1,"block","text-900","font-medium","text-xl","mb-2"],["id","password1","matInput","","formControlName","password","placeholder","Password","styleClass","w-full mb-3",3,"toggleMask"],[1,"flex","align-items-center","justify-content-between","mb-5"],[1,"flex","align-items-center"],["id","rememberme1","styleClass","mr-2",3,"binary"],["for","rememberme1"],[1,"font-medium","no-underline","ml-2","text-right","cursor-pointer",2,"color","var(--primary-color)"],[1,"row"],[1,"col","tex-danger"],["pButton","","pRipple","","label","Sign In",1,"w-full","p-3","text-xl"],["COLOR","red"]],template:function(i,o){1&i&&(e.YNc(0,y,2,0,"div",0),e.TgZ(1,"form",1),e.NdJ("ngSubmit",function(){return o.login()}),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4),e._UZ(5,"img",5),e.qZA(),e.TgZ(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9),e._uU(10,"Para ingresar al sistema de pruebas usar"),e.qZA(),e.TgZ(11,"span",10),e._uU(12,"Email: admin@admin.com Password:123"),e.qZA()(),e.TgZ(13,"div",11)(14,"label",12),e._uU(15,"Email"),e.qZA(),e._UZ(16,"input",13),e.TgZ(17,"label",14),e._uU(18,"Password"),e.qZA(),e._UZ(19,"p-password",15),e.TgZ(20,"div",16)(21,"div",17),e._UZ(22,"p-checkbox",18),e.TgZ(23,"label",19),e._uU(24,"Remember me"),e.qZA()(),e.TgZ(25,"a",20),e._uU(26,"Forgot password?"),e.qZA()(),e.TgZ(27,"div",21)(28,"div",22),e.YNc(29,T,3,0,"p",0),e.YNc(30,w,3,0,"p",0),e.YNc(31,C,3,0,"p",0),e.qZA()(),e._UZ(32,"button",23),e.qZA()()()()()()),2&i&&(e.Q6J("ngIf",o.showProgressBar),e.xp6(1),e.Q6J("formGroup",o.loginForm),e.xp6(4),e.MGl("src","assets/layout/images/","light"===o.layoutService.config.colorScheme?"logo-dark":"logo-white",".svg",e.LSH),e.xp6(14),e.Q6J("toggleMask",!0),e.xp6(3),e.Q6J("binary",!0),e.xp6(7),e.Q6J("ngIf",o.validate("email")),e.xp6(1),e.Q6J("ngIf",o.validate("password")),e.xp6(1),e.Q6J("ngIf",o.showErrorFormPosted()))},dependencies:[u.O5,p.Hq,f.XZ,c.o,n._Y,n.Fj,n.JJ,n.JL,v.ro,n.sg,n.u,b.R],styles:["[_nghost-%COMP%]     .p-password input{width:100%;padding:1rem}[_nghost-%COMP%]     .pi-eye{transform:scale(1.6);margin-right:1rem;color:var(--primary-color)!important}[_nghost-%COMP%]     .pi-eye-slash{transform:scale(1.6);margin-right:1rem;color:var(--primary-color)!important}"]}),t})(),S=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[m.Bz.forChild([{path:"",component:P}]),m.Bz]}),t})();var F=r(520),L=r(7040);let U=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[u.ez,S,p.hJ,f.nD,c.j,n.u5,v.gz,n.UX,F.JF,L.E]}),t})()}}]);